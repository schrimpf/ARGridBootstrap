<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paul Schrimpf">
<meta name="dcterms.date" content="2023-10-09">

<title>ARGridBootstrap - Coding for Performance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ARGridBootstrap</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Package Documentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./argridboot.html" rel="" target="">
 <span class="menu-text">Coding for Performance</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./threads.html" rel="" target="">
 <span class="menu-text">Multi-Threading</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./gpu.html" rel="" target="">
 <span class="menu-text">Using GPUs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./assignment.html" rel="" target="" aria-current="page">
 <span class="menu-text">More Examples</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./license.html" rel="" target="">
 <span class="menu-text">License</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#share" id="toc-share" class="nav-link active" data-scroll-target="#share"><code>share</code></a>
  <ul class="collapse">
  <li><a href="#initial-benchmark" id="toc-initial-benchmark" class="nav-link" data-scroll-target="#initial-benchmark">Initial Benchmark</a></li>
  <li><a href="#loopvectorization" id="toc-loopvectorization" class="nav-link" data-scroll-target="#loopvectorization">LoopVectorization</a></li>
  <li><a href="#staticarrays" id="toc-staticarrays" class="nav-link" data-scroll-target="#staticarrays">StaticArrays</a></li>
  <li><a href="#non-allocating" id="toc-non-allocating" class="nav-link" data-scroll-target="#non-allocating">Non-allocating</a></li>
  </ul></li>
  <li><a href="#statparts" id="toc-statparts" class="nav-link" data-scroll-target="#statparts"><code>statparts</code></a>
  <ul class="collapse">
  <li><a href="#initial-benchmark-1" id="toc-initial-benchmark-1" class="nav-link" data-scroll-target="#initial-benchmark-1">Initial Benchmark</a></li>
  <li><a href="#fixing-type-instabilities" id="toc-fixing-type-instabilities" class="nav-link" data-scroll-target="#fixing-type-instabilities">Fixing Type Instabilities</a></li>
  <li><a href="#reducing-allocations-and-other-optimizations" id="toc-reducing-allocations-and-other-optimizations" class="nav-link" data-scroll-target="#reducing-allocations-and-other-optimizations">Reducing allocations and Other Optimizations</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Coding for Performance</h1>
<p class="subtitle lead">4: More Examples</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paul Schrimpf </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 9, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>For the assignment, most students focused on optimizing either the <a href="https://github.com/ubcecon/ECON622_BLP.jl/blob/01fbfd6547ba789b38ccc7252de38a0e2f4188ee/src/blp.jl#L24"><code>share</code> function</a> from our earlier BLP example, or the <a href="https://github.com/schrimpf/GMMInference.jl/blob/9f850d176001e9650b24fe33a7bf14692a817c69/src/HypothesisTests/CLR_KLM.jl#L32"><code>statparts</code> function from GMMInference</a>.</p>
<p>Let’s see how we can improve these functions’ performance.</p>
<section id="share" class="level1">
<h1><code>share</code></h1>
<p>Here’s a copy of the original version of the share function</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span>, <span class="bu">Distributions</span>, <span class="bu">Random</span>, <span class="bu">BenchmarkTools</span>, <span class="bu">Profile</span>, <span class="bu">ProfileCanvas</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">share</span>(δ, Σ, x, ∫)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  J,K <span class="op">=</span> <span class="fu">size</span>(x)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">length</span>(δ) <span class="op">==</span> J) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"length(δ)=</span><span class="sc">$</span>(<span class="fu">length</span>(δ))<span class="st"> != size(x,1)=</span><span class="sc">$</span>J<span class="st">"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  (K,K) <span class="op">==</span> <span class="fu">size</span>(Σ) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"size(x,2)=</span><span class="sc">$</span>K<span class="st"> != size(Σ)=</span><span class="sc">$</span>(<span class="fu">size</span>(Σ))<span class="st">"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">shareν</span>(ν)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> δ <span class="op">.+</span> x<span class="op">*</span>Σ<span class="op">*</span>ν</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    smax<span class="op">=</span><span class="fu">max</span>(<span class="fl">0</span>,<span class="fu">maximum</span>(s))</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    s <span class="op">.-=</span> smax</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    s <span class="op">.=</span> <span class="fu">exp</span>.(s)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    s <span class="op">./=</span> (<span class="fu">sum</span>(s) <span class="op">+</span> <span class="fu">exp</span>(<span class="fl">0</span><span class="op">-</span>smax))</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(s)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(<span class="fu">∫</span>(shareν))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>share (generic function with 1 method)</code></pre>
<p>and a simple function for the integral.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Integrator{Tx, Tw}</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">::</span><span class="dt">Tx</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    w<span class="op">::</span><span class="dt">Tw</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Integrator</span>(dx<span class="op">::</span><span class="dt">Distribution</span>, n<span class="op">=</span><span class="fl">100</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="fu">rand</span>(dx) for _ <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n]</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    w <span class="op">=</span> <span class="bu">Base</span>.<span class="bu">Iterators</span>.<span class="fu">Repeated</span>(<span class="fl">1</span><span class="op">/</span>n)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Integrator</span>(x,w)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>(∫<span class="op">::</span><span class="dt">Integrator</span>)(f) <span class="op">=</span> <span class="fu">sum</span>((xw)<span class="fu">-&gt;f</span>(xw[<span class="fl">1</span>])<span class="op">*</span>xw[<span class="fl">2</span>], <span class="fu">zip</span>(∫.x, ∫.w))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For simplicity and to focus on the share function, we just use Monte Carlo integration since its easy to implement, but we could get more accuracy by using quasi monte carlo or quadrature.</p>
<section id="initial-benchmark" class="level2">
<h2 class="anchored" data-anchor-id="initial-benchmark">Initial Benchmark</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>J <span class="op">=</span> <span class="fl">10</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>K <span class="op">=</span> <span class="fl">5</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>δ <span class="op">=</span> <span class="fu">rand</span>(J)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> <span class="fu">randn</span>(J,K)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>Σ <span class="op">=</span> I <span class="op">+</span> <span class="fu">zeros</span>(K,K)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>∫ <span class="op">=</span> <span class="fu">Integrator</span>(<span class="fu">MvNormal</span>(<span class="fu">zeros</span>(K),I));</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share</span>(δ,Σ,X,∫)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  44.071 μs …   5.509 ms  ┊ GC (min … max):  0.00% … 97.
86%
 Time  (median):     55.245 μs               ┊ GC (median):     0.00%
 Time  (mean ± σ):   64.199 μs ± 184.711 μs  ┊ GC (mean ± σ):  10.26% ±  3.
53%

         ▁▂▂▄▆██▇▆▇▇▇▆▄▄▃▁  ▁  ▁▁  ▁ ▁▁    ▁▂▁▁  ▁▁▁▁▁▁▁ ▁     ▃
  ▇█▇▆▇████████████████████▇██████████████████████████████▇▇▆▆ █
  44.1 μs       Histogram: log(frequency) by time        87 μs &lt;

 Memory estimate: 65.48 KiB, allocs estimate: 499.</code></pre>
<p>Profiling it:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Profile</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Profile</span>.<span class="fu">clear</span>();</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Profile</span>.<span class="fu">init</span>(n<span class="op">=</span><span class="fl">10</span><span class="op">^</span><span class="fl">7</span>,delay<span class="op">=</span><span class="fl">0.00001</span>);</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="pp">@profile</span> <span class="fu">sum</span>(<span class="fu">share</span>(δ,Σ,X,∫) <span class="cf">for</span> i <span class="op">∈</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">profilehtmlstring</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="profiler-container-94730" style="height: 400px; position: relative;">

</div>
<script type="module">
    const ProfileCanvas = await import('data:text/javascript;base64,ZXhwb3J0IGNsYXNzIFByb2ZpbGVWaWV3ZXIgewogICAgY29uc3RydWN0b3IoZWxlbWVudCwgZGF0YSwgc2VsZWN0b3JMYWJlbCkgewogICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IFtdOwogICAgICAgIHRoaXMub2Zmc2V0WCA9IDA7CiAgICAgICAgdGhpcy5vZmZzZXRZID0gMDsKICAgICAgICB0aGlzLmlzV2hlZWxpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmNhbldoZWVsRG93biA9IHRydWU7CiAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgdGhpcy5pc1Jlc2l6aW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0RvY3VtZW50U2Nyb2xsaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc01vdXNlTW92ZSA9IGZhbHNlOwogICAgICAgIHRoaXMuc2NhbGUgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICB0aGlzLmJvcmRlcldpZHRoID0gMjsKICAgICAgICB0aGlzLnBhZGRpbmcgPSAyOwogICAgICAgIHRoaXMuZm9udENvbmZpZyA9ICcxMHB4IHNhbnMtc2VyaWYnOwogICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAnI2ZmZic7CiAgICAgICAgdGhpcy5zZWxlY3RvckxhYmVsID0gJ1RocmVhZCc7CiAgICAgICAgdGhpcy5ib3hIZWlnaHQgPSAyNDsKICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlOwogICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGFyZW50IGVsZW1lbnQgc3BlY2lmaWVkLicpOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGVsZW1lbnQ7CiAgICAgICAgaWYgKHNlbGVjdG9yTGFiZWwpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RvckxhYmVsID0gc2VsZWN0b3JMYWJlbDsKICAgICAgICB9CiAgICAgICAgdGhpcy5pbnNlcnRET00oKTsKICAgICAgICB0aGlzLmdldFN0eWxlcygpOwogICAgICAgIHRoaXMucmVnaXN0ZXJSZXNpemVPYnNlcnZlcigpOwogICAgICAgIHRoaXMucmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcigpOwogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuc2V0RGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5nZXRPZmZzZXQoKTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhbmQgYWRkZWQgY2hpbGQgZWxlbWVudHMuIFRoZSBnbG9iYWwgc3R5bGVzaGVldAogICAgICogaXMgb25seSByZW1vdmVkIGlmIHRoaXMgaXMgdGhlIGxhc3QgcmVmZXJlbmNlIHRvIGl0IChpLmUuIHRoZXJlIGFyZSBubwogICAgICogb3RoZXIgbm90LWRlc3Ryb3llZCBQcm9maWxlVmlld2VyIGluc3RhbmNlcyBpbiB0aGUgRE9NKS4KICAgICAqLwogICAgZGVzdHJveSgpIHsKICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7CiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsSGFuZGxlcikgewogICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0ICYmIHBhcnNlSW50KHRoaXMuc3R5bGVzaGVldC5kYXRhc2V0LnJlZmVyZW5jZXMpID09PSAwKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQodGhpcy5zdHlsZXNoZWV0KTsKICAgICAgICB9CiAgICAgICAgd2hpbGUgKHRoaXMuY29udGFpbmVyLmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIubGFzdENoaWxkKTsKICAgICAgICB9CiAgICB9CiAgICBzZXREYXRhKGRhdGEpIHsKICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhpcyBwcm9maWxlIHZpZXdlciBpcyBkZXN0cm95ZWQuJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBzZWxlY3Rpb25zID0gT2JqZWN0LmtleXMoZGF0YSk7CiAgICAgICAgc2VsZWN0aW9ucy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgIGlmIChhID09PSAnYWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChiID09PSAnYWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGEgPCBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGEgPiBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHNlbGVjdGlvbnM7CiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25zWzBdOwogICAgICAgIHRoaXMuYWN0aXZlTm9kZSA9IHRoaXMuZGF0YVt0aGlzLmN1cnJlbnRTZWxlY3Rpb25dOwogICAgICAgIHRoaXMudXBkYXRlRmlsdGVyKCk7CiAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgIH0KICAgIHNldFNlbGVjdG9yTGFiZWwobGFiZWwpIHsKICAgICAgICB0aGlzLnNlbGVjdG9yTGFiZWwgPSBsYWJlbDsKICAgICAgICB0aGlzLnNlbGVjdG9yTGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IGAke2xhYmVsfTogYDsKICAgIH0KICAgIHJlZ2lzdGVyQ3RybENsaWNrSGFuZGxlcihmKSB7CiAgICAgICAgdGhpcy5jdHJsQ2xpY2tIYW5kbGVyID0gZjsKICAgIH0KICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQgVXNlIGByZWdpc3RlclNlbGVjdGlvbkhhbmRsZXJgIGluc3RlYWQuCiAgICAgKi8KICAgIHJlZ2lzdGVyVGhyZWFkU2VsZWN0b3JIYW5kbGVyKGYpIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBmOwogICAgfQogICAgcmVnaXN0ZXJTZWxlY3Rpb25IYW5kbGVyKGYpIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBmOwogICAgfQogICAgcmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcigpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgfQogICAgY2xlYXIoKSB7CiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gW107CiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gJyc7CiAgICAgICAgdGhpcy5hY3RpdmVOb2RlID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgfQogICAgaXNEZXN0cm95ZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVzdHJveWVkOwogICAgfQogICAgZ2V0U3R5bGVzKCkgewogICAgICAgIHZhciBfYSwgX2IsIF9jOwogICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIsIG51bGwpOwogICAgICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5OwogICAgICAgIGNvbnN0IGZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7CiAgICAgICAgdGhpcy5mb250Q29uZmlnID0KICAgICAgICAgICAgcGFyc2VJbnQoZm9udFNpemUgIT09IG51bGwgJiYgZm9udFNpemUgIT09IHZvaWQgMCA/IGZvbnRTaXplIDogJzEycHgnLCAxMCkgKiB0aGlzLnNjYWxlICsKICAgICAgICAgICAgICAgICdweCAnICsKICAgICAgICAgICAgICAgIChmb250RmFtaWx5ICE9PSBudWxsICYmIGZvbnRGYW1pbHkgIT09IHZvaWQgMCA/IGZvbnRGYW1pbHkgOiAnc2Fucy1zZXJpZicpOwogICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAoX2EgPSBzdHlsZS5jb2xvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyMwMDAnOwogICAgICAgIHRoaXMuY2FudmFzQ3R4LmZvbnQgPSB0aGlzLmZvbnRDb25maWc7CiAgICAgICAgdGhpcy5jYW52YXNDdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CiAgICAgICAgY29uc3QgdGV4dE1ldHJpY3MgPSB0aGlzLmNhbnZhc0N0eC5tZWFzdXJlVGV4dCgnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXFxdKlwnIl5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Jyk7CiAgICAgICAgdGhpcy5ib3hIZWlnaHQgPSBNYXRoLmNlaWwoKCgoX2IgPSB0ZXh0TWV0cmljcy5mb250Qm91bmRpbmdCb3hEZXNjZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpICsKICAgICAgICAgICAgKChfYyA9IHRleHRNZXRyaWNzLmZvbnRCb3VuZGluZ0JveEFzY2VudCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQpICsKICAgICAgICAgICAgMiAqIHRoaXMuYm9yZGVyV2lkdGggKwogICAgICAgICAgICAyICogdGhpcy5wYWRkaW5nKSAqCiAgICAgICAgICAgIHRoaXMuc2NhbGUpOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgICAgICB9CiAgICB9CiAgICByZWRyYXcoKSB7CiAgICAgICAgdGhpcy5jYW5XaGVlbERvd24gPSBmYWxzZTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgIHRoaXMuZHJhd0dyYXBoKHRoaXMuYWN0aXZlTm9kZSwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIDAsIHRoaXMuc2Nyb2xsUG9zaXRpb24pOwogICAgfQogICAgaW5zZXJ0RE9NKCkgewogICAgICAgIHRoaXMuaW5zZXJ0U3R5bGVzaGVldCgpOwogICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgdGhpcy5jYW52YXMuY2xhc3NMaXN0LmFkZCgnX19wcm9maWxlci1jYW52YXMnKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIHRoaXMuaG92ZXJDYW52YXMuY2xhc3NMaXN0LmFkZCgnX19wcm9maWxlci1ob3Zlci1jYW52YXMnKTsKICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4ID0gdGhpcy5ob3ZlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnN0IGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLWNhbnZhcy1jb250YWluZXInKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmhvdmVyQ2FudmFzKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUb29sdGlwKCkpOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRmlsdGVyQ29udGFpbmVyKCkpOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhc0NvbnRhaW5lcik7CiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCAoZXYpID0+IHsKICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXYuZGVsdGFZID4gMCAmJiAhdGhpcy5jYW5XaGVlbERvd24pIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXYuZGVsdGFZIDwgMCAmJiB0aGlzLnNjcm9sbFBvc2l0aW9uID09PSAwKSB7CiAgICAgICAgICAgICAgICBpZiAoLWV2LmRlbHRhWSA+IHRoaXMuYm94SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5maW5kUGFyZW50Tm9kZSh0aGlzLmFjdGl2ZU5vZGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSBwYXJlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2hlZWxpbmcpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSBNYXRoLm1pbigwLCB0aGlzLnNjcm9sbFBvc2l0aW9uIC0gZXYuZGVsdGFZKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZHJhdygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNXaGVlbGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmlzV2hlZWxpbmcgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2KSA9PiB7CiAgICAgICAgICAgIGlmICghdGhpcy5pc01vdXNlTW92ZSAmJiB0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIFhYWDogdGhpcyBpcyBiYWQKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE9mZnNldCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlWCA9IGV2LmNsaWVudFggLSB0aGlzLm9mZnNldFg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2VZID0gZXYuY2xpZW50WSAtIHRoaXMub2Zmc2V0WTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlkRHJhdyA9IHRoaXMuZHJhd0hvdmVyKHRoaXMuYWN0aXZlTm9kZSwgdGhpcy5zY2FsZSAqIG1vdXNlWCwgdGhpcy5zY2FsZSAqIG1vdXNlWSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZERyYXcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlWCA+IHRoaXMuY2FudmFzV2lkdGhDU1MgLyAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LnN0eWxlLnJpZ2h0ID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1dpZHRoQ1NTIC0gbW91c2VYICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUucmlnaHQgPSAndW5zZXQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5zdHlsZS5sZWZ0ID0gbW91c2VYICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZVkgPiB0aGlzLmNhbnZhc0hlaWdodENTUyAvIDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuYm90dG9tID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodENTUyAtIG1vdXNlWSArIDEwICsgJ3B4JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUudG9wID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuYm90dG9tID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUudG9wID0gbW91c2VZICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU1vdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlTW92ZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlTm9kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB0aGlzLmdldE9mZnNldCgpOwogICAgICAgICAgICBjb25zdCBtb3VzZVggPSB0aGlzLnNjYWxlICogKGV2LmNsaWVudFggLSB0aGlzLm9mZnNldFgpOwogICAgICAgICAgICBjb25zdCBtb3VzZVkgPSB0aGlzLnNjYWxlICogKGV2LmNsaWVudFkgLSB0aGlzLm9mZnNldFkpOwogICAgICAgICAgICBpZiAoZXYuY3RybEtleSB8fCBldi5tZXRhS2V5KSB7CiAgICAgICAgICAgICAgICB0aGlzLnJ1bk9uTm9kZUF0TW91c2VQb3NpdGlvbih0aGlzLmFjdGl2ZU5vZGUsIG1vdXNlWCwgbW91c2VZLCAobm9kZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN0cmxDbGlja0hhbmRsZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHJsQ2xpY2tIYW5kbGVyKG5vZGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuem9vbUluT25Ob2RlKHRoaXMuYWN0aXZlTm9kZSwgbW91c2VYLCBtb3VzZVkpKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2LmRldGFpbCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IG9uIGRvdWJsZS1jbGljawogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRWaWV3KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICAgIHJlc2V0VmlldygpIHsKICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSB0aGlzLmRhdGFbdGhpcy5jdXJyZW50U2VsZWN0aW9uXTsKICAgICAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gMDsKICAgICAgICB0aGlzLnJlZHJhdygpOwogICAgfQogICAgaW5zZXJ0U3R5bGVzaGVldCgpIHsKICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI19fcHJvZmlsZXJfc3R5bGVzaGVldCcpOwogICAgICAgIGlmIChzdHlsZXNoZWV0KSB7CiAgICAgICAgICAgIHN0eWxlc2hlZXQuZGF0YXNldC5yZWZlcmVuY2VzID0gKHBhcnNlSW50KHN0eWxlc2hlZXQuZGF0YXNldC5yZWZlcmVuY2VzKSArIDEpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldCA9IHN0eWxlc2hlZXQ7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKCdpZCcsICdfX3Byb2ZpbGVyLXN0eWxlc2hlZXQnKTsKICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmRhdGFzZXQucmVmZXJlbmNlcyA9ICcwJzsKICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmlubmVyVGV4dCA9IGAKICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLWNhbnZhcyB7CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMDsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuX19wcm9maWxlci1jYW52YXMtY29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLl9fcHJvZmlsZXItaG92ZXItY2FudmFzIHsKICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLXRvb2x0aXAgewogICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDI7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsKICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsKICAgICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDQ1JTsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLl9fcHJvZmlsZXItdG9vbHRpcCA+IGRpdiB7CiAgICAgICAgICAgICAgICAgICAgbGluZS1icmVhazogYW55d2hlcmU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuX19wcm9maWxlci1maWx0ZXIgewogICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHggMTZweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzQ0NDsKICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLXJlc2V0IHsKICAgICAgICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZXNoZWV0KTsKICAgICAgICB9CiAgICB9CiAgICBjcmVhdGVUb29sdGlwKCkgewogICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ19fcHJvZmlsZXItdG9vbHRpcCcpOwogICAgICAgIHRoaXMudG9vbHRpcCA9IHsKICAgICAgICAgICAgY291bnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSwKICAgICAgICAgICAgcGVyY2VudGFnZTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLAogICAgICAgICAgICBmdW5jdGlvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpLAogICAgICAgICAgICBmaWxlOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksCiAgICAgICAgICAgIGZsYWdzOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksCiAgICAgICAgfTsKICAgICAgICB0aGlzLnRvb2x0aXAuZnVuY3Rpb24uY2xhc3NMaXN0LmFkZCgnZm5hbWUnKTsKICAgICAgICBjb25zdCByb3dzID0gWwogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZ1bmN0aW9uXSwKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgdGhpcy50b29sdGlwLmNvdW50LAogICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJyAoJyksCiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAucGVyY2VudGFnZSwKICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcpICcpLAogICAgICAgICAgICBdLAogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZpbGVdLAogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZsYWdzXSwKICAgICAgICBdOwogICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHsKICAgICAgICAgICAgY29uc3Qgcm93Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGZvciAoY29uc3QgY29sIG9mIHJvdykgewogICAgICAgICAgICAgICAgcm93Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5hcHBlbmRDaGlsZChyb3dDb250YWluZXIpOwogICAgICAgIH0KICAgICAgICB0aGlzLnRvb2x0aXBbJ2N0cmxDbGlja0hpbnQnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJyk7CiAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBbJ2N0cmxDbGlja0hpbnQnXSk7CiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwRWxlbWVudCk7CiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcEVsZW1lbnQ7CiAgICB9CiAgICBjcmVhdGVGaWx0ZXJDb250YWluZXIoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLmZpbHRlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLWZpbHRlcicpOwogICAgICAgIHRoaXMuc2VsZWN0b3JMYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOwogICAgICAgIHRoaXMuc2VsZWN0b3JMYWJlbEVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7dGhpcy5zZWxlY3RvckxhYmVsfTogYDsKICAgICAgICB0aGlzLmZpbHRlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdG9yTGFiZWxFbGVtZW50KTsKICAgICAgICB0aGlzLmZpbHRlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgdGhpcy5maWx0ZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbiA9IHRoaXMuZmlsdGVySW5wdXQudmFsdWU7CiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlcih0aGlzLmN1cnJlbnRTZWxlY3Rpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucmVzZXRWaWV3KCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5maWx0ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5maWx0ZXJJbnB1dCk7CiAgICAgICAgY29uc3QgcmVzZXR0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICByZXNldHRlci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLXJlc2V0Jyk7CiAgICAgICAgcmVzZXR0ZXIuaW5uZXJUZXh0ID0gJ3Jlc2V0IHZpZXcnOwogICAgICAgIHJlc2V0dGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLnJlc2V0VmlldygpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZmlsdGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlc2V0dGVyKTsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJDb250YWluZXI7CiAgICB9CiAgICB1cGRhdGVGaWx0ZXIoKSB7CiAgICAgICAgd2hpbGUgKHRoaXMuZmlsdGVySW5wdXQuZmlyc3RDaGlsZCkgewogICAgICAgICAgICB0aGlzLmZpbHRlcklucHV0LnJlbW92ZUNoaWxkKHRoaXMuZmlsdGVySW5wdXQubGFzdENoaWxkKTsKICAgICAgICB9CiAgICAgICAgZm9yIChjb25zdCBzZWxlY3Rpb24gb2YgdGhpcy5zZWxlY3Rpb25zKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgIGVudHJ5LmlubmVyVGV4dCA9IHNlbGVjdGlvbjsKICAgICAgICAgICAgZW50cnkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHNlbGVjdGlvbik7CiAgICAgICAgICAgIHRoaXMuZmlsdGVySW5wdXQuYXBwZW5kQ2hpbGQoZW50cnkpOwogICAgICAgIH0KICAgIH0KICAgIHJlZ2lzdGVyUmVzaXplT2JzZXJ2ZXIoKSB7CiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMuaXNSZXNpemluZykgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gdGhpcy5jb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gIT09IHRoaXMuc2NhbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdHlsZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSBNYXRoLnJvdW5kKGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoICogdGhpcy5zY2FsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IE1hdGgucm91bmQoKGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodCAtIDMwKSAqIHRoaXMuc2NhbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNXaWR0aENTUyA9IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNIZWlnaHRDU1MgPSBlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJDYW52YXMud2lkdGggPSB0aGlzLmNhbnZhc1dpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVzaXppbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5pc1Jlc2l6aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNvbnRhaW5lcik7CiAgICB9CiAgICBzY3JvbGxIYW5kbGVyKGUpIHsKICAgICAgICBpZiAoIXRoaXMuaXNEb2N1bWVudFNjcm9sbGluZykgewogICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0T2Zmc2V0KCk7CiAgICAgICAgICAgICAgICB0aGlzLmlzRG9jdW1lbnRTY3JvbGxpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuaXNEb2N1bWVudFNjcm9sbGluZyA9IHRydWU7CiAgICAgICAgfQogICAgfQogICAgZ2V0T2Zmc2V0KCkgewogICAgICAgIGNvbnN0IGJveCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHRoaXMub2Zmc2V0WCA9IGJveC5sZWZ0OwogICAgICAgIHRoaXMub2Zmc2V0WSA9IGJveC50b3A7CiAgICB9CiAgICAvLyBoYXNoIG9mIGZ1bmN0aW9uIG5hbWVkLCB1c2VkIHRvIHNlZWQgUFJORwogICAgbm9kZUhhc2gobm9kZSkgewogICAgICAgIGNvbnN0IGhhc2hTdHJpbmcgPSBub2RlLmZpbGUgKyBub2RlLmxpbmU7CiAgICAgICAgbGV0IGhhc2ggPSAwOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGFzaFN0cmluZy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBjaGFyID0gaGFzaFN0cmluZy5jaGFyQ29kZUF0KGkpOwogICAgICAgICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjsKICAgICAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaGFzaDsKICAgIH0KICAgIC8vIFNpbXBsZSBQUk5HIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ3NTkzMzE2LzEyMTEzMTc4CiAgICBtdWxiZXJyeTMyKGEpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgdCA9IChhICs9IDB4NmQyYjc5ZjUpOwogICAgICAgICAgICB0ID0gTWF0aC5pbXVsKHQgXiAodCA+Pj4gMTUpLCB0IHwgMSk7CiAgICAgICAgICAgIHQgXj0gdCArIE1hdGguaW11bCh0IF4gKHQgPj4+IDcpLCB0IHwgNjEpOwogICAgICAgICAgICByZXR1cm4gKCh0IF4gKHQgPj4+IDE0KSkgPj4+IDApIC8gNDI5NDk2NzI5NjsKICAgICAgICB9OwogICAgfQogICAgLy8gbW9kaWZpZXMgdGhlIG5vcm1hbCBjb2xvciBieSB0aHJlZSBzdGFibGUgcmFuZG9tIHZhbHVlcyBkcmF3biBmcm9tIGEKICAgIC8vIFBSTkcgc2VlZGVkIGJ5IHRoZSBub2RlIGhhc2gKICAgIG1vZGlmeU5vZGVDb2xvckJ5SGFzaChyLCBnLCBiLCBoYXNoLCByYW5nZSA9IDcwKSB7CiAgICAgICAgY29uc3Qgcm5nID0gdGhpcy5tdWxiZXJyeTMyKGhhc2gpOwogICAgICAgIGlmIChyID09PSBnICYmIGcgPT09IGIpIHsKICAgICAgICAgICAgciA9IGcgPSBiID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCByICsgKHJuZygpIC0gMC41KSAqIHJhbmdlKSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCByICsgKHJuZygpIC0gMC41KSAqIHJhbmdlKSk7CiAgICAgICAgICAgIGcgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGcgKyAocm5nKCkgLSAwLjUpICogcmFuZ2UpKTsKICAgICAgICAgICAgYiA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgYiArIChybmcoKSAtIDAuNSkgKiByYW5nZSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICByLAogICAgICAgICAgICBnLAogICAgICAgICAgICBiLAogICAgICAgIH07CiAgICB9CiAgICBub2RlQ29sb3JzKG5vZGUsIGhhc2gpIHsKICAgICAgICBsZXQgciwgZywgYjsKICAgICAgICBsZXQgYSA9IDE7CiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAweDAxKSB7CiAgICAgICAgICAgIC8vIHJ1bnRpbWUtZGlzcGF0Y2gKICAgICAgICAgICAgOwogICAgICAgICAgICAoeyByLCBnLCBiIH0gPSB0aGlzLm1vZGlmeU5vZGVDb2xvckJ5SGFzaCgyMDQsIDEwMywgMTAzLCBoYXNoLCAyMCkpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChub2RlLmZsYWdzICYgMHgwMikgewogICAgICAgICAgICAvLyBnYwogICAgICAgICAgICA7CiAgICAgICAgICAgICh7IHIsIGcsIGIgfSA9IHRoaXMubW9kaWZ5Tm9kZUNvbG9yQnlIYXNoKDIwNCwgMTUzLCA2OCwgaGFzaCwgMjApKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobm9kZS5mbGFncyAmIDB4MDgpIHsKICAgICAgICAgICAgLy8gY29tcGlsYXRpb24/CiAgICAgICAgICAgIDsKICAgICAgICAgICAgKHsgciwgZywgYiB9ID0gdGhpcy5tb2RpZnlOb2RlQ29sb3JCeUhhc2goMTAwLCAxMDAsIDEwMCwgaGFzaCwgNjApKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIGRlZmF1bHQKICAgICAgICAgICAgOwogICAgICAgICAgICAoeyByLCBnLCBiIH0gPSB0aGlzLm1vZGlmeU5vZGVDb2xvckJ5SGFzaCg2NCwgOTksIDIyMSwgaGFzaCkpOwogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MTApIHsKICAgICAgICAgICAgLy8gQyBmcmFtZQogICAgICAgICAgICBhID0gMC41OwogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaWxsOiAncmdiYSgnICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgYSArICcpJywKICAgICAgICAgICAgc3Ryb2tlOiAncmdiYSgnICsgMC44ICogciArICcsJyArIDAuOCAqIGcgKyAnLCcgKyAwLjggKiBiICsgJywnICsgYSArICcpJywKICAgICAgICAgICAgdGV4dDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgJyArIE1hdGgubWF4KDAuNiwgYSkgKyAnKScsCiAgICAgICAgfTsKICAgIH0KICAgIGRyYXdHcmFwaChub2RlLCB3aWR0aCwgaGVpZ2h0LCB4LCB5KSB7CiAgICAgICAgaWYgKCFub2RlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jYW52YXNDdHguZm9udCA9IHRoaXMuZm9udENvbmZpZzsKICAgICAgICB0aGlzLmNhbnZhc0N0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgICBpZiAoeSArIHRoaXMuYm94SGVpZ2h0ID49IDApIHsKICAgICAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMubm9kZUhhc2gobm9kZSk7CiAgICAgICAgICAgIGNvbnN0IHsgZmlsbCwgc3Ryb2tlLCB0ZXh0IH0gPSB0aGlzLm5vZGVDb2xvcnMobm9kZSwgaGFzaCk7CiAgICAgICAgICAgIHRoaXMuZHJhd05vZGUobm9kZS5mdW5jLCBmaWxsLCBzdHJva2UsIHRleHQsIHdpZHRoLCB4LCB5KTsKICAgICAgICB9CiAgICAgICAgbm9kZS5wb3MgPSB7CiAgICAgICAgICAgIHgsCiAgICAgICAgICAgIHksCiAgICAgICAgICAgIHdpZHRoLAogICAgICAgICAgICBoZWlnaHQ6IHRoaXMuYm94SGVpZ2h0LAogICAgICAgIH07CiAgICAgICAgaWYgKHkgKyB0aGlzLmJveEhlaWdodCA8PSB0aGlzLmNhbnZhc0hlaWdodCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgIGNvbnN0IHcgPSB3aWR0aCAqIChjaGlsZC5mcmFjdGlvbiB8fCBjaGlsZC5jb3VudCAvIG5vZGUuY291bnQpOwogICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JhcGgoY2hpbGQsIHcsIGhlaWdodCwgeCwgeSArIHRoaXMuYm94SGVpZ2h0KTsKICAgICAgICAgICAgICAgIHggKz0gdzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jYW5XaGVlbERvd24gPSB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIGRyYXdOb2RlKHRleHQsIGNvbG9yLCBiQ29sb3IsIHRleHRDb2xvciwgd2lkdGgsIHgsIHkpIHsKICAgICAgICBpZiAod2lkdGggPCAxKSB7CiAgICAgICAgICAgIHdpZHRoID0gMTsKICAgICAgICB9CiAgICAgICAgY29uc3QgZHJhd0JvcmRlciA9IGZhbHNlOyAvL3dpZHRoID4gMjAqdGhpcy5ib3JkZXJXaWR0aDsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5yZWN0KHgsIHkgKyB0aGlzLmJvcmRlcldpZHRoLCB3aWR0aCwgdGhpcy5ib3hIZWlnaHQgLSB0aGlzLmJvcmRlcldpZHRoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsKCk7CiAgICAgICAgaWYgKGRyYXdCb3JkZXIpIHsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbFN0eWxlID0gYkNvbG9yOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgucmVjdCh4LCB5ICsgdGhpcy5ib3JkZXJXaWR0aCwgdGhpcy5ib3JkZXJXaWR0aCwgdGhpcy5ib3hIZWlnaHQgLSB0aGlzLmJvcmRlcldpZHRoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xvc2VQYXRoKCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gd2lkdGggLSAyICogdGhpcy5wYWRkaW5nIC0gMiAqIHRoaXMuYm9yZGVyV2lkdGg7CiAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwKSB7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnNhdmUoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnJlY3QoeCArIHRoaXMuYm9yZGVyV2lkdGggKyB0aGlzLnBhZGRpbmcsIHkgKyB0aGlzLmJvcmRlcldpZHRoICsgdGhpcy5wYWRkaW5nLCB0ZXh0V2lkdGgsIHRoaXMuYm94SGVpZ2h0IC0gdGhpcy5ib3JkZXJXaWR0aCAtIDIgKiB0aGlzLnBhZGRpbmcpOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xpcCgpOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSB0ZXh0Q29sb3I7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGxUZXh0KHRleHQsIHggKyB0aGlzLmJvcmRlcldpZHRoICsgdGhpcy5wYWRkaW5nLCB5ICsgdGhpcy5ib3hIZWlnaHQgLyAyICsgdGhpcy5ib3JkZXJXaWR0aCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICB9CiAgICB1cGRhdGVUb29sdGlwKG5vZGUpIHsKICAgICAgICB0aGlzLnRvb2x0aXAuZnVuY3Rpb24uaW5uZXJUZXh0ID0gbm9kZS5mdW5jOwogICAgICAgIGlmIChub2RlLmZpbGUgfHwgbm9kZS5saW5lID4gMCkgewogICAgICAgICAgICB0aGlzLnRvb2x0aXAuZmlsZS5pbm5lclRleHQgPSBub2RlLmZpbGUgKyAnOicgKyBub2RlLmxpbmU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnRvb2x0aXAuZmlsZS5pbm5lclRleHQgPSAnJzsKICAgICAgICB9CiAgICAgICAgdGhpcy50b29sdGlwLmNvdW50LmlubmVyVGV4dCA9IChub2RlLmNvdW50TGFiZWwgfHwgKG5vZGUuY291bnQgKyAnIHNhbXBsZXMnKSkudG9TdHJpbmcoKTsKICAgICAgICBsZXQgcGVyY2VudGFnZVRleHQgPSAoKDEwMCAqIG5vZGUuY291bnQpIC8KICAgICAgICAgICAgdGhpcy5kYXRhW3RoaXMuY3VycmVudFNlbGVjdGlvbl0uY291bnQpLnRvRml4ZWQoKSArICclIG9mIHJvb3QnOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZU5vZGUuY291bnQgIT0gdGhpcy5kYXRhW3RoaXMuY3VycmVudFNlbGVjdGlvbl0uY291bnQpIHsKICAgICAgICAgICAgcGVyY2VudGFnZVRleHQgPSBwZXJjZW50YWdlVGV4dCArICcsICcgKyAoKDEwMCAqIG5vZGUuY291bnQpIC8KICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTm9kZS5jb3VudCkudG9GaXhlZCgpICsgJyUgb2Ygc2VsZWN0aW9uJzsKICAgICAgICB9CiAgICAgICAgdGhpcy50b29sdGlwLnBlcmNlbnRhZ2UuaW5uZXJUZXh0ID0gcGVyY2VudGFnZVRleHQ7CiAgICAgICAgY29uc3QgZmxhZ3MgPSBbXTsKICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MDEpIHsKICAgICAgICAgICAgZmxhZ3MucHVzaCgncnVudGltZS1kaXNwYXRjaCcpOwogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MDIpIHsKICAgICAgICAgICAgZmxhZ3MucHVzaCgnR0MnKTsKICAgICAgICB9CiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAweDA4KSB7CiAgICAgICAgICAgIGZsYWdzLnB1c2goJ2NvbXBpbGF0aW9uJyk7CiAgICAgICAgfQogICAgICAgIGlmIChub2RlLmZsYWdzICYgMHgxMCkgewogICAgICAgICAgICBmbGFncy5wdXNoKCd0YXNrJyk7CiAgICAgICAgfQogICAgICAgIGxldCBmbGFnU3RyaW5nID0gJyc7CiAgICAgICAgaWYgKGZsYWdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZmxhZ1N0cmluZyA9ICdGbGFnczogJyArIGZsYWdzLmpvaW4oJywgJyk7CiAgICAgICAgfQogICAgICAgIHRoaXMudG9vbHRpcC5mbGFncy5pbm5lclRleHQgPSBmbGFnU3RyaW5nOwogICAgICAgIGlmICh0aGlzLmN0cmxDbGlja0hhbmRsZXIpIHsKICAgICAgICAgICAgdGhpcy50b29sdGlwWydjdHJsQ2xpY2tIaW50J10uaW5uZXJUZXh0ID0KICAgICAgICAgICAgICAgICdDdHJsL0NtZCtDbGljayB0byBvcGVuIHRoaXMgZmlsZSc7CiAgICAgICAgfQogICAgfQogICAgZHJhd0hvdmVyTm9kZShub2RlKSB7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5maWxsU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yOwogICAgICAgIHRoaXMuaG92ZXJDYW52YXNDdHguZmlsbFJlY3Qobm9kZS5wb3MueCwgbm9kZS5wb3MueSArIHRoaXMuYm9yZGVyV2lkdGgsIE1hdGgubWF4KDEsIG5vZGUucG9zLndpZHRoKSwgbm9kZS5wb3MuaGVpZ2h0IC0gdGhpcy5ib3JkZXJXaWR0aCk7CiAgICAgICAgY29uc3QgaW5uZXJXaWR0aCA9IG5vZGUucG9zLndpZHRoIC0gdGhpcy5ib3JkZXJXaWR0aCAqIDIgKiB0aGlzLnNjYWxlOwogICAgICAgIGlmIChpbm5lcldpZHRoID4gMSkgewogICAgICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4LmNsZWFyUmVjdChub2RlLnBvcy54ICsgdGhpcy5ib3JkZXJXaWR0aCAqIHRoaXMuc2NhbGUsIG5vZGUucG9zLnkgKyAyICogdGhpcy5ib3JkZXJXaWR0aCAqIHRoaXMuc2NhbGUsIGlubmVyV2lkdGgsIG5vZGUucG9zLmhlaWdodCAtIHRoaXMuYm9yZGVyV2lkdGggKiAzICogdGhpcy5zY2FsZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcChub2RlKTsKICAgIH0KICAgIGNsZWFySG92ZXIoKSB7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0KICAgIGRyYXdIb3Zlcihub2RlLCBtb3VzZVgsIG1vdXNlWSkgewogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgIHRoaXMucnVuT25Ob2RlQXRNb3VzZVBvc2l0aW9uKG5vZGUsIG1vdXNlWCwgbW91c2VZLCAobm9kZSkgPT4gewogICAgICAgICAgICB0aGlzLmRyYXdIb3Zlck5vZGUobm9kZSk7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZm91bmQ7CiAgICB9CiAgICBydW5Pbk5vZGVBdE1vdXNlUG9zaXRpb24ocm9vdCwgeCwgeSwgZikgewogICAgICAgIGlmICh4ID49IE1hdGguZmxvb3Iocm9vdC5wb3MueCkgJiYKICAgICAgICAgICAgeCA8PSBNYXRoLmNlaWwocm9vdC5wb3MueCArIHJvb3QucG9zLndpZHRoKSAmJgogICAgICAgICAgICB5ID49IHJvb3QucG9zLnkpIHsKICAgICAgICAgICAgaWYgKHkgPD0gcm9vdC5wb3MueSArIHJvb3QucG9zLmhlaWdodCkgewogICAgICAgICAgICAgICAgZihyb290KTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVuT25Ob2RlQXRNb3VzZVBvc2l0aW9uKGNoaWxkLCB4LCB5LCBmKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgem9vbUluT25Ob2RlKG5vZGUsIG1vdXNlWCwgbW91c2VZKSB7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgdGhpcy5ydW5Pbk5vZGVBdE1vdXNlUG9zaXRpb24obm9kZSwgbW91c2VYLCBtb3VzZVksIChub2RlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSBub2RlOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgfQogICAgLy8gaWRlYWxseSB0aGlzIHdvdWxkbid0IHJlcXVpcmUgdHJlZSB0cmF2ZXJzYWwgYXQgYWxsCiAgICBmaW5kUGFyZW50Tm9kZSh0YXJnZXQsIGN1cnJlbnQgPSBudWxsKSB7CiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHsKICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZGF0YVt0aGlzLmN1cnJlbnRTZWxlY3Rpb25dOwogICAgICAgIH0KICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGN1cnJlbnQuY2hpbGRyZW4pIHsKICAgICAgICAgICAgaWYgKGNoaWxkID09PSB0YXJnZXQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLmZpbmRQYXJlbnROb2RlKHRhcmdldCwgY2hpbGQpOwogICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ZpbGUtdmlld2VyLmpzLm1hcA==')
    const viewer = new ProfileCanvas.ProfileViewer("#profiler-container-94730", {"24":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"4":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"1":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_start","file":"client.jl","path":"./client.jl","line":522,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exec_options","file":"client.jl","path":"./client.jl","line":322,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_main_repl","file":"client.jl","path":"./client.jl","line":405,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"invokelatest","file":"essentials.jl","path":"./essentials.jl","line":816,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#invokelatest#2","file":"essentials.jl","path":"./essentials.jl","line":819,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#1017","file":"client.jl","path":"./client.jl","line":421,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_repl","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":365,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_repl#59","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":379,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"start_repl_backend","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":231,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#start_repl_backend#46","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":234,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"repl_backend_loop","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":249,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_user_input","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":153,"count":63,"countLabel":null,"flags":4,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include","file":"client.jl","path":"./client.jl","line":478,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_include","file":"loading.jl","path":"./loading.jl","line":1963,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1903,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"weave","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":124,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#weave#124","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":176,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_doc","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":6,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_doc#21","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":74,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":133,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":263,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_code","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":192,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":610,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":656,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":683,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#29","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":191,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"capture_output","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":216,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"task_local_storage","file":"task.jl","path":"./task.jl","line":296,"count":63,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"#32","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":218,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1913,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1903,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":559,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#296","file":"reduce.jl","path":"./reduce.jl","line":559,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":530,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#295","file":"reduce.jl","path":"./reduce.jl","line":530,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":302,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#292","file":"reduce.jl","path":"./reduce.jl","line":302,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":170,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#288","file":"reduce.jl","path":"./reduce.jl","line":170,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":35,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":35,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#40","file":"none","path":"./none","line":0,"count":32,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"share","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":16,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Integrator","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":530,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#295","file":"reduce.jl","path":"./reduce.jl","line":530,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":302,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#292","file":"reduce.jl","path":"./reduce.jl","line":302,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":170,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#288","file":"reduce.jl","path":"./reduce.jl","line":170,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#38","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":30,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":9,"count":16,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":1150,"count":9,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":52,"count":9,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mul!","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":276,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mul!","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":65,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"gemv!","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":503,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"gemv!","file":"blas.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/blas.jl","line":667,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[]},{"func":"gemv!","file":"blas.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/blas.jl","line":643,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"gemv!","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":492,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"lapack_size","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":725,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"==","file":"char.jl","path":"./char.jl","line":213,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"==","file":"promotion.jl","path":"./promotion.jl","line":499,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]},{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":840,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"array.jl","path":"./array.jl","line":374,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":2,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]},{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":6,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]},{"func":"instantiate","file":"broadcast.jl","path":"./broadcast.jl","line":294,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"combine_axes","file":"broadcast.jl","path":"./broadcast.jl","line":512,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_shape","file":"broadcast.jl","path":"./broadcast.jl","line":517,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_bcs","file":"broadcast.jl","path":"./broadcast.jl","line":523,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_bcs1","file":"broadcast.jl","path":"./broadcast.jl","line":529,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_bcsm","file":"broadcast.jl","path":"./broadcast.jl","line":531,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]},{"func":"*","file":"arraymath.jl","path":"./arraymath.jl","line":24,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":862,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":6,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":12,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":881,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":884,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":610,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":656,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":683,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":325,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":216,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"expm1b_kernel","file":"exp.jl","path":"./special/exp.jl","line":78,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"float.jl","path":"./float.jl","line":410,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"+","file":"float.jl","path":"./float.jl","line":408,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":209,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":413,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":213,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":413,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":325,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":10,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"maximum","file":"reducedim.jl","path":"./reducedim.jl","line":994,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#maximum#815","file":"reducedim.jl","path":"./reducedim.jl","line":994,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_maximum","file":"reducedim.jl","path":"./reducedim.jl","line":998,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_maximum#817","file":"reducedim.jl","path":"./reducedim.jl","line":998,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_maximum","file":"reducedim.jl","path":"./reducedim.jl","line":999,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_maximum#818","file":"reducedim.jl","path":"./reducedim.jl","line":999,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#800","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce_dim","file":"reducedim.jl","path":"./reducedim.jl","line":365,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":81,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"add_sum","file":"reduce.jl","path":"./reduce.jl","line":24,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":16,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":862,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":2,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":58,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":80,"count":2,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1086,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1090,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1057,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":160,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":954,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":963,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":850,"count":7,"countLabel":null,"flags":9,"taskId":null,"children":[{"func":"∘","file":"operators.jl","path":"./operators.jl","line":1043,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"ComposedFunction","file":"operators.jl","path":"./operators.jl","line":1028,"count":3,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1855,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_apply","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1566,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":922,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"InferenceResult","file":"types.jl","path":"./compiler/types.jl","line":61,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"matching_cache_argtypes","file":"inferenceresult.jl","path":"./compiler/inferenceresult.jl","line":27,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"most_general_argtypes","file":"inferenceresult.jl","path":"./compiler/inferenceresult.jl","line":116,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"most_general_argtypes","file":"inferenceresult.jl","path":"./compiler/inferenceresult.jl","line":185,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"isconstType","file":"typeutils.jl","path":"./compiler/typeutils.jl","line":9,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"isType","file":"reflection.jl","path":"./reflection.jl","line":620,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]},{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":273,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":503,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":554,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":539,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compact!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":1780,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compact!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":1780,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"IncrementalCompact","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":641,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"NewNodeStream","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":278,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"NewNodeStream","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":278,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"InstructionStream","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":201,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"fill","file":"array.jl","path":"./array.jl","line":530,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"fill","file":"array.jl","path":"./array.jl","line":532,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":1,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":273,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":503,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":554,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":539,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"sroa_pass!","file":"passes.jl","path":"./compiler/ssair/passes.jl","line":936,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"is_known_call","file":"passes.jl","path":"./compiler/ssair/passes.jl","line":5,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"argextype","file":"optimize.jl","path":"./compiler/optimize.jl","line":337,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"argextype","file":"optimize.jl","path":"./compiler/optimize.jl","line":338,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"argextype","file":"optimize.jl","path":"./compiler/optimize.jl","line":364,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_globalref","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2430,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},"12":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"29":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"20":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"32":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"2":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"6":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"25":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"23":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"22":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"11":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"35":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"13":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"5":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"15":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"27":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"31":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"33":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"28":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"16":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"14":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"39":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"40":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"21":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"38":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"7":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"34":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"8":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"all":{"func":"root","file":"","path":"","line":0,"count":2610,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":2544,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":2544,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":2544,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]},{"func":"_start","file":"client.jl","path":"./client.jl","line":522,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exec_options","file":"client.jl","path":"./client.jl","line":322,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_main_repl","file":"client.jl","path":"./client.jl","line":405,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"invokelatest","file":"essentials.jl","path":"./essentials.jl","line":816,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#invokelatest#2","file":"essentials.jl","path":"./essentials.jl","line":819,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#1017","file":"client.jl","path":"./client.jl","line":421,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_repl","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":365,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_repl#59","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":379,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"start_repl_backend","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":231,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#start_repl_backend#46","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":234,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"repl_backend_loop","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":249,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_user_input","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":153,"count":63,"countLabel":null,"flags":4,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include","file":"client.jl","path":"./client.jl","line":478,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_include","file":"loading.jl","path":"./loading.jl","line":1963,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1903,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"weave","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":124,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#weave#124","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":176,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_doc","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":6,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_doc#21","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":74,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":133,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":263,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_code","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":192,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":610,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":656,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":683,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#29","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":191,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"capture_output","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":216,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"task_local_storage","file":"task.jl","path":"./task.jl","line":296,"count":63,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"#32","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":218,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1913,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1903,"count":63,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":63,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":559,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#296","file":"reduce.jl","path":"./reduce.jl","line":559,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":530,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#295","file":"reduce.jl","path":"./reduce.jl","line":530,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":302,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#292","file":"reduce.jl","path":"./reduce.jl","line":302,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":170,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#288","file":"reduce.jl","path":"./reduce.jl","line":170,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":37,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":35,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":35,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#40","file":"none","path":"./none","line":0,"count":32,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"share","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":16,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Integrator","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":530,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#295","file":"reduce.jl","path":"./reduce.jl","line":530,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":302,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#292","file":"reduce.jl","path":"./reduce.jl","line":302,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":170,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#288","file":"reduce.jl","path":"./reduce.jl","line":170,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":32,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#38","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":30,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":9,"count":16,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":1150,"count":9,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":52,"count":9,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mul!","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":276,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mul!","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":65,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"gemv!","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":503,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"gemv!","file":"blas.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/blas.jl","line":667,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[]},{"func":"gemv!","file":"blas.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/blas.jl","line":643,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"gemv!","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":492,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"lapack_size","file":"matmul.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/LinearAlgebra/src/matmul.jl","line":725,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"==","file":"char.jl","path":"./char.jl","line":213,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"==","file":"promotion.jl","path":"./promotion.jl","line":499,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]},{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":840,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"array.jl","path":"./array.jl","line":374,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":2,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]},{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":6,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]},{"func":"instantiate","file":"broadcast.jl","path":"./broadcast.jl","line":294,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"combine_axes","file":"broadcast.jl","path":"./broadcast.jl","line":512,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_shape","file":"broadcast.jl","path":"./broadcast.jl","line":517,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_bcs","file":"broadcast.jl","path":"./broadcast.jl","line":523,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_bcs1","file":"broadcast.jl","path":"./broadcast.jl","line":529,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_bcsm","file":"broadcast.jl","path":"./broadcast.jl","line":531,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]},{"func":"*","file":"arraymath.jl","path":"./arraymath.jl","line":24,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":862,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":6,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":12,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":881,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":884,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":610,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":656,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":683,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":325,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":216,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"expm1b_kernel","file":"exp.jl","path":"./special/exp.jl","line":78,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"float.jl","path":"./float.jl","line":410,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"+","file":"float.jl","path":"./float.jl","line":408,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":209,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":413,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":213,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":413,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":325,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":10,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"maximum","file":"reducedim.jl","path":"./reducedim.jl","line":994,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#maximum#815","file":"reducedim.jl","path":"./reducedim.jl","line":994,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_maximum","file":"reducedim.jl","path":"./reducedim.jl","line":998,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_maximum#817","file":"reducedim.jl","path":"./reducedim.jl","line":998,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_maximum","file":"reducedim.jl","path":"./reducedim.jl","line":999,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_maximum#818","file":"reducedim.jl","path":"./reducedim.jl","line":999,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#800","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce_dim","file":"reducedim.jl","path":"./reducedim.jl","line":365,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":81,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"add_sum","file":"reduce.jl","path":"./reduce.jl","line":24,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":16,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":862,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":2,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":58,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":80,"count":2,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1086,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1090,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1057,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":160,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":954,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":963,"count":7,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":850,"count":7,"countLabel":null,"flags":9,"taskId":null,"children":[{"func":"∘","file":"operators.jl","path":"./operators.jl","line":1043,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"ComposedFunction","file":"operators.jl","path":"./operators.jl","line":1028,"count":3,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1855,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_apply","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1566,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":2,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":922,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"InferenceResult","file":"types.jl","path":"./compiler/types.jl","line":61,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"matching_cache_argtypes","file":"inferenceresult.jl","path":"./compiler/inferenceresult.jl","line":27,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"most_general_argtypes","file":"inferenceresult.jl","path":"./compiler/inferenceresult.jl","line":116,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"most_general_argtypes","file":"inferenceresult.jl","path":"./compiler/inferenceresult.jl","line":185,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"isconstType","file":"typeutils.jl","path":"./compiler/typeutils.jl","line":9,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"isType","file":"reflection.jl","path":"./reflection.jl","line":620,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]},{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":273,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":503,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":554,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":539,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compact!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":1780,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compact!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":1780,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"IncrementalCompact","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":641,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"NewNodeStream","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":278,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"NewNodeStream","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":278,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"InstructionStream","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":201,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"fill","file":"array.jl","path":"./array.jl","line":530,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"fill","file":"array.jl","path":"./array.jl","line":532,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":1,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":273,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":503,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":554,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":539,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"sroa_pass!","file":"passes.jl","path":"./compiler/ssair/passes.jl","line":936,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"is_known_call","file":"passes.jl","path":"./compiler/ssair/passes.jl","line":5,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"argextype","file":"optimize.jl","path":"./compiler/optimize.jl","line":337,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"argextype","file":"optimize.jl","path":"./compiler/optimize.jl","line":338,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"argextype","file":"optimize.jl","path":"./compiler/optimize.jl","line":364,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_globalref","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2430,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},"36":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"26":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"17":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"10":{"func":"root","file":"","path":"","line":0,"count":66,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":66,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"19":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"37":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"9":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"18":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"30":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"3":{"func":"root","file":"","path":"","line":0,"count":65,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":65,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]}}, "Thread")
</script>
</section>
<section id="loopvectorization" class="level2">
<h2 class="anchored" data-anchor-id="loopvectorization">LoopVectorization</h2>
<p>Examining the profile, we see that the multiplication of <code>x*Σ*ν</code> is the single most costly operation. The second most costly are lines computing the softmax function, <code>exp.(s)./(1 .+exp.(s))</code></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LoopVectorization</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="pp">@inline</span> <span class="kw">function</span> <span class="fu">dplusxMy</span>(d<span class="op">::</span><span class="dt">AbstractVector</span>,x<span class="op">::</span><span class="dt">AbstractMatrix</span>,M<span class="op">::</span><span class="dt">AbstractMatrix</span>,y<span class="op">::</span><span class="dt">AbstractVector</span>) </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  out <span class="op">=</span> <span class="fu">similar</span>(d)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@turbo</span> <span class="cf">for</span> i <span class="op">∈</span> <span class="fu">axes</span>(x,<span class="fl">1</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> d[i]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="op">∈</span> <span class="fu">axes</span>(x,<span class="fl">2</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> k <span class="op">∈</span> <span class="fu">axes</span>(M,<span class="fl">2</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        r <span class="op">+=</span> x[i,j]<span class="op">*</span>M[j,k]<span class="op">*</span>y[k]</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    out[i] <span class="op">=</span> r</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">end</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  out</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="pp">@inline</span> <span class="kw">function</span> <span class="fu">softmax0!</span>(s)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  smax<span class="op">=</span><span class="pp">@turbo</span> <span class="fu">reduce</span>(max, s, init<span class="op">=</span><span class="fu">zero</span>(<span class="fu">eltype</span>(s)))</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  s <span class="op">.=</span> <span class="fu">exp</span>.(s <span class="op">.-</span> smax)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  s <span class="op">./=</span> (<span class="fu">sum</span>(s) <span class="op">+</span> <span class="fu">exp</span>(<span class="fu">zero</span>(smax)<span class="op">-</span>smax))</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(s)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">share_v2</span>(δ, Σ, x, ∫)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  J,K <span class="op">=</span> <span class="fu">size</span>(x)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">length</span>(δ) <span class="op">==</span> J) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"length(δ)=</span><span class="sc">$</span>(<span class="fu">length</span>(δ))<span class="st"> != size(x,1)=</span><span class="sc">$</span>J<span class="st">"</span>)</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  (K,K) <span class="op">==</span> <span class="fu">size</span>(Σ) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"size(x,2)=</span><span class="sc">$</span>K<span class="st"> != size(Σ)=</span><span class="sc">$</span>(<span class="fu">size</span>(Σ))<span class="st">"</span>)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">shareν</span>(ν)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="fu">dplusxMy</span>(δ,x,Σ,ν)</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">softmax0!</span>(s)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    s  </span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(<span class="fu">∫</span>(shareν))</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share_v2</span>(δ,Σ,X,∫)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  28.775 μs …   5.069 ms  ┊ GC (min … max):  0.00% … 98.
43%
 Time  (median):     34.013 μs               ┊ GC (median):     0.00%
 Time  (mean ± σ):   40.574 μs ± 149.776 μs  ┊ GC (mean ± σ):  10.97% ±  2.
95%

  ▂▁    ▂▁▃▇█▆▃▄▂▂                         ▁▂▁▁▂▃▁▁ ▁          ▂
  █████████████████▆▄▁▁▁▃▁▃▆▆▆▆▆▅▆▆▇▅▄▄▃▅▇█████████████▇▇▇▇▆▆▇ █
  28.8 μs       Histogram: log(frequency) by time      58.8 μs &lt;

 Memory estimate: 42.05 KiB, allocs estimate: 299.</code></pre>
<p>By writing the <code>δ+x*Σ*ν</code> as loop we avoid some allocations, and can use <code>@turbo</code> to insert SIMD instructions. This gives a noticeable speedup. About half the gains here are from writing out the loops in <code>dplusxMy</code> and half from using <code>@turbo</code>. The changes to the softmax calculation did not make much difference.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Profile</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Profile</span>.<span class="fu">clear</span>();</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Profile</span>.<span class="fu">init</span>(n<span class="op">=</span><span class="fl">10</span><span class="op">^</span><span class="fl">7</span>,delay<span class="op">=</span><span class="fl">0.00001</span>);</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>ProfileCanvas.<span class="pp">@profview</span> <span class="fu">sum</span>(<span class="fu">share_v2</span>(δ,Σ,X,∫) <span class="cf">for</span> i <span class="op">∈</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">profilehtmlstring</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="profiler-container-61409" style="height: 400px; position: relative;">

</div>
<script type="module">
    const ProfileCanvas = await import('data:text/javascript;base64,ZXhwb3J0IGNsYXNzIFByb2ZpbGVWaWV3ZXIgewogICAgY29uc3RydWN0b3IoZWxlbWVudCwgZGF0YSwgc2VsZWN0b3JMYWJlbCkgewogICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IFtdOwogICAgICAgIHRoaXMub2Zmc2V0WCA9IDA7CiAgICAgICAgdGhpcy5vZmZzZXRZID0gMDsKICAgICAgICB0aGlzLmlzV2hlZWxpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmNhbldoZWVsRG93biA9IHRydWU7CiAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgdGhpcy5pc1Jlc2l6aW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0RvY3VtZW50U2Nyb2xsaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc01vdXNlTW92ZSA9IGZhbHNlOwogICAgICAgIHRoaXMuc2NhbGUgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICB0aGlzLmJvcmRlcldpZHRoID0gMjsKICAgICAgICB0aGlzLnBhZGRpbmcgPSAyOwogICAgICAgIHRoaXMuZm9udENvbmZpZyA9ICcxMHB4IHNhbnMtc2VyaWYnOwogICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAnI2ZmZic7CiAgICAgICAgdGhpcy5zZWxlY3RvckxhYmVsID0gJ1RocmVhZCc7CiAgICAgICAgdGhpcy5ib3hIZWlnaHQgPSAyNDsKICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlOwogICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGFyZW50IGVsZW1lbnQgc3BlY2lmaWVkLicpOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGVsZW1lbnQ7CiAgICAgICAgaWYgKHNlbGVjdG9yTGFiZWwpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RvckxhYmVsID0gc2VsZWN0b3JMYWJlbDsKICAgICAgICB9CiAgICAgICAgdGhpcy5pbnNlcnRET00oKTsKICAgICAgICB0aGlzLmdldFN0eWxlcygpOwogICAgICAgIHRoaXMucmVnaXN0ZXJSZXNpemVPYnNlcnZlcigpOwogICAgICAgIHRoaXMucmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcigpOwogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuc2V0RGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5nZXRPZmZzZXQoKTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhbmQgYWRkZWQgY2hpbGQgZWxlbWVudHMuIFRoZSBnbG9iYWwgc3R5bGVzaGVldAogICAgICogaXMgb25seSByZW1vdmVkIGlmIHRoaXMgaXMgdGhlIGxhc3QgcmVmZXJlbmNlIHRvIGl0IChpLmUuIHRoZXJlIGFyZSBubwogICAgICogb3RoZXIgbm90LWRlc3Ryb3llZCBQcm9maWxlVmlld2VyIGluc3RhbmNlcyBpbiB0aGUgRE9NKS4KICAgICAqLwogICAgZGVzdHJveSgpIHsKICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7CiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsSGFuZGxlcikgewogICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0ICYmIHBhcnNlSW50KHRoaXMuc3R5bGVzaGVldC5kYXRhc2V0LnJlZmVyZW5jZXMpID09PSAwKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQodGhpcy5zdHlsZXNoZWV0KTsKICAgICAgICB9CiAgICAgICAgd2hpbGUgKHRoaXMuY29udGFpbmVyLmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIubGFzdENoaWxkKTsKICAgICAgICB9CiAgICB9CiAgICBzZXREYXRhKGRhdGEpIHsKICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhpcyBwcm9maWxlIHZpZXdlciBpcyBkZXN0cm95ZWQuJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBzZWxlY3Rpb25zID0gT2JqZWN0LmtleXMoZGF0YSk7CiAgICAgICAgc2VsZWN0aW9ucy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgIGlmIChhID09PSAnYWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChiID09PSAnYWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGEgPCBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGEgPiBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHNlbGVjdGlvbnM7CiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25zWzBdOwogICAgICAgIHRoaXMuYWN0aXZlTm9kZSA9IHRoaXMuZGF0YVt0aGlzLmN1cnJlbnRTZWxlY3Rpb25dOwogICAgICAgIHRoaXMudXBkYXRlRmlsdGVyKCk7CiAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgIH0KICAgIHNldFNlbGVjdG9yTGFiZWwobGFiZWwpIHsKICAgICAgICB0aGlzLnNlbGVjdG9yTGFiZWwgPSBsYWJlbDsKICAgICAgICB0aGlzLnNlbGVjdG9yTGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IGAke2xhYmVsfTogYDsKICAgIH0KICAgIHJlZ2lzdGVyQ3RybENsaWNrSGFuZGxlcihmKSB7CiAgICAgICAgdGhpcy5jdHJsQ2xpY2tIYW5kbGVyID0gZjsKICAgIH0KICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQgVXNlIGByZWdpc3RlclNlbGVjdGlvbkhhbmRsZXJgIGluc3RlYWQuCiAgICAgKi8KICAgIHJlZ2lzdGVyVGhyZWFkU2VsZWN0b3JIYW5kbGVyKGYpIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBmOwogICAgfQogICAgcmVnaXN0ZXJTZWxlY3Rpb25IYW5kbGVyKGYpIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBmOwogICAgfQogICAgcmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcigpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgfQogICAgY2xlYXIoKSB7CiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gW107CiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gJyc7CiAgICAgICAgdGhpcy5hY3RpdmVOb2RlID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgfQogICAgaXNEZXN0cm95ZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVzdHJveWVkOwogICAgfQogICAgZ2V0U3R5bGVzKCkgewogICAgICAgIHZhciBfYSwgX2IsIF9jOwogICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIsIG51bGwpOwogICAgICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5OwogICAgICAgIGNvbnN0IGZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7CiAgICAgICAgdGhpcy5mb250Q29uZmlnID0KICAgICAgICAgICAgcGFyc2VJbnQoZm9udFNpemUgIT09IG51bGwgJiYgZm9udFNpemUgIT09IHZvaWQgMCA/IGZvbnRTaXplIDogJzEycHgnLCAxMCkgKiB0aGlzLnNjYWxlICsKICAgICAgICAgICAgICAgICdweCAnICsKICAgICAgICAgICAgICAgIChmb250RmFtaWx5ICE9PSBudWxsICYmIGZvbnRGYW1pbHkgIT09IHZvaWQgMCA/IGZvbnRGYW1pbHkgOiAnc2Fucy1zZXJpZicpOwogICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAoX2EgPSBzdHlsZS5jb2xvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyMwMDAnOwogICAgICAgIHRoaXMuY2FudmFzQ3R4LmZvbnQgPSB0aGlzLmZvbnRDb25maWc7CiAgICAgICAgdGhpcy5jYW52YXNDdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CiAgICAgICAgY29uc3QgdGV4dE1ldHJpY3MgPSB0aGlzLmNhbnZhc0N0eC5tZWFzdXJlVGV4dCgnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXFxdKlwnIl5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Jyk7CiAgICAgICAgdGhpcy5ib3hIZWlnaHQgPSBNYXRoLmNlaWwoKCgoX2IgPSB0ZXh0TWV0cmljcy5mb250Qm91bmRpbmdCb3hEZXNjZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpICsKICAgICAgICAgICAgKChfYyA9IHRleHRNZXRyaWNzLmZvbnRCb3VuZGluZ0JveEFzY2VudCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQpICsKICAgICAgICAgICAgMiAqIHRoaXMuYm9yZGVyV2lkdGggKwogICAgICAgICAgICAyICogdGhpcy5wYWRkaW5nKSAqCiAgICAgICAgICAgIHRoaXMuc2NhbGUpOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgICAgICB9CiAgICB9CiAgICByZWRyYXcoKSB7CiAgICAgICAgdGhpcy5jYW5XaGVlbERvd24gPSBmYWxzZTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgIHRoaXMuZHJhd0dyYXBoKHRoaXMuYWN0aXZlTm9kZSwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIDAsIHRoaXMuc2Nyb2xsUG9zaXRpb24pOwogICAgfQogICAgaW5zZXJ0RE9NKCkgewogICAgICAgIHRoaXMuaW5zZXJ0U3R5bGVzaGVldCgpOwogICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgdGhpcy5jYW52YXMuY2xhc3NMaXN0LmFkZCgnX19wcm9maWxlci1jYW52YXMnKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIHRoaXMuaG92ZXJDYW52YXMuY2xhc3NMaXN0LmFkZCgnX19wcm9maWxlci1ob3Zlci1jYW52YXMnKTsKICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4ID0gdGhpcy5ob3ZlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnN0IGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLWNhbnZhcy1jb250YWluZXInKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmhvdmVyQ2FudmFzKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUb29sdGlwKCkpOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRmlsdGVyQ29udGFpbmVyKCkpOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhc0NvbnRhaW5lcik7CiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCAoZXYpID0+IHsKICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXYuZGVsdGFZID4gMCAmJiAhdGhpcy5jYW5XaGVlbERvd24pIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXYuZGVsdGFZIDwgMCAmJiB0aGlzLnNjcm9sbFBvc2l0aW9uID09PSAwKSB7CiAgICAgICAgICAgICAgICBpZiAoLWV2LmRlbHRhWSA+IHRoaXMuYm94SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5maW5kUGFyZW50Tm9kZSh0aGlzLmFjdGl2ZU5vZGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSBwYXJlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2hlZWxpbmcpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSBNYXRoLm1pbigwLCB0aGlzLnNjcm9sbFBvc2l0aW9uIC0gZXYuZGVsdGFZKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZHJhdygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNXaGVlbGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmlzV2hlZWxpbmcgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2KSA9PiB7CiAgICAgICAgICAgIGlmICghdGhpcy5pc01vdXNlTW92ZSAmJiB0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIFhYWDogdGhpcyBpcyBiYWQKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE9mZnNldCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlWCA9IGV2LmNsaWVudFggLSB0aGlzLm9mZnNldFg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2VZID0gZXYuY2xpZW50WSAtIHRoaXMub2Zmc2V0WTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlkRHJhdyA9IHRoaXMuZHJhd0hvdmVyKHRoaXMuYWN0aXZlTm9kZSwgdGhpcy5zY2FsZSAqIG1vdXNlWCwgdGhpcy5zY2FsZSAqIG1vdXNlWSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZERyYXcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlWCA+IHRoaXMuY2FudmFzV2lkdGhDU1MgLyAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LnN0eWxlLnJpZ2h0ID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1dpZHRoQ1NTIC0gbW91c2VYICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUucmlnaHQgPSAndW5zZXQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5zdHlsZS5sZWZ0ID0gbW91c2VYICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZVkgPiB0aGlzLmNhbnZhc0hlaWdodENTUyAvIDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuYm90dG9tID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodENTUyAtIG1vdXNlWSArIDEwICsgJ3B4JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUudG9wID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuYm90dG9tID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUudG9wID0gbW91c2VZICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU1vdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlTW92ZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlTm9kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB0aGlzLmdldE9mZnNldCgpOwogICAgICAgICAgICBjb25zdCBtb3VzZVggPSB0aGlzLnNjYWxlICogKGV2LmNsaWVudFggLSB0aGlzLm9mZnNldFgpOwogICAgICAgICAgICBjb25zdCBtb3VzZVkgPSB0aGlzLnNjYWxlICogKGV2LmNsaWVudFkgLSB0aGlzLm9mZnNldFkpOwogICAgICAgICAgICBpZiAoZXYuY3RybEtleSB8fCBldi5tZXRhS2V5KSB7CiAgICAgICAgICAgICAgICB0aGlzLnJ1bk9uTm9kZUF0TW91c2VQb3NpdGlvbih0aGlzLmFjdGl2ZU5vZGUsIG1vdXNlWCwgbW91c2VZLCAobm9kZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN0cmxDbGlja0hhbmRsZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHJsQ2xpY2tIYW5kbGVyKG5vZGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuem9vbUluT25Ob2RlKHRoaXMuYWN0aXZlTm9kZSwgbW91c2VYLCBtb3VzZVkpKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2LmRldGFpbCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IG9uIGRvdWJsZS1jbGljawogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRWaWV3KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICAgIHJlc2V0VmlldygpIHsKICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSB0aGlzLmRhdGFbdGhpcy5jdXJyZW50U2VsZWN0aW9uXTsKICAgICAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gMDsKICAgICAgICB0aGlzLnJlZHJhdygpOwogICAgfQogICAgaW5zZXJ0U3R5bGVzaGVldCgpIHsKICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI19fcHJvZmlsZXJfc3R5bGVzaGVldCcpOwogICAgICAgIGlmIChzdHlsZXNoZWV0KSB7CiAgICAgICAgICAgIHN0eWxlc2hlZXQuZGF0YXNldC5yZWZlcmVuY2VzID0gKHBhcnNlSW50KHN0eWxlc2hlZXQuZGF0YXNldC5yZWZlcmVuY2VzKSArIDEpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldCA9IHN0eWxlc2hlZXQ7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKCdpZCcsICdfX3Byb2ZpbGVyLXN0eWxlc2hlZXQnKTsKICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmRhdGFzZXQucmVmZXJlbmNlcyA9ICcwJzsKICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmlubmVyVGV4dCA9IGAKICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLWNhbnZhcyB7CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMDsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuX19wcm9maWxlci1jYW52YXMtY29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLl9fcHJvZmlsZXItaG92ZXItY2FudmFzIHsKICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLXRvb2x0aXAgewogICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDI7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsKICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsKICAgICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDQ1JTsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLl9fcHJvZmlsZXItdG9vbHRpcCA+IGRpdiB7CiAgICAgICAgICAgICAgICAgICAgbGluZS1icmVhazogYW55d2hlcmU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuX19wcm9maWxlci1maWx0ZXIgewogICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHggMTZweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzQ0NDsKICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLXJlc2V0IHsKICAgICAgICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZXNoZWV0KTsKICAgICAgICB9CiAgICB9CiAgICBjcmVhdGVUb29sdGlwKCkgewogICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ19fcHJvZmlsZXItdG9vbHRpcCcpOwogICAgICAgIHRoaXMudG9vbHRpcCA9IHsKICAgICAgICAgICAgY291bnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSwKICAgICAgICAgICAgcGVyY2VudGFnZTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLAogICAgICAgICAgICBmdW5jdGlvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpLAogICAgICAgICAgICBmaWxlOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksCiAgICAgICAgICAgIGZsYWdzOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksCiAgICAgICAgfTsKICAgICAgICB0aGlzLnRvb2x0aXAuZnVuY3Rpb24uY2xhc3NMaXN0LmFkZCgnZm5hbWUnKTsKICAgICAgICBjb25zdCByb3dzID0gWwogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZ1bmN0aW9uXSwKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgdGhpcy50b29sdGlwLmNvdW50LAogICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJyAoJyksCiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAucGVyY2VudGFnZSwKICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcpICcpLAogICAgICAgICAgICBdLAogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZpbGVdLAogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZsYWdzXSwKICAgICAgICBdOwogICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHsKICAgICAgICAgICAgY29uc3Qgcm93Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGZvciAoY29uc3QgY29sIG9mIHJvdykgewogICAgICAgICAgICAgICAgcm93Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5hcHBlbmRDaGlsZChyb3dDb250YWluZXIpOwogICAgICAgIH0KICAgICAgICB0aGlzLnRvb2x0aXBbJ2N0cmxDbGlja0hpbnQnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJyk7CiAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBbJ2N0cmxDbGlja0hpbnQnXSk7CiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwRWxlbWVudCk7CiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcEVsZW1lbnQ7CiAgICB9CiAgICBjcmVhdGVGaWx0ZXJDb250YWluZXIoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLmZpbHRlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLWZpbHRlcicpOwogICAgICAgIHRoaXMuc2VsZWN0b3JMYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOwogICAgICAgIHRoaXMuc2VsZWN0b3JMYWJlbEVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7dGhpcy5zZWxlY3RvckxhYmVsfTogYDsKICAgICAgICB0aGlzLmZpbHRlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdG9yTGFiZWxFbGVtZW50KTsKICAgICAgICB0aGlzLmZpbHRlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgdGhpcy5maWx0ZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbiA9IHRoaXMuZmlsdGVySW5wdXQudmFsdWU7CiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlcih0aGlzLmN1cnJlbnRTZWxlY3Rpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucmVzZXRWaWV3KCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5maWx0ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5maWx0ZXJJbnB1dCk7CiAgICAgICAgY29uc3QgcmVzZXR0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICByZXNldHRlci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLXJlc2V0Jyk7CiAgICAgICAgcmVzZXR0ZXIuaW5uZXJUZXh0ID0gJ3Jlc2V0IHZpZXcnOwogICAgICAgIHJlc2V0dGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLnJlc2V0VmlldygpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZmlsdGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlc2V0dGVyKTsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJDb250YWluZXI7CiAgICB9CiAgICB1cGRhdGVGaWx0ZXIoKSB7CiAgICAgICAgd2hpbGUgKHRoaXMuZmlsdGVySW5wdXQuZmlyc3RDaGlsZCkgewogICAgICAgICAgICB0aGlzLmZpbHRlcklucHV0LnJlbW92ZUNoaWxkKHRoaXMuZmlsdGVySW5wdXQubGFzdENoaWxkKTsKICAgICAgICB9CiAgICAgICAgZm9yIChjb25zdCBzZWxlY3Rpb24gb2YgdGhpcy5zZWxlY3Rpb25zKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgIGVudHJ5LmlubmVyVGV4dCA9IHNlbGVjdGlvbjsKICAgICAgICAgICAgZW50cnkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHNlbGVjdGlvbik7CiAgICAgICAgICAgIHRoaXMuZmlsdGVySW5wdXQuYXBwZW5kQ2hpbGQoZW50cnkpOwogICAgICAgIH0KICAgIH0KICAgIHJlZ2lzdGVyUmVzaXplT2JzZXJ2ZXIoKSB7CiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMuaXNSZXNpemluZykgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gdGhpcy5jb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gIT09IHRoaXMuc2NhbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdHlsZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSBNYXRoLnJvdW5kKGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoICogdGhpcy5zY2FsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IE1hdGgucm91bmQoKGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodCAtIDMwKSAqIHRoaXMuc2NhbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNXaWR0aENTUyA9IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNIZWlnaHRDU1MgPSBlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJDYW52YXMud2lkdGggPSB0aGlzLmNhbnZhc1dpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVzaXppbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5pc1Jlc2l6aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNvbnRhaW5lcik7CiAgICB9CiAgICBzY3JvbGxIYW5kbGVyKGUpIHsKICAgICAgICBpZiAoIXRoaXMuaXNEb2N1bWVudFNjcm9sbGluZykgewogICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0T2Zmc2V0KCk7CiAgICAgICAgICAgICAgICB0aGlzLmlzRG9jdW1lbnRTY3JvbGxpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuaXNEb2N1bWVudFNjcm9sbGluZyA9IHRydWU7CiAgICAgICAgfQogICAgfQogICAgZ2V0T2Zmc2V0KCkgewogICAgICAgIGNvbnN0IGJveCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHRoaXMub2Zmc2V0WCA9IGJveC5sZWZ0OwogICAgICAgIHRoaXMub2Zmc2V0WSA9IGJveC50b3A7CiAgICB9CiAgICAvLyBoYXNoIG9mIGZ1bmN0aW9uIG5hbWVkLCB1c2VkIHRvIHNlZWQgUFJORwogICAgbm9kZUhhc2gobm9kZSkgewogICAgICAgIGNvbnN0IGhhc2hTdHJpbmcgPSBub2RlLmZpbGUgKyBub2RlLmxpbmU7CiAgICAgICAgbGV0IGhhc2ggPSAwOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGFzaFN0cmluZy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBjaGFyID0gaGFzaFN0cmluZy5jaGFyQ29kZUF0KGkpOwogICAgICAgICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjsKICAgICAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaGFzaDsKICAgIH0KICAgIC8vIFNpbXBsZSBQUk5HIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ3NTkzMzE2LzEyMTEzMTc4CiAgICBtdWxiZXJyeTMyKGEpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgdCA9IChhICs9IDB4NmQyYjc5ZjUpOwogICAgICAgICAgICB0ID0gTWF0aC5pbXVsKHQgXiAodCA+Pj4gMTUpLCB0IHwgMSk7CiAgICAgICAgICAgIHQgXj0gdCArIE1hdGguaW11bCh0IF4gKHQgPj4+IDcpLCB0IHwgNjEpOwogICAgICAgICAgICByZXR1cm4gKCh0IF4gKHQgPj4+IDE0KSkgPj4+IDApIC8gNDI5NDk2NzI5NjsKICAgICAgICB9OwogICAgfQogICAgLy8gbW9kaWZpZXMgdGhlIG5vcm1hbCBjb2xvciBieSB0aHJlZSBzdGFibGUgcmFuZG9tIHZhbHVlcyBkcmF3biBmcm9tIGEKICAgIC8vIFBSTkcgc2VlZGVkIGJ5IHRoZSBub2RlIGhhc2gKICAgIG1vZGlmeU5vZGVDb2xvckJ5SGFzaChyLCBnLCBiLCBoYXNoLCByYW5nZSA9IDcwKSB7CiAgICAgICAgY29uc3Qgcm5nID0gdGhpcy5tdWxiZXJyeTMyKGhhc2gpOwogICAgICAgIGlmIChyID09PSBnICYmIGcgPT09IGIpIHsKICAgICAgICAgICAgciA9IGcgPSBiID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCByICsgKHJuZygpIC0gMC41KSAqIHJhbmdlKSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCByICsgKHJuZygpIC0gMC41KSAqIHJhbmdlKSk7CiAgICAgICAgICAgIGcgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGcgKyAocm5nKCkgLSAwLjUpICogcmFuZ2UpKTsKICAgICAgICAgICAgYiA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgYiArIChybmcoKSAtIDAuNSkgKiByYW5nZSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICByLAogICAgICAgICAgICBnLAogICAgICAgICAgICBiLAogICAgICAgIH07CiAgICB9CiAgICBub2RlQ29sb3JzKG5vZGUsIGhhc2gpIHsKICAgICAgICBsZXQgciwgZywgYjsKICAgICAgICBsZXQgYSA9IDE7CiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAweDAxKSB7CiAgICAgICAgICAgIC8vIHJ1bnRpbWUtZGlzcGF0Y2gKICAgICAgICAgICAgOwogICAgICAgICAgICAoeyByLCBnLCBiIH0gPSB0aGlzLm1vZGlmeU5vZGVDb2xvckJ5SGFzaCgyMDQsIDEwMywgMTAzLCBoYXNoLCAyMCkpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChub2RlLmZsYWdzICYgMHgwMikgewogICAgICAgICAgICAvLyBnYwogICAgICAgICAgICA7CiAgICAgICAgICAgICh7IHIsIGcsIGIgfSA9IHRoaXMubW9kaWZ5Tm9kZUNvbG9yQnlIYXNoKDIwNCwgMTUzLCA2OCwgaGFzaCwgMjApKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobm9kZS5mbGFncyAmIDB4MDgpIHsKICAgICAgICAgICAgLy8gY29tcGlsYXRpb24/CiAgICAgICAgICAgIDsKICAgICAgICAgICAgKHsgciwgZywgYiB9ID0gdGhpcy5tb2RpZnlOb2RlQ29sb3JCeUhhc2goMTAwLCAxMDAsIDEwMCwgaGFzaCwgNjApKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIGRlZmF1bHQKICAgICAgICAgICAgOwogICAgICAgICAgICAoeyByLCBnLCBiIH0gPSB0aGlzLm1vZGlmeU5vZGVDb2xvckJ5SGFzaCg2NCwgOTksIDIyMSwgaGFzaCkpOwogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MTApIHsKICAgICAgICAgICAgLy8gQyBmcmFtZQogICAgICAgICAgICBhID0gMC41OwogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaWxsOiAncmdiYSgnICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgYSArICcpJywKICAgICAgICAgICAgc3Ryb2tlOiAncmdiYSgnICsgMC44ICogciArICcsJyArIDAuOCAqIGcgKyAnLCcgKyAwLjggKiBiICsgJywnICsgYSArICcpJywKICAgICAgICAgICAgdGV4dDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgJyArIE1hdGgubWF4KDAuNiwgYSkgKyAnKScsCiAgICAgICAgfTsKICAgIH0KICAgIGRyYXdHcmFwaChub2RlLCB3aWR0aCwgaGVpZ2h0LCB4LCB5KSB7CiAgICAgICAgaWYgKCFub2RlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jYW52YXNDdHguZm9udCA9IHRoaXMuZm9udENvbmZpZzsKICAgICAgICB0aGlzLmNhbnZhc0N0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgICBpZiAoeSArIHRoaXMuYm94SGVpZ2h0ID49IDApIHsKICAgICAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMubm9kZUhhc2gobm9kZSk7CiAgICAgICAgICAgIGNvbnN0IHsgZmlsbCwgc3Ryb2tlLCB0ZXh0IH0gPSB0aGlzLm5vZGVDb2xvcnMobm9kZSwgaGFzaCk7CiAgICAgICAgICAgIHRoaXMuZHJhd05vZGUobm9kZS5mdW5jLCBmaWxsLCBzdHJva2UsIHRleHQsIHdpZHRoLCB4LCB5KTsKICAgICAgICB9CiAgICAgICAgbm9kZS5wb3MgPSB7CiAgICAgICAgICAgIHgsCiAgICAgICAgICAgIHksCiAgICAgICAgICAgIHdpZHRoLAogICAgICAgICAgICBoZWlnaHQ6IHRoaXMuYm94SGVpZ2h0LAogICAgICAgIH07CiAgICAgICAgaWYgKHkgKyB0aGlzLmJveEhlaWdodCA8PSB0aGlzLmNhbnZhc0hlaWdodCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgIGNvbnN0IHcgPSB3aWR0aCAqIChjaGlsZC5mcmFjdGlvbiB8fCBjaGlsZC5jb3VudCAvIG5vZGUuY291bnQpOwogICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JhcGgoY2hpbGQsIHcsIGhlaWdodCwgeCwgeSArIHRoaXMuYm94SGVpZ2h0KTsKICAgICAgICAgICAgICAgIHggKz0gdzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jYW5XaGVlbERvd24gPSB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIGRyYXdOb2RlKHRleHQsIGNvbG9yLCBiQ29sb3IsIHRleHRDb2xvciwgd2lkdGgsIHgsIHkpIHsKICAgICAgICBpZiAod2lkdGggPCAxKSB7CiAgICAgICAgICAgIHdpZHRoID0gMTsKICAgICAgICB9CiAgICAgICAgY29uc3QgZHJhd0JvcmRlciA9IGZhbHNlOyAvL3dpZHRoID4gMjAqdGhpcy5ib3JkZXJXaWR0aDsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5yZWN0KHgsIHkgKyB0aGlzLmJvcmRlcldpZHRoLCB3aWR0aCwgdGhpcy5ib3hIZWlnaHQgLSB0aGlzLmJvcmRlcldpZHRoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsKCk7CiAgICAgICAgaWYgKGRyYXdCb3JkZXIpIHsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbFN0eWxlID0gYkNvbG9yOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgucmVjdCh4LCB5ICsgdGhpcy5ib3JkZXJXaWR0aCwgdGhpcy5ib3JkZXJXaWR0aCwgdGhpcy5ib3hIZWlnaHQgLSB0aGlzLmJvcmRlcldpZHRoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xvc2VQYXRoKCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gd2lkdGggLSAyICogdGhpcy5wYWRkaW5nIC0gMiAqIHRoaXMuYm9yZGVyV2lkdGg7CiAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwKSB7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnNhdmUoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnJlY3QoeCArIHRoaXMuYm9yZGVyV2lkdGggKyB0aGlzLnBhZGRpbmcsIHkgKyB0aGlzLmJvcmRlcldpZHRoICsgdGhpcy5wYWRkaW5nLCB0ZXh0V2lkdGgsIHRoaXMuYm94SGVpZ2h0IC0gdGhpcy5ib3JkZXJXaWR0aCAtIDIgKiB0aGlzLnBhZGRpbmcpOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xpcCgpOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSB0ZXh0Q29sb3I7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGxUZXh0KHRleHQsIHggKyB0aGlzLmJvcmRlcldpZHRoICsgdGhpcy5wYWRkaW5nLCB5ICsgdGhpcy5ib3hIZWlnaHQgLyAyICsgdGhpcy5ib3JkZXJXaWR0aCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICB9CiAgICB1cGRhdGVUb29sdGlwKG5vZGUpIHsKICAgICAgICB0aGlzLnRvb2x0aXAuZnVuY3Rpb24uaW5uZXJUZXh0ID0gbm9kZS5mdW5jOwogICAgICAgIGlmIChub2RlLmZpbGUgfHwgbm9kZS5saW5lID4gMCkgewogICAgICAgICAgICB0aGlzLnRvb2x0aXAuZmlsZS5pbm5lclRleHQgPSBub2RlLmZpbGUgKyAnOicgKyBub2RlLmxpbmU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnRvb2x0aXAuZmlsZS5pbm5lclRleHQgPSAnJzsKICAgICAgICB9CiAgICAgICAgdGhpcy50b29sdGlwLmNvdW50LmlubmVyVGV4dCA9IChub2RlLmNvdW50TGFiZWwgfHwgKG5vZGUuY291bnQgKyAnIHNhbXBsZXMnKSkudG9TdHJpbmcoKTsKICAgICAgICBsZXQgcGVyY2VudGFnZVRleHQgPSAoKDEwMCAqIG5vZGUuY291bnQpIC8KICAgICAgICAgICAgdGhpcy5kYXRhW3RoaXMuY3VycmVudFNlbGVjdGlvbl0uY291bnQpLnRvRml4ZWQoKSArICclIG9mIHJvb3QnOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZU5vZGUuY291bnQgIT0gdGhpcy5kYXRhW3RoaXMuY3VycmVudFNlbGVjdGlvbl0uY291bnQpIHsKICAgICAgICAgICAgcGVyY2VudGFnZVRleHQgPSBwZXJjZW50YWdlVGV4dCArICcsICcgKyAoKDEwMCAqIG5vZGUuY291bnQpIC8KICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTm9kZS5jb3VudCkudG9GaXhlZCgpICsgJyUgb2Ygc2VsZWN0aW9uJzsKICAgICAgICB9CiAgICAgICAgdGhpcy50b29sdGlwLnBlcmNlbnRhZ2UuaW5uZXJUZXh0ID0gcGVyY2VudGFnZVRleHQ7CiAgICAgICAgY29uc3QgZmxhZ3MgPSBbXTsKICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MDEpIHsKICAgICAgICAgICAgZmxhZ3MucHVzaCgncnVudGltZS1kaXNwYXRjaCcpOwogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MDIpIHsKICAgICAgICAgICAgZmxhZ3MucHVzaCgnR0MnKTsKICAgICAgICB9CiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAweDA4KSB7CiAgICAgICAgICAgIGZsYWdzLnB1c2goJ2NvbXBpbGF0aW9uJyk7CiAgICAgICAgfQogICAgICAgIGlmIChub2RlLmZsYWdzICYgMHgxMCkgewogICAgICAgICAgICBmbGFncy5wdXNoKCd0YXNrJyk7CiAgICAgICAgfQogICAgICAgIGxldCBmbGFnU3RyaW5nID0gJyc7CiAgICAgICAgaWYgKGZsYWdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZmxhZ1N0cmluZyA9ICdGbGFnczogJyArIGZsYWdzLmpvaW4oJywgJyk7CiAgICAgICAgfQogICAgICAgIHRoaXMudG9vbHRpcC5mbGFncy5pbm5lclRleHQgPSBmbGFnU3RyaW5nOwogICAgICAgIGlmICh0aGlzLmN0cmxDbGlja0hhbmRsZXIpIHsKICAgICAgICAgICAgdGhpcy50b29sdGlwWydjdHJsQ2xpY2tIaW50J10uaW5uZXJUZXh0ID0KICAgICAgICAgICAgICAgICdDdHJsL0NtZCtDbGljayB0byBvcGVuIHRoaXMgZmlsZSc7CiAgICAgICAgfQogICAgfQogICAgZHJhd0hvdmVyTm9kZShub2RlKSB7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5maWxsU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yOwogICAgICAgIHRoaXMuaG92ZXJDYW52YXNDdHguZmlsbFJlY3Qobm9kZS5wb3MueCwgbm9kZS5wb3MueSArIHRoaXMuYm9yZGVyV2lkdGgsIE1hdGgubWF4KDEsIG5vZGUucG9zLndpZHRoKSwgbm9kZS5wb3MuaGVpZ2h0IC0gdGhpcy5ib3JkZXJXaWR0aCk7CiAgICAgICAgY29uc3QgaW5uZXJXaWR0aCA9IG5vZGUucG9zLndpZHRoIC0gdGhpcy5ib3JkZXJXaWR0aCAqIDIgKiB0aGlzLnNjYWxlOwogICAgICAgIGlmIChpbm5lcldpZHRoID4gMSkgewogICAgICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4LmNsZWFyUmVjdChub2RlLnBvcy54ICsgdGhpcy5ib3JkZXJXaWR0aCAqIHRoaXMuc2NhbGUsIG5vZGUucG9zLnkgKyAyICogdGhpcy5ib3JkZXJXaWR0aCAqIHRoaXMuc2NhbGUsIGlubmVyV2lkdGgsIG5vZGUucG9zLmhlaWdodCAtIHRoaXMuYm9yZGVyV2lkdGggKiAzICogdGhpcy5zY2FsZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcChub2RlKTsKICAgIH0KICAgIGNsZWFySG92ZXIoKSB7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0KICAgIGRyYXdIb3Zlcihub2RlLCBtb3VzZVgsIG1vdXNlWSkgewogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgIHRoaXMucnVuT25Ob2RlQXRNb3VzZVBvc2l0aW9uKG5vZGUsIG1vdXNlWCwgbW91c2VZLCAobm9kZSkgPT4gewogICAgICAgICAgICB0aGlzLmRyYXdIb3Zlck5vZGUobm9kZSk7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZm91bmQ7CiAgICB9CiAgICBydW5Pbk5vZGVBdE1vdXNlUG9zaXRpb24ocm9vdCwgeCwgeSwgZikgewogICAgICAgIGlmICh4ID49IE1hdGguZmxvb3Iocm9vdC5wb3MueCkgJiYKICAgICAgICAgICAgeCA8PSBNYXRoLmNlaWwocm9vdC5wb3MueCArIHJvb3QucG9zLndpZHRoKSAmJgogICAgICAgICAgICB5ID49IHJvb3QucG9zLnkpIHsKICAgICAgICAgICAgaWYgKHkgPD0gcm9vdC5wb3MueSArIHJvb3QucG9zLmhlaWdodCkgewogICAgICAgICAgICAgICAgZihyb290KTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVuT25Ob2RlQXRNb3VzZVBvc2l0aW9uKGNoaWxkLCB4LCB5LCBmKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgem9vbUluT25Ob2RlKG5vZGUsIG1vdXNlWCwgbW91c2VZKSB7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgdGhpcy5ydW5Pbk5vZGVBdE1vdXNlUG9zaXRpb24obm9kZSwgbW91c2VYLCBtb3VzZVksIChub2RlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSBub2RlOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgfQogICAgLy8gaWRlYWxseSB0aGlzIHdvdWxkbid0IHJlcXVpcmUgdHJlZSB0cmF2ZXJzYWwgYXQgYWxsCiAgICBmaW5kUGFyZW50Tm9kZSh0YXJnZXQsIGN1cnJlbnQgPSBudWxsKSB7CiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHsKICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZGF0YVt0aGlzLmN1cnJlbnRTZWxlY3Rpb25dOwogICAgICAgIH0KICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGN1cnJlbnQuY2hpbGRyZW4pIHsKICAgICAgICAgICAgaWYgKGNoaWxkID09PSB0YXJnZXQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLmZpbmRQYXJlbnROb2RlKHRhcmdldCwgY2hpbGQpOwogICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ZpbGUtdmlld2VyLmpzLm1hcA==')
    const viewer = new ProfileCanvas.ProfileViewer("#profiler-container-61409", {"24":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"4":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"1":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_start","file":"client.jl","path":"./client.jl","line":522,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exec_options","file":"client.jl","path":"./client.jl","line":322,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_main_repl","file":"client.jl","path":"./client.jl","line":405,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"invokelatest","file":"essentials.jl","path":"./essentials.jl","line":816,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#invokelatest#2","file":"essentials.jl","path":"./essentials.jl","line":819,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#1017","file":"client.jl","path":"./client.jl","line":421,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_repl","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":365,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_repl#59","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":379,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"start_repl_backend","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":231,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#start_repl_backend#46","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":234,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"repl_backend_loop","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":249,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_user_input","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":153,"count":50,"countLabel":null,"flags":4,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include","file":"client.jl","path":"./client.jl","line":478,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_include","file":"loading.jl","path":"./loading.jl","line":1963,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1903,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"weave","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":124,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#weave#124","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":176,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_doc","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":6,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_doc#21","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":74,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":133,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":263,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_code","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":192,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":610,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":656,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":683,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#29","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":191,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"capture_output","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":216,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"task_local_storage","file":"task.jl","path":"./task.jl","line":296,"count":50,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"#32","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":218,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1913,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1903,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1086,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1090,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1057,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":160,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":954,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":963,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":850,"count":9,"countLabel":null,"flags":9,"taskId":null,"children":[{"func":"∘","file":"operators.jl","path":"./operators.jl","line":1043,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"ComposedFunction","file":"operators.jl","path":"./operators.jl","line":1028,"count":4,"countLabel":null,"flags":1,"taskId":null,"children":[]}]},{"func":"reduce_empty","file":"reduce.jl","path":"./reduce.jl","line":356,"count":1,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1855,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_apply","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1566,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":293,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"cache_result!","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":403,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"transform_result_for_cache","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":377,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"maybe_compress_codeinfo","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":358,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2658,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2658,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":273,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":503,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":554,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":539,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"convert_to_ircode","file":"optimize.jl","path":"./compiler/optimize.jl","line":659,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"setindex!","file":"essentials.jl","path":"./essentials.jl","line":578,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":80,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"find_matching_methods","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":344,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":559,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#296","file":"reduce.jl","path":"./reduce.jl","line":559,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":530,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#295","file":"reduce.jl","path":"./reduce.jl","line":530,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":302,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#292","file":"reduce.jl","path":"./reduce.jl","line":302,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":170,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#288","file":"reduce.jl","path":"./reduce.jl","line":170,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#43","file":"none","path":"./none","line":0,"count":18,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"share_v2","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":32,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Integrator","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":530,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#295","file":"reduce.jl","path":"./reduce.jl","line":530,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":302,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#292","file":"reduce.jl","path":"./reduce.jl","line":302,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":170,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#288","file":"reduce.jl","path":"./reduce.jl","line":170,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#38","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":14,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"arraymath.jl","path":"./arraymath.jl","line":24,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":862,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":6,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":28,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"dplusxMy","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":6,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_turbo_!","file":"reconstruct_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/xHfLl/src/reconstruct_loopset.jl","line":1107,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"reconstruct_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/xHfLl/src/reconstruct_loopset.jl","line":1107,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vfmadd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":489,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/base_defs.jl","line":314,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":434,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":434,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]},{"func":"partialmap","file":"lower_compute.jl","path":"/home/paul/.julia/packages/LoopVectorization/xHfLl/src/codegen/lower_compute.jl","line":292,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"lower_compute.jl","path":"/home/paul/.julia/packages/LoopVectorization/xHfLl/src/codegen/lower_compute.jl","line":0,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vfmadd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":489,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/base_defs.jl","line":314,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":434,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":434,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]},{"func":"dplusxMy","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":5,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"array.jl","path":"./array.jl","line":369,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":29,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":19,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":881,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":884,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":610,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":656,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":683,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":325,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":216,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"expm1b_kernel","file":"exp.jl","path":"./special/exp.jl","line":78,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"evalpoly","file":"math.jl","path":"./math.jl","line":177,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"math.jl","path":"./math.jl","line":178,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":413,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":211,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"-","file":"float.jl","path":"./float.jl","line":409,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":20,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":881,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":884,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"setindex!","file":"array.jl","path":"./array.jl","line":969,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":81,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"add_sum","file":"reduce.jl","path":"./reduce.jl","line":24,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":16,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":862,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":3,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":12,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},"12":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"29":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"20":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"32":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"2":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"6":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"25":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"23":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"22":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"11":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"35":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"13":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"5":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"15":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"27":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"31":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"33":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"28":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"16":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"14":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"39":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"40":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"21":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"38":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"7":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"34":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"8":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"all":{"func":"root","file":"","path":"","line":0,"count":2056,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":2005,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":2005,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":2005,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]},{"func":"_start","file":"client.jl","path":"./client.jl","line":522,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exec_options","file":"client.jl","path":"./client.jl","line":322,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_main_repl","file":"client.jl","path":"./client.jl","line":405,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"invokelatest","file":"essentials.jl","path":"./essentials.jl","line":816,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#invokelatest#2","file":"essentials.jl","path":"./essentials.jl","line":819,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#1017","file":"client.jl","path":"./client.jl","line":421,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_repl","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":365,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_repl#59","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":379,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"start_repl_backend","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":231,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#start_repl_backend#46","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":234,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"repl_backend_loop","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":249,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_user_input","file":"REPL.jl","path":"/cache/build/default-amdci5-5/julialang/julia-release-1-dot-9/usr/share/julia/stdlib/v1.9/REPL/src/REPL.jl","line":153,"count":50,"countLabel":null,"flags":4,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include","file":"client.jl","path":"./client.jl","line":478,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_include","file":"loading.jl","path":"./loading.jl","line":1963,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1903,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"weave","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":124,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#weave#124","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":176,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_doc","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":6,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_doc#21","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":74,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":133,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":263,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_code","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":192,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":610,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":656,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":683,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#29","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":191,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"capture_output","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":216,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"task_local_storage","file":"task.jl","path":"./task.jl","line":296,"count":50,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"#32","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":218,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1913,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":1903,"count":50,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":370,"count":50,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1086,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1090,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1057,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":160,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":954,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":963,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":850,"count":9,"countLabel":null,"flags":9,"taskId":null,"children":[{"func":"∘","file":"operators.jl","path":"./operators.jl","line":1043,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"ComposedFunction","file":"operators.jl","path":"./operators.jl","line":1028,"count":4,"countLabel":null,"flags":1,"taskId":null,"children":[]}]},{"func":"reduce_empty","file":"reduce.jl","path":"./reduce.jl","line":356,"count":1,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1855,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_apply","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1566,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":293,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"cache_result!","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":403,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"transform_result_for_cache","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":377,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"maybe_compress_codeinfo","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":358,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2658,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2658,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":246,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2955,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2867,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2682,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2396,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2183,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1999,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2020,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1949,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":152,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":611,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":932,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":273,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":503,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":554,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":539,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"convert_to_ircode","file":"optimize.jl","path":"./compiler/optimize.jl","line":659,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"setindex!","file":"essentials.jl","path":"./essentials.jl","line":578,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":80,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"find_matching_methods","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":344,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":559,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#296","file":"reduce.jl","path":"./reduce.jl","line":559,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":530,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#295","file":"reduce.jl","path":"./reduce.jl","line":530,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":302,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#292","file":"reduce.jl","path":"./reduce.jl","line":302,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":170,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#288","file":"reduce.jl","path":"./reduce.jl","line":170,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#43","file":"none","path":"./none","line":0,"count":18,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"share_v2","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":32,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Integrator","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":530,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#295","file":"reduce.jl","path":"./reduce.jl","line":530,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":302,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#292","file":"reduce.jl","path":"./reduce.jl","line":302,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":170,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#288","file":"reduce.jl","path":"./reduce.jl","line":170,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":95,"count":18,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#38","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":14,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"arraymath.jl","path":"./arraymath.jl","line":24,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":862,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":6,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":6,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":28,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"dplusxMy","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":6,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_turbo_!","file":"reconstruct_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/xHfLl/src/reconstruct_loopset.jl","line":1107,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"reconstruct_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/xHfLl/src/reconstruct_loopset.jl","line":1107,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vfmadd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":489,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/base_defs.jl","line":314,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":434,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":434,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]},{"func":"partialmap","file":"lower_compute.jl","path":"/home/paul/.julia/packages/LoopVectorization/xHfLl/src/codegen/lower_compute.jl","line":292,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"lower_compute.jl","path":"/home/paul/.julia/packages/LoopVectorization/xHfLl/src/codegen/lower_compute.jl","line":0,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vfmadd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":489,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/base_defs.jl","line":314,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":434,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/0dXyA/src/llvm_intrin/intrin_funcs.jl","line":434,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]},{"func":"dplusxMy","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":5,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"array.jl","path":"./array.jl","line":369,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":29,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":19,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":881,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":884,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":610,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":656,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":683,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":325,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":216,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"expm1b_kernel","file":"exp.jl","path":"./special/exp.jl","line":78,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"evalpoly","file":"math.jl","path":"./math.jl","line":177,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"math.jl","path":"./math.jl","line":178,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":413,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":211,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"-","file":"float.jl","path":"./float.jl","line":409,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":20,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":881,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":884,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":926,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":973,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":974,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"setindex!","file":"array.jl","path":"./array.jl","line":969,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":81,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"add_sum","file":"reduce.jl","path":"./reduce.jl","line":24,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":16,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":862,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":873,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":898,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":211,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":212,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":883,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":884,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":3,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":12,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},"36":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"26":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"17":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"10":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"19":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"37":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"9":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"18":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"30":{"func":"root","file":"","path":"","line":0,"count":52,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":52,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"3":{"func":"root","file":"","path":"","line":0,"count":51,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":672,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":983,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":974,"count":51,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]}}, "Thread")
</script>
<p>The execution time is still dominated by the two functions mentioned above.</p>
</section>
<section id="staticarrays" class="level2">
<h2 class="anchored" data-anchor-id="staticarrays">StaticArrays</h2>
<p>Since the calculations involve small arrays, it is likely to benefit from using <code>StaticArrays</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">StaticArrays</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>sδ <span class="op">=</span> <span class="fu">SVector</span><span class="dt">{J}</span>(δ)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>sΣ <span class="op">=</span> <span class="fu">SMatrix</span><span class="dt">{K,K}</span>(Σ)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>sX <span class="op">=</span> <span class="fu">SMatrix</span><span class="dt">{J,K}</span>(X)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>nd <span class="op">=</span> <span class="fu">length</span>(∫.x)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>iw <span class="op">=</span> <span class="fu">SVector</span><span class="dt">{nd}</span>(<span class="fu">fill</span>(<span class="fl">1</span><span class="op">/</span>nd,nd))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>ix <span class="op">=</span> [<span class="fu">SVector</span><span class="dt">{K}</span>(x) for x <span class="op">∈</span> ∫.x]</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>s∫ <span class="op">=</span> <span class="fu">Integrator</span>(ix,iw)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share_v2</span>(sδ,sΣ,sX,s∫)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  19.137 μs …   6.068 ms  ┊ GC (min … max):  0.00% … 98.
81%
 Time  (median):     23.537 μs               ┊ GC (median):     0.00%
 Time  (mean ± σ):   28.425 μs ± 146.854 μs  ┊ GC (mean ± σ):  12.55% ±  2.
42%

            ▃▇█                                                 
  ▄▄▃▄▄▃▃▃▃▇████▄▃▂▂▂▂▂▂▂▁▂▂▂▁▂▂▂▂▂▂▂▂▂▃▄▃▃▄▃▂▃▂▂▂▂▂▂▂▂▁▂▂▂▂▂▂ ▃
  19.1 μs         Histogram: frequency by time         41.4 μs &lt;

 Memory estimate: 28.03 KiB, allocs estimate: 299.</code></pre>
<p>The code is now 2 times faster than what we started with.</p>
<p>Interestly, slightly better performance can be achieved by simply passing <code>StaticArrays</code> to the original code.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share</span>(<span class="op">$</span>(<span class="fu">MVector</span>(sδ)),sΣ,sX,s∫) <span class="co"># δ gets mutated, so we must make it a Mutable SArray.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  15.714 μs …   6.047 ms  ┊ GC (min … max):  0.00% … 98.
51%
 Time  (median):     18.368 μs               ┊ GC (median):     0.00%
 Time  (mean ± σ):   23.719 μs ± 144.543 μs  ┊ GC (mean ± σ):  14.79% ±  2.
42%

  ▄▄▄▄▄▆█▆▄▂▂▁                      ▄▂▃▃    ▁                  ▂
  █████████████▆▆▁▁▁▃▁▁▁▅▄▅▅▆▅▆▃▄▄▆▅█████████▇▇█▇▇▇▆▅▇█▇█▇▇▆▅▆ █
  15.7 μs       Histogram: log(frequency) by time      40.1 μs &lt;

 Memory estimate: 28.03 KiB, allocs estimate: 299.</code></pre>
</section>
<section id="non-allocating" class="level2">
<h2 class="anchored" data-anchor-id="non-allocating">Non-allocating</h2>
<p>We can do still better by eliminating the allocations. With normal arrays, broadcast operations are usually non-allocating, and normal array operations allocate. With <code>StaticArrays</code>, normal operatorations do not allocate.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">share_v3</span>(δ, Σ, x, ∫)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  J,K <span class="op">=</span> <span class="fu">size</span>(x)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">length</span>(δ) <span class="op">==</span> J) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"length(δ)=</span><span class="sc">$</span>(<span class="fu">length</span>(δ))<span class="st"> != size(x,1)=</span><span class="sc">$</span>J<span class="st">"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  (K,K) <span class="op">==</span> <span class="fu">size</span>(Σ) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"size(x,2)=</span><span class="sc">$</span>K<span class="st"> != size(Σ)=</span><span class="sc">$</span>(<span class="fu">size</span>(Σ))<span class="st">"</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">shareν</span>(ν)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> δ <span class="op">+</span> x<span class="op">*</span>Σ<span class="op">*</span>ν</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    smax<span class="op">=</span><span class="fu">max</span>(<span class="fl">0</span>,<span class="fu">maximum</span>(s))</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    s <span class="op">-=</span> <span class="fu">smax*ones</span>(<span class="fu">typeof</span>(s))</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="fu">exp</span>.(s)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    s <span class="op">*=</span> <span class="fl">1</span><span class="op">/</span>(<span class="fu">sum</span>(s) <span class="op">+</span> <span class="fu">exp</span>(<span class="fl">0</span><span class="op">-</span>smax))</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(s)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(<span class="fu">∫</span>(shareν))</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>share_v3 (generic function with 1 method)</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share_v3</span>(sδ,sΣ,sX,s∫)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  11.244 μs …  36.737 μs  ┊ GC (min … max): 0.00% … 0.00
%
 Time  (median):     11.804 μs               ┊ GC (median):    0.00%
 Time  (mean ± σ):   11.965 μs ± 999.148 ns  ┊ GC (mean ± σ):  0.00% ± 0.00
%

             ▂▃▅▆ █ ▇ ▆ ▃ ▂ ▁       ▂ ▃▁▂                      ▂
  ▅▁▄▁▃▁▅▁▄▃▅████▁█▁█▁█▆█████▇▇▇▄▁█▃█████▇█▅▆▆▄▁▇▃▇▄▆▃▄▄▁▅▅█▅▆ █
  11.2 μs       Histogram: log(frequency) by time      13.3 μs &lt;

 Memory estimate: 96 bytes, allocs estimate: 1.</code></pre>
<p>The code is now 5 times faster than the original, and only allocates once (to store the return value). If one wanted to optimize further, you could still parallelized the sum in the integral. You could try using the <code>VectorizedReduction</code>. to execute the sum using SIMD instructions, or multi-thread the loop following the pattern suggested in <a href="https://docs.julialang.org/en/v1/manual/multi-threading/#Using-@threads-without-data-races">the Julia documentation</a>. There are also multiple packages that provide threaded reductions.</p>
<p>I suspect the loop is too small to see gains from multithreading, but I am not certain.</p>
</section>
</section>
<section id="statparts" class="level1">
<h1><code>statparts</code></h1>
<p>A few people worked on optimizing the <code>klm</code> or <code>clr</code> function from <a href="https://github.com/schrimpf/GMMInference.jl">GMMInference.jl</a>. Here is the original code for <code>klm</code>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">ForwardDiff</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">statparts</span>(gi<span class="op">::</span><span class="dt">Function</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">P</span>(A<span class="op">::</span><span class="dt">AbstractMatrix</span>) <span class="co"># projection matrix</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">A*pinv</span>(A<span class="op">'*</span>A)<span class="op">*</span>A<span class="op">'</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span>(θ)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    giθ <span class="op">=</span> <span class="fu">gi</span>(θ)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    p <span class="op">=</span> <span class="fu">length</span>(θ)    </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    (n, k) <span class="op">=</span> <span class="fu">size</span>(giθ)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    Ω <span class="op">=</span> <span class="fu">cov</span>(giθ)  </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    gn<span class="op">=</span><span class="fu">mean</span>(<span class="fu">gi</span>(θ), dims<span class="op">=</span><span class="fl">1</span>)<span class="ch">'</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    Gi<span class="op">=</span> ForwardDiff.<span class="fu">jacobian</span>(gi,θ)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    Gi <span class="op">=</span> <span class="fu">reshape</span>(Gi, n , k, p)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    G <span class="op">=</span> <span class="fu">mean</span>(Gi, dims<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>    Γ <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),p,k,k)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>    D <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),k, p)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>p</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>        Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">+=</span> (Gi[i,<span class="op">:</span>,j] <span class="op">.-</span> G[<span class="fl">1</span>,<span class="op">:</span>,j]) <span class="op">*</span> giθ[i,<span class="op">:</span>]<span class="ch">'</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>      Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">./=</span> n</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>      D[<span class="op">:</span>,j] <span class="op">=</span> G[<span class="fl">1</span>,<span class="op">:</span>,j] <span class="op">-</span> Γ[j,<span class="op">:</span>,<span class="op">:</span>]<span class="fu">*inv</span>(Ω)<span class="op">*</span>gn</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(n,k,p,gn, Ω, D, P)</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">klm</span>(gi<span class="op">::</span><span class="dt">Function</span>)</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>  SP <span class="op">=</span> <span class="fu">statparts</span>(gi)</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span>(θ)</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>    (n,k,p,gn, Ω, D, P) <span class="op">=</span> <span class="fu">SP</span>(θ)</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">n*</span>(gn<span class="op">'*</span>Ω<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>)<span class="fu">*P</span>(Ω<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>)<span class="op">*</span>D)<span class="op">*</span>Ω<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>)<span class="op">*</span>gn)[<span class="fl">1</span>]</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>klm (generic function with 1 method)</code></pre>
<p>To run the code, we need an example <code>gi</code> function. We’ll just copy the example from <a href="https://schrimpf.github.io/GMMInference.jl/dev/identificationRobustInference/#Example:-IV-logit-demand">the docs</a>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Random</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">simulate_ivshare</span>(n,β,γ,ρ)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  z <span class="op">=</span> <span class="fu">randn</span>(n, <span class="fu">size</span>(γ)[<span class="fl">1</span>])</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  endo <span class="op">=</span> <span class="fu">randn</span>(n, <span class="fu">length</span>(β))</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  x <span class="op">=</span> z<span class="op">*</span>γ <span class="op">.+</span> endo</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  ξ <span class="op">=</span> <span class="fu">rand</span>(<span class="fu">Normal</span>(<span class="fl">0</span>,<span class="fu">sqrt</span>((<span class="fl">1.0</span><span class="op">-</span>ρ<span class="op">^</span><span class="fl">2</span>))),n)<span class="op">.+</span>endo[<span class="op">:</span>,<span class="fl">1</span>]<span class="op">*</span>ρ</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  y <span class="op">=</span> <span class="fu">cdf</span>.(<span class="fu">Logistic</span>(), x<span class="op">*</span>β <span class="op">.+</span> ξ)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>((y<span class="op">=</span>y,x<span class="op">=</span>x,z<span class="op">=</span>z))</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">100</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>k <span class="op">=</span> <span class="fl">2</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>iv <span class="op">=</span> <span class="fl">3</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>β<span class="fl">0</span> <span class="op">=</span> <span class="fu">ones</span>(k)</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>π<span class="fl">0</span> <span class="op">=</span> <span class="fu">vcat</span>(<span class="fl">5</span><span class="op">*</span>I,<span class="fu">ones</span>(iv<span class="op">-</span>k,k))</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>ρ <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="bu">Random</span>.<span class="fu">seed!</span>(<span class="fl">622</span>)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>(y,x,z) <span class="op">=</span> <span class="fu">simulate_ivshare</span>(n,β<span class="fl">0</span>,π<span class="fl">0</span>,ρ)</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">gi_ivshare</span>(β,y,x,z)</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  ξ <span class="op">=</span> <span class="fu">quantile</span>.(<span class="fu">Logistic</span>(),y) <span class="op">.-</span> x<span class="op">*</span>β</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  ξ<span class="op">.*</span>z</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>gi <span class="op">=</span> <span class="kw">let</span> y<span class="op">=</span>y, x<span class="op">=</span>x, z<span class="op">=</span>z</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">β-&gt;gi_ivshare</span>(β,y,x,z)</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>#53 (generic function with 1 method)</code></pre>
<section id="initial-benchmark-1" class="level2">
<h2 class="anchored" data-anchor-id="initial-benchmark-1">Initial Benchmark</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 7163 samples with 1 evaluation.
 Range (min … max):  608.818 μs …  10.070 ms  ┊ GC (min … max): 0.00% … 90.
29%
 Time  (median):     630.120 μs               ┊ GC (median):    0.00%
 Time  (mean ± σ):   686.528 μs ± 615.999 μs  ┊ GC (mean ± σ):  5.90% ±  6.
13%

    ▁█▇▄                                                         
  ▁▄████▇▄▃▃▃▃▃▃▃▃▄▄▄▄▄▃▃▃▃▃▃▃▃▃▂▂▂▂▂▂▂▂▁▂▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ ▂
  609 μs           Histogram: frequency by time          764 μs &lt;

 Memory estimate: 217.92 KiB, allocs estimate: 2964.</code></pre>
</section>
<section id="fixing-type-instabilities" class="level2">
<h2 class="anchored" data-anchor-id="fixing-type-instabilities">Fixing Type Instabilities</h2>
<p>From <code>@code_warntype</code>, we see that the compiles is unable to infer the type of some variables. The problem seems to start with <code>D</code>. This is quite puzzling because <code>D</code> is explicitly initialized as <code>zeros(eltype(Gi),...).</code></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@code_warntype</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>MethodInstance for (::var"#51#52"{var"#48#50"{var"#53#54"{Vector{Float64}, 
Matrix{Float64}, Matrix{Float64}}, var"#P#49"}})(::Vector{Float64})
  from (::var"#51#52")(θ) @ Main ~/.julia/dev/ARGridBootstrap/docs/jmd/assi
gnment.jmd:31
Arguments
  #self#::var"#51#52"{var"#48#50"{var"#53#54"{Vector{Float64}, Matrix{Float
64}, Matrix{Float64}}, var"#P#49"}}
  θ::Vector{Float64}
Locals
  @_3::Int64
  P::var"#P#49"
  D::ANY
  Ω::Matrix{Float64}
  gn::Adjoint{Float64, Matrix{Float64}}
  p::Int64
  k::Int64
  n::Int64
Body::ANY
1 ─ %1  = Core.getfield(#self#, :SP)::var"#48#50"{var"#53#54"{Vector{Float6
4}, Matrix{Float64}, Matrix{Float64}}, var"#P#49"}
│   %2  = (%1)(θ)::TUPLE{INT64, INT64, INT64, ADJOINT{FLOAT64, MATRIX{FLOAT
64}}, MATRIX{FLOAT64}, ANY, VAR"#P#49"}
│   %3  = Base.indexed_iterate(%2, 1)::Core.PartialStruct(Tuple{Int64, Int6
4}, Any[Int64, Core.Const(2)])
│         (n = Core.getfield(%3, 1))
│         (@_3 = Core.getfield(%3, 2))
│   %6  = Base.indexed_iterate(%2, 2, @_3::Core.Const(2))::Core.PartialStru
ct(Tuple{Int64, Int64}, Any[Int64, Core.Const(3)])
│         (k = Core.getfield(%6, 1))
│         (@_3 = Core.getfield(%6, 2))
│   %9  = Base.indexed_iterate(%2, 3, @_3::Core.Const(3))::Core.PartialStru
ct(Tuple{Int64, Int64}, Any[Int64, Core.Const(4)])
│         (p = Core.getfield(%9, 1))
│         (@_3 = Core.getfield(%9, 2))
│   %12 = Base.indexed_iterate(%2, 4, @_3::Core.Const(4))::Core.PartialStru
ct(Tuple{Adjoint{Float64, Matrix{Float64}}, Int64}, Any[Adjoint{Float64, Ma
trix{Float64}}, Core.Const(5)])
│         (gn = Core.getfield(%12, 1))
│         (@_3 = Core.getfield(%12, 2))
│   %15 = Base.indexed_iterate(%2, 5, @_3::Core.Const(5))::Core.PartialStru
ct(Tuple{Matrix{Float64}, Int64}, Any[Matrix{Float64}, Core.Const(6)])
│         (Ω = Core.getfield(%15, 1))
│         (@_3 = Core.getfield(%15, 2))
│   %18 = Base.indexed_iterate(%2, 6, @_3::Core.Const(6))::Core.PartialStru
ct(Tuple{Any, Int64}, Any[Any, Core.Const(7)])
│         (D = Core.getfield(%18, 1))
│         (@_3 = Core.getfield(%18, 2))
│   %21 = Base.indexed_iterate(%2, 7, @_3::Core.Const(7))::Core.Const((var"
#P#49"(), 8))
│         (P = Core.getfield(%21, 1))
│   %23 = n::Int64
│   %24 = Main.:var"'"(gn)::Matrix{Float64}
│   %25 = Ω::Matrix{Float64}
│   %26 = (-1 / 2)::Core.Const(-0.5)
│   %27 = (%25 ^ %26)::ANY
│   %28 = Ω::Matrix{Float64}
│   %29 = (-1 / 2)::Core.Const(-0.5)
│   %30 = (%28 ^ %29)::ANY
│   %31 = (%30 * D)::ANY
│   %32 = (P)(%31)::ANY
│   %33 = Ω::Matrix{Float64}
│   %34 = (-1 / 2)::Core.Const(-0.5)
│   %35 = (%33 ^ %34)::ANY
│   %36 = (%24 * %27 * %32 * %35 * gn)::ANY
│   %37 = Base.getindex(%36, 1)::ANY
│   %38 = (%23 * %37)::ANY
└──       return %38</code></pre>
<p>To investigate further, let us focus on <code>statparts</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@code_warntype</span> <span class="fu">statparts</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>MethodInstance for (::var"#48#50"{var"#53#54"{Vector{Float64}, Matrix{Float
64}, Matrix{Float64}}, var"#P#49"})(::Vector{Float64})
  from (::var"#48#50")(θ) @ Main ~/.julia/dev/ARGridBootstrap/docs/jmd/assi
gnment.jmd:7
Arguments
  #self#::var"#48#50"{var"#53#54"{Vector{Float64}, Matrix{Float64}, Matrix{
Float64}}, var"#P#49"}
  θ::Vector{Float64}
Locals
  @_3::UNION{NOTHING, TUPLE{INT64, INT64}}
  @_4::Int64
  D::ANY
  Γ::ANY
  G::ANY
  Gi::ANY
  gn::Adjoint{Float64, Matrix{Float64}}
  Ω::Matrix{Float64}
  k::Int64
  n::Int64
  p::Int64
  giθ::Matrix{Float64}
  @_15::UNION{NOTHING, TUPLE{INT64, INT64}}
  j::Int64
  i::Int64
Body::TUPLE{INT64, INT64, INT64, ADJOINT{FLOAT64, MATRIX{FLOAT64}}, MATRIX{
FLOAT64}, ANY, VAR"#P#49"}
1 ─ %1  = Core.getfield(#self#, :gi)::var"#53#54"{Vector{Float64}, Matrix{F
loat64}, Matrix{Float64}}
│         (giθ = (%1)(θ))
│         (p = Main.length(θ))
│   %4  = Main.size(giθ)::Tuple{Int64, Int64}
│   %5  = Base.indexed_iterate(%4, 1)::Core.PartialStruct(Tuple{Int64, Int6
4}, Any[Int64, Core.Const(2)])
│         (n = Core.getfield(%5, 1))
│         (@_4 = Core.getfield(%5, 2))
│   %8  = Base.indexed_iterate(%4, 2, @_4::Core.Const(2))::Core.PartialStru
ct(Tuple{Int64, Int64}, Any[Int64, Core.Const(3)])
│         (k = Core.getfield(%8, 1))
│         (Ω = Main.cov(giθ))
│   %11 = Core.getfield(#self#, :gi)::var"#53#54"{Vector{Float64}, Matrix{F
loat64}, Matrix{Float64}}
│   %12 = (%11)(θ)::Matrix{Float64}
│   %13 = (:dims,)::Core.Const((:dims,))
│   %14 = Core.apply_type(Core.NamedTuple, %13)::Core.Const(NamedTuple{(:di
ms,)})
│   %15 = Core.tuple(1)::Core.Const((1,))
│   %16 = (%14)(%15)::Core.Const((dims = 1,))
│   %17 = Core.kwcall(%16, Main.mean, %12)::Matrix{Float64}
│         (gn = Main.:var"'"(%17))
│   %19 = ForwardDiff.jacobian::Core.Const(ForwardDiff.jacobian)
│   %20 = Core.getfield(#self#, :gi)::var"#53#54"{Vector{Float64}, Matrix{F
loat64}, Matrix{Float64}}
│         (Gi = (%19)(%20, θ))
│         (Gi = Main.reshape(Gi, n, k, p))
│   %23 = (:dims,)::Core.Const((:dims,))
│   %24 = Core.apply_type(Core.NamedTuple, %23)::Core.Const(NamedTuple{(:di
ms,)})
│   %25 = Core.tuple(1)::Core.Const((1,))
│   %26 = (%24)(%25)::Core.Const((dims = 1,))
│         (G = Core.kwcall(%26, Main.mean, Gi))
│   %28 = Main.eltype(Gi)::ANY
│   %29 = p::Int64
│   %30 = k::Int64
│         (Γ = Main.zeros(%28, %29, %30, k))
│   %32 = Main.eltype(Gi)::ANY
│   %33 = k::Int64
│         (D = Main.zeros(%32, %33, p))
│   %35 = (1:p)::Core.PartialStruct(UnitRange{Int64}, Any[Core.Const(1), In
t64])
│         (@_3 = Base.iterate(%35))
│   %37 = (@_3 === nothing)::Bool
│   %38 = Base.not_int(%37)::Bool
└──       goto #7 if not %38
2 ┄ %40 = @_3::Tuple{Int64, Int64}
│         (j = Core.getfield(%40, 1))
│   %42 = Core.getfield(%40, 2)::Int64
│   %43 = (1:n)::Core.PartialStruct(UnitRange{Int64}, Any[Core.Const(1), In
t64])
│         (@_15 = Base.iterate(%43))
│   %45 = (@_15 === nothing)::Bool
│   %46 = Base.not_int(%45)::Bool
└──       goto #5 if not %46
3 ┄ %48 = @_15::Tuple{Int64, Int64}
│         (i = Core.getfield(%48, 1))
│   %50 = Core.getfield(%48, 2)::Int64
│   %51 = Base.getindex(Γ, j, Main.:(:), Main.:(:))::ANY
│   %52 = Main.:-::Core.Const(-)
│   %53 = Base.getindex(Gi, i, Main.:(:), j)::ANY
│   %54 = Base.getindex(G, 1, Main.:(:), j)::ANY
│   %55 = Base.broadcasted(%52, %53, %54)::ANY
│   %56 = Base.materialize(%55)::ANY
│   %57 = Base.getindex(giθ, i, Main.:(:))::Vector{Float64}
│   %58 = Main.:var"'"(%57)::Adjoint{Float64, Vector{Float64}}
│   %59 = (%56 * %58)::ANY
│   %60 = (%51 + %59)::ANY
│         Base.setindex!(Γ, %60, j, Main.:(:), Main.:(:))
│         (@_15 = Base.iterate(%43, %50))
│   %63 = (@_15 === nothing)::Bool
│   %64 = Base.not_int(%63)::Bool
└──       goto #5 if not %64
4 ─       goto #3
5 ┄ %67 = Base.dotview(Γ, j, Main.:(:), Main.:(:))::ANY
│   %68 = Main.:/::Core.Const(/)
│   %69 = Base.getindex(Γ, j, Main.:(:), Main.:(:))::ANY
│   %70 = Base.broadcasted(%68, %69, n)::ANY
│         Base.materialize!(%67, %70)
│   %72 = Base.getindex(G, 1, Main.:(:), j)::ANY
│   %73 = Base.getindex(Γ, j, Main.:(:), Main.:(:))::ANY
│   %74 = Main.inv(Ω)::Matrix{Float64}
│   %75 = (%73 * %74 * gn)::ANY
│   %76 = (%72 - %75)::ANY
│         Base.setindex!(D, %76, Main.:(:), j)
│         (@_3 = Base.iterate(%35, %42))
│   %79 = (@_3 === nothing)::Bool
│   %80 = Base.not_int(%79)::Bool
└──       goto #7 if not %80
6 ─       goto #2
7 ┄ %83 = n::Int64
│   %84 = k::Int64
│   %85 = p::Int64
│   %86 = gn::Adjoint{Float64, Matrix{Float64}}
│   %87 = Ω::Matrix{Float64}
│   %88 = D::ANY
│   %89 = Core.getfield(#self#, :P)::Core.Const(var"#P#49"())
│   %90 = Core.tuple(%83, %84, %85, %86, %87, %88, %89)::TUPLE{INT64, INT64
, INT64, ADJOINT{FLOAT64, MATRIX{FLOAT64}}, MATRIX{FLOAT64}, ANY, VAR"#P#49
"}
└──       return %90</code></pre>
<p>We see that <code>G</code>, <code>Gi</code>, <code>Γ</code>, and <code>D</code> are all type <code>Any</code>. For some reason, the return value of <code>ForwardDiff.jacobian</code> is not being inferred. We can workaround this by using an <code>jacobian!</code> instead.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">statparts</span>(gi<span class="op">::</span><span class="dt">F</span>) <span class="kw">where</span> {F <span class="op">&lt;:</span><span class="dt"> Function</span>}</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">P</span>(A<span class="op">::</span><span class="dt">AbstractMatrix</span>) <span class="co"># projection matrix</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">A*pinv</span>(A<span class="op">'*</span>A)<span class="op">*</span>A<span class="op">'</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> gi<span class="op">=</span>gi </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span>(θ)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>      giθ <span class="op">=</span> <span class="fu">gi</span>(θ)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>      p <span class="op">=</span> <span class="fu">length</span>(θ)    </span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>      (n, k) <span class="op">=</span> <span class="fu">size</span>(giθ)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>      Ω <span class="op">=</span> <span class="fu">Hermitian</span>(<span class="fu">cov</span>(giθ))</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>      gn<span class="op">=</span><span class="fu">mean</span>(<span class="fu">gi</span>(θ), dims<span class="op">=</span><span class="fl">1</span>)<span class="ch">'</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>      Gi <span class="op">=</span> <span class="fu">zeros</span>(n,k,p)</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>      ForwardDiff.<span class="fu">jacobian!</span>(Gi,gi,θ)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>      Gi <span class="op">=</span> <span class="fu">reshape</span>(Gi, n , k, p)</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>      G <span class="op">=</span> <span class="fu">mean</span>(Gi, dims<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>      Γ <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),p,k,k)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>      D <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),k, p)</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>p</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>          Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">+=</span> (Gi[i,<span class="op">:</span>,j] <span class="op">.-</span> G[<span class="fl">1</span>,<span class="op">:</span>,j]) <span class="op">*</span> giθ[i,<span class="op">:</span>]<span class="ch">'</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>        Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">./=</span> n</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>        D[<span class="op">:</span>,j] <span class="op">=</span> G[<span class="fl">1</span>,<span class="op">:</span>,j] <span class="op">-</span> Γ[j,<span class="op">:</span>,<span class="op">:</span>]<span class="fu">*inv</span>(Ω)<span class="op">*</span>gn</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span>(n,k,p,gn, Ω, D, P)</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a><span class="pp">@code_warntype</span> <span class="fu">statparts</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>MethodInstance for (::var"#55#57"{var"#P#56", var"#53#54"{Vector{Float64}, 
Matrix{Float64}, Matrix{Float64}}})(::Vector{Float64})
  from (::var"#55#57")(θ) @ Main ~/.julia/dev/ARGridBootstrap/docs/jmd/assi
gnment.jmd:7
Arguments
  #self#::var"#55#57"{var"#P#56", var"#53#54"{Vector{Float64}, Matrix{Float
64}, Matrix{Float64}}}
  θ::Vector{Float64}
Locals
  @_3::UNION{NOTHING, TUPLE{INT64, INT64}}
  @_4::Int64
  D::Matrix{Float64}
  Γ::Array{Float64, 3}
  G::Array{Float64, 3}
  Gi::Array{Float64, 3}
  gn::Adjoint{Float64, Matrix{Float64}}
  Ω::Hermitian{Float64, Matrix{Float64}}
  k::Int64
  n::Int64
  p::Int64
  giθ::Matrix{Float64}
  @_15::UNION{NOTHING, TUPLE{INT64, INT64}}
  j::Int64
  i::Int64
Body::Tuple{Int64, Int64, Int64, Adjoint{Float64, Matrix{Float64}}, Hermiti
an{Float64, Matrix{Float64}}, Matrix{Float64}, var"#P#56"}
1 ─ %1  = Core.getfield(#self#, Symbol("#457#gi"))::var"#53#54"{Vector{Floa
t64}, Matrix{Float64}, Matrix{Float64}}
│         (giθ = (%1)(θ))
│         (p = Main.length(θ))
│   %4  = Main.size(giθ)::Tuple{Int64, Int64}
│   %5  = Base.indexed_iterate(%4, 1)::Core.PartialStruct(Tuple{Int64, Int6
4}, Any[Int64, Core.Const(2)])
│         (n = Core.getfield(%5, 1))
│         (@_4 = Core.getfield(%5, 2))
│   %8  = Base.indexed_iterate(%4, 2, @_4::Core.Const(2))::Core.PartialStru
ct(Tuple{Int64, Int64}, Any[Int64, Core.Const(3)])
│         (k = Core.getfield(%8, 1))
│   %10 = Main.cov(giθ)::Matrix{Float64}
│         (Ω = Main.Hermitian(%10))
│   %12 = Core.getfield(#self#, Symbol("#457#gi"))::var"#53#54"{Vector{Floa
t64}, Matrix{Float64}, Matrix{Float64}}
│   %13 = (%12)(θ)::Matrix{Float64}
│   %14 = (:dims,)::Core.Const((:dims,))
│   %15 = Core.apply_type(Core.NamedTuple, %14)::Core.Const(NamedTuple{(:di
ms,)})
│   %16 = Core.tuple(1)::Core.Const((1,))
│   %17 = (%15)(%16)::Core.Const((dims = 1,))
│   %18 = Core.kwcall(%17, Main.mean, %13)::Matrix{Float64}
│         (gn = Main.:var"'"(%18))
│         (Gi = Main.zeros(n, k, p))
│   %21 = ForwardDiff.jacobian!::Core.Const(ForwardDiff.jacobian!)
│   %22 = Gi::Array{Float64, 3}
│   %23 = Core.getfield(#self#, Symbol("#457#gi"))::var"#53#54"{Vector{Floa
t64}, Matrix{Float64}, Matrix{Float64}}
│         (%21)(%22, %23, θ)
│         (Gi = Main.reshape(Gi, n, k, p))
│   %26 = (:dims,)::Core.Const((:dims,))
│   %27 = Core.apply_type(Core.NamedTuple, %26)::Core.Const(NamedTuple{(:di
ms,)})
│   %28 = Core.tuple(1)::Core.Const((1,))
│   %29 = (%27)(%28)::Core.Const((dims = 1,))
│         (G = Core.kwcall(%29, Main.mean, Gi))
│   %31 = Main.eltype(Gi)::Core.Const(Float64)
│   %32 = p::Int64
│   %33 = k::Int64
│         (Γ = Main.zeros(%31, %32, %33, k))
│   %35 = Main.eltype(Gi)::Core.Const(Float64)
│   %36 = k::Int64
│         (D = Main.zeros(%35, %36, p))
│   %38 = (1:p)::Core.PartialStruct(UnitRange{Int64}, Any[Core.Const(1), In
t64])
│         (@_3 = Base.iterate(%38))
│   %40 = (@_3 === nothing)::Bool
│   %41 = Base.not_int(%40)::Bool
└──       goto #7 if not %41
2 ┄ %43 = @_3::Tuple{Int64, Int64}
│         (j = Core.getfield(%43, 1))
│   %45 = Core.getfield(%43, 2)::Int64
│   %46 = (1:n)::Core.PartialStruct(UnitRange{Int64}, Any[Core.Const(1), In
t64])
│         (@_15 = Base.iterate(%46))
│   %48 = (@_15 === nothing)::Bool
│   %49 = Base.not_int(%48)::Bool
└──       goto #5 if not %49
3 ┄ %51 = @_15::Tuple{Int64, Int64}
│         (i = Core.getfield(%51, 1))
│   %53 = Core.getfield(%51, 2)::Int64
│   %54 = Base.getindex(Γ, j, Main.:(:), Main.:(:))::Matrix{Float64}
│   %55 = Main.:-::Core.Const(-)
│   %56 = Base.getindex(Gi, i, Main.:(:), j)::Vector{Float64}
│   %57 = Base.getindex(G, 1, Main.:(:), j)::Vector{Float64}
│   %58 = Base.broadcasted(%55, %56, %57)::Base.Broadcast.Broadcasted{Base.
Broadcast.DefaultArrayStyle{1}, Nothing, typeof(-), Tuple{Vector{Float64}, 
Vector{Float64}}}
│   %59 = Base.materialize(%58)::Vector{Float64}
│   %60 = Base.getindex(giθ, i, Main.:(:))::Vector{Float64}
│   %61 = Main.:var"'"(%60)::Adjoint{Float64, Vector{Float64}}
│   %62 = (%59 * %61)::Matrix{Float64}
│   %63 = (%54 + %62)::Matrix{Float64}
│         Base.setindex!(Γ, %63, j, Main.:(:), Main.:(:))
│         (@_15 = Base.iterate(%46, %53))
│   %66 = (@_15 === nothing)::Bool
│   %67 = Base.not_int(%66)::Bool
└──       goto #5 if not %67
4 ─       goto #3
5 ┄ %70 = Base.dotview(Γ, j, Main.:(:), Main.:(:))::SubArray{Float64, 2, Ar
ray{Float64, 3}, Tuple{Int64, Base.Slice{Base.OneTo{Int64}}, Base.Slice{Bas
e.OneTo{Int64}}}, true}
│   %71 = Main.:/::Core.Const(/)
│   %72 = Base.getindex(Γ, j, Main.:(:), Main.:(:))::Matrix{Float64}
│   %73 = Base.broadcasted(%71, %72, n)::Base.Broadcast.Broadcasted{Base.Br
oadcast.DefaultArrayStyle{2}, Nothing, typeof(/), Tuple{Matrix{Float64}, In
t64}}
│         Base.materialize!(%70, %73)
│   %75 = Base.getindex(G, 1, Main.:(:), j)::Vector{Float64}
│   %76 = Base.getindex(Γ, j, Main.:(:), Main.:(:))::Matrix{Float64}
│   %77 = Main.inv(Ω::Core.PartialStruct(Hermitian{Float64, Matrix{Float64}
}, Any[Matrix{Float64}, Core.Const('U')]))::Core.PartialStruct(Hermitian{Fl
oat64, Matrix{Float64}}, Any[Matrix{Float64}, Core.Const('U')])
│   %78 = (%76 * %77 * gn)::Matrix{Float64}
│   %79 = (%75 - %78)::Matrix{Float64}
│         Base.setindex!(D, %79, Main.:(:), j)
│         (@_3 = Base.iterate(%38, %45))
│   %82 = (@_3 === nothing)::Bool
│   %83 = Base.not_int(%82)::Bool
└──       goto #7 if not %83
6 ─       goto #2
7 ┄ %86 = n::Int64
│   %87 = k::Int64
│   %88 = p::Int64
│   %89 = gn::Adjoint{Float64, Matrix{Float64}}
│   %90 = Ω::Core.PartialStruct(Hermitian{Float64, Matrix{Float64}}, Any[Ma
trix{Float64}, Core.Const('U')])
│   %91 = D::Matrix{Float64}
│   %92 = Core.getfield(#self#, :P)::Core.Const(var"#P#56"())
│   %93 = Core.tuple(%86, %87, %88, %89, %90, %91, %92)::Core.PartialStruct
(Tuple{Int64, Int64, Int64, Adjoint{Float64, Matrix{Float64}}, Hermitian{Fl
oat64, Matrix{Float64}}, Matrix{Float64}, var"#P#56"}, Any[Int64, Int64, In
t64, Adjoint{Float64, Matrix{Float64}}, Core.PartialStruct(Hermitian{Float6
4, Matrix{Float64}}, Any[Matrix{Float64}, Core.Const('U')]), Matrix{Float64
}, var"#P#56"])
└──       return %93</code></pre>
<p>I also added the <code>where {F</code> statement to <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#Be-aware-of-when-Julia-avoids-specializing">ensure compiler specialization</a>, and added the <code>let gi=gi</code> line to help <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#man-performance-captured">with the performance of captured variables</a>.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@code_warntype</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>MethodInstance for (::var"#51#52"{var"#55#57"{var"#P#56", var"#53#54"{Vecto
r{Float64}, Matrix{Float64}, Matrix{Float64}}}})(::Vector{Float64})
  from (::var"#51#52")(θ) @ Main ~/.julia/dev/ARGridBootstrap/docs/jmd/assi
gnment.jmd:31
Arguments
  #self#::var"#51#52"{var"#55#57"{var"#P#56", var"#53#54"{Vector{Float64}, 
Matrix{Float64}, Matrix{Float64}}}}
  θ::Vector{Float64}
Locals
  @_3::Int64
  P::var"#P#56"
  D::Matrix{Float64}
  Ω::Hermitian{Float64, Matrix{Float64}}
  gn::Adjoint{Float64, Matrix{Float64}}
  p::Int64
  k::Int64
  n::Int64
Body::UNION{FLOAT64, COMPLEXF64}
1 ─ %1  = Core.getfield(#self#, :SP)::var"#55#57"{var"#P#56", var"#53#54"{V
ector{Float64}, Matrix{Float64}, Matrix{Float64}}}
│   %2  = (%1)(θ)::Core.PartialStruct(Tuple{Int64, Int64, Int64, Adjoint{Fl
oat64, Matrix{Float64}}, Hermitian{Float64, Matrix{Float64}}, Matrix{Float6
4}, var"#P#56"}, Any[Int64, Int64, Int64, Adjoint{Float64, Matrix{Float64}}
, Core.PartialStruct(Hermitian{Float64, Matrix{Float64}}, Any[Matrix{Float6
4}, Core.Const('U')]), Matrix{Float64}, var"#P#56"])
│   %3  = Base.indexed_iterate(%2, 1)::Core.PartialStruct(Tuple{Int64, Int6
4}, Any[Int64, Core.Const(2)])
│         (n = Core.getfield(%3, 1))
│         (@_3 = Core.getfield(%3, 2))
│   %6  = Base.indexed_iterate(%2, 2, @_3::Core.Const(2))::Core.PartialStru
ct(Tuple{Int64, Int64}, Any[Int64, Core.Const(3)])
│         (k = Core.getfield(%6, 1))
│         (@_3 = Core.getfield(%6, 2))
│   %9  = Base.indexed_iterate(%2, 3, @_3::Core.Const(3))::Core.PartialStru
ct(Tuple{Int64, Int64}, Any[Int64, Core.Const(4)])
│         (p = Core.getfield(%9, 1))
│         (@_3 = Core.getfield(%9, 2))
│   %12 = Base.indexed_iterate(%2, 4, @_3::Core.Const(4))::Core.PartialStru
ct(Tuple{Adjoint{Float64, Matrix{Float64}}, Int64}, Any[Adjoint{Float64, Ma
trix{Float64}}, Core.Const(5)])
│         (gn = Core.getfield(%12, 1))
│         (@_3 = Core.getfield(%12, 2))
│   %15 = Base.indexed_iterate(%2, 5, @_3::Core.Const(5))::Core.PartialStru
ct(Tuple{Hermitian{Float64, Matrix{Float64}}, Int64}, Any[Core.PartialStruc
t(Hermitian{Float64, Matrix{Float64}}, Any[Matrix{Float64}, Core.Const('U')
]), Core.Const(6)])
│         (Ω = Core.getfield(%15, 1))
│         (@_3 = Core.getfield(%15, 2))
│   %18 = Base.indexed_iterate(%2, 6, @_3::Core.Const(6))::Core.PartialStru
ct(Tuple{Matrix{Float64}, Int64}, Any[Matrix{Float64}, Core.Const(7)])
│         (D = Core.getfield(%18, 1))
│         (@_3 = Core.getfield(%18, 2))
│   %21 = Base.indexed_iterate(%2, 7, @_3::Core.Const(7))::Core.Const((var"
#P#56"(), 8))
│         (P = Core.getfield(%21, 1))
│   %23 = n::Int64
│   %24 = Main.:var"'"(gn)::Matrix{Float64}
│   %25 = Ω::Core.PartialStruct(Hermitian{Float64, Matrix{Float64}}, Any[Ma
trix{Float64}, Core.Const('U')])
│   %26 = (-1 / 2)::Core.Const(-0.5)
│   %27 = (%25 ^ %26)::UNION{HERMITIAN{FLOAT64, MATRIX{FLOAT64}}, MATRIX{CO
MPLEXF64}}
│   %28 = Ω::Core.PartialStruct(Hermitian{Float64, Matrix{Float64}}, Any[Ma
trix{Float64}, Core.Const('U')])
│   %29 = (-1 / 2)::Core.Const(-0.5)
│   %30 = (%28 ^ %29)::UNION{HERMITIAN{FLOAT64, MATRIX{FLOAT64}}, MATRIX{CO
MPLEXF64}}
│   %31 = (%30 * D)::UNION{MATRIX{COMPLEXF64}, MATRIX{FLOAT64}}
│   %32 = (P)(%31)::UNION{MATRIX{COMPLEXF64}, MATRIX{FLOAT64}}
│   %33 = Ω::Core.PartialStruct(Hermitian{Float64, Matrix{Float64}}, Any[Ma
trix{Float64}, Core.Const('U')])
│   %34 = (-1 / 2)::Core.Const(-0.5)
│   %35 = (%33 ^ %34)::UNION{HERMITIAN{FLOAT64, MATRIX{FLOAT64}}, MATRIX{CO
MPLEXF64}}
│   %36 = (%24 * %27 * %32 * %35 * gn)::UNION{MATRIX{COMPLEXF64}, MATRIX{FL
OAT64}}
│   %37 = Base.getindex(%36, 1)::UNION{FLOAT64, COMPLEXF64}
│   %38 = (%23 * %37)::UNION{FLOAT64, COMPLEXF64}
└──       return %38</code></pre>
<p>There’s still a type-instability in <code>klm</code>. This one is harder to understand. It is due to the fact that the appropriate meaning of a matrix square root depends on the nature of the matrix. In particular, the value could be a complex valued matrix instead of real valued. We know that Ω should be positive definite with a real matrix square root. We can compute its square root from its Eigen decomposition and avoid the type instability.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">klm</span>(gi<span class="op">::</span><span class="dt">F </span>) <span class="kw">where</span> {F <span class="op">&lt;:</span><span class="dt"> Function</span>} </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> gi<span class="op">=</span>gi</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span>(θ)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>      (n,k,p,gn, Ω, D, P) <span class="op">=</span> <span class="fu">statparts</span>(gi)(θ)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>      λ, v <span class="op">=</span> <span class="fu">eigen</span>(Ω)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>      irΩ <span class="op">=</span> <span class="fu">v*diagm</span>(λ<span class="op">.^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>))<span class="op">*</span>v<span class="op">'</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="fu">n*</span>(gn<span class="op">'</span><span class="fu">*irΩ*P</span>(irΩ<span class="op">*</span>D)<span class="op">*</span>irΩ<span class="op">*</span>gn)[<span class="fl">1</span>]</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="pp">@code_warntype</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>MethodInstance for (::var"#58#59"{var"#53#54"{Vector{Float64}, Matrix{Float
64}, Matrix{Float64}}})(::Vector{Float64})
  from (::var"#58#59")(θ) @ Main ~/.julia/dev/ARGridBootstrap/docs/jmd/assi
gnment.jmd:4
Arguments
  #self#::var"#58#59"{var"#53#54"{Vector{Float64}, Matrix{Float64}, Matrix{
Float64}}}
  θ::Vector{Float64}
Locals
  @_3::Val{:vectors}
  @_4::Int64
  irΩ::Matrix{Float64}
  v::Matrix{Float64}
  λ::Vector{Float64}
  P::var"#P#56"
  D::Matrix{Float64}
  Ω::Hermitian{Float64, Matrix{Float64}}
  gn::Adjoint{Float64, Matrix{Float64}}
  p::Int64
  k::Int64
  n::Int64
Body::Float64
1 ─ %1  = Core.getfield(#self#, Symbol("#458#gi"))::var"#53#54"{Vector{Floa
t64}, Matrix{Float64}, Matrix{Float64}}
│   %2  = Main.statparts(%1)::var"#55#57"{var"#P#56", var"#53#54"{Vector{Fl
oat64}, Matrix{Float64}, Matrix{Float64}}}
│   %3  = (%2)(θ)::Core.PartialStruct(Tuple{Int64, Int64, Int64, Adjoint{Fl
oat64, Matrix{Float64}}, Hermitian{Float64, Matrix{Float64}}, Matrix{Float6
4}, var"#P#56"}, Any[Int64, Int64, Int64, Adjoint{Float64, Matrix{Float64}}
, Core.PartialStruct(Hermitian{Float64, Matrix{Float64}}, Any[Matrix{Float6
4}, Core.Const('U')]), Matrix{Float64}, var"#P#56"])
│   %4  = Base.indexed_iterate(%3, 1)::Core.PartialStruct(Tuple{Int64, Int6
4}, Any[Int64, Core.Const(2)])
│         (n = Core.getfield(%4, 1))
│         (@_4 = Core.getfield(%4, 2))
│   %7  = Base.indexed_iterate(%3, 2, @_4::Core.Const(2))::Core.PartialStru
ct(Tuple{Int64, Int64}, Any[Int64, Core.Const(3)])
│         (k = Core.getfield(%7, 1))
│         (@_4 = Core.getfield(%7, 2))
│   %10 = Base.indexed_iterate(%3, 3, @_4::Core.Const(3))::Core.PartialStru
ct(Tuple{Int64, Int64}, Any[Int64, Core.Const(4)])
│         (p = Core.getfield(%10, 1))
│         (@_4 = Core.getfield(%10, 2))
│   %13 = Base.indexed_iterate(%3, 4, @_4::Core.Const(4))::Core.PartialStru
ct(Tuple{Adjoint{Float64, Matrix{Float64}}, Int64}, Any[Adjoint{Float64, Ma
trix{Float64}}, Core.Const(5)])
│         (gn = Core.getfield(%13, 1))
│         (@_4 = Core.getfield(%13, 2))
│   %16 = Base.indexed_iterate(%3, 5, @_4::Core.Const(5))::Core.PartialStru
ct(Tuple{Hermitian{Float64, Matrix{Float64}}, Int64}, Any[Core.PartialStruc
t(Hermitian{Float64, Matrix{Float64}}, Any[Matrix{Float64}, Core.Const('U')
]), Core.Const(6)])
│         (Ω = Core.getfield(%16, 1))
│         (@_4 = Core.getfield(%16, 2))
│   %19 = Base.indexed_iterate(%3, 6, @_4::Core.Const(6))::Core.PartialStru
ct(Tuple{Matrix{Float64}, Int64}, Any[Matrix{Float64}, Core.Const(7)])
│         (D = Core.getfield(%19, 1))
│         (@_4 = Core.getfield(%19, 2))
│   %22 = Base.indexed_iterate(%3, 7, @_4::Core.Const(7))::Core.Const((var"
#P#56"(), 8))
│         (P = Core.getfield(%22, 1))
│   %24 = Main.eigen(Ω::Core.PartialStruct(Hermitian{Float64, Matrix{Float6
4}}, Any[Matrix{Float64}, Core.Const('U')]))::Eigen{Float64, Float64, Matri
x{Float64}, Vector{Float64}}
│   %25 = Base.indexed_iterate(%24, 1)::Tuple{Vector{Float64}, Val{:vectors
}}
│         (λ = Core.getfield(%25, 1))
│         (@_3 = Core.getfield(%25, 2))
│   %28 = Base.indexed_iterate(%24, 2, @_3)::Tuple{Matrix{Float64}, Val{:do
ne}}
│         (v = Core.getfield(%28, 1))
│   %30 = v::Matrix{Float64}
│   %31 = Main.:^::Core.Const(^)
│   %32 = λ::Vector{Float64}
│   %33 = (-1 / 2)::Core.Const(-0.5)
│   %34 = Base.broadcasted(%31, %32, %33)::Core.PartialStruct(Base.Broadcas
t.Broadcasted{Base.Broadcast.DefaultArrayStyle{1}, Nothing, typeof(^), Tupl
e{Vector{Float64}, Float64}}, Any[Core.Const(^), Core.PartialStruct(Tuple{V
ector{Float64}, Float64}, Any[Vector{Float64}, Core.Const(-0.5)]), Core.Con
st(nothing)])
│   %35 = Base.materialize(%34)::Vector{Float64}
│   %36 = Main.diagm(%35)::Matrix{Float64}
│   %37 = Main.:var"'"(v)::Adjoint{Float64, Matrix{Float64}}
│         (irΩ = %30 * %36 * %37)
│   %39 = n::Int64
│   %40 = Main.:var"'"(gn)::Matrix{Float64}
│   %41 = irΩ::Matrix{Float64}
│   %42 = (irΩ * D)::Matrix{Float64}
│   %43 = (P)(%42)::Matrix{Float64}
│   %44 = irΩ::Matrix{Float64}
│   %45 = (%40 * %41 * %43 * %44 * gn)::Matrix{Float64}
│   %46 = Base.getindex(%45, 1)::Float64
│   %47 = (%39 * %46)::Float64
└──       return %47</code></pre>
<p>Fixing these type instabilities speeds up the code by a factor of about 5.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  119.780 μs …   9.113 ms  ┊ GC (min … max):  0.00% … 96
.54%
 Time  (median):     134.167 μs               ┊ GC (median):     0.00%
 Time  (mean ± σ):   173.535 μs ± 527.270 μs  ┊ GC (mean ± σ):  20.78% ±  6
.71%

       ▃███▇▅▆▆▆▃▄▂▁                                             
  ▁▁▂▄▇██████████████▆▅▄▃▃▂▂▂▂▂▂▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ ▃
  120 μs           Histogram: frequency by time          194 μs &lt;

 Memory estimate: 219.59 KiB, allocs estimate: 1514.</code></pre>
</section>
<section id="reducing-allocations-and-other-optimizations" class="level2">
<h2 class="anchored" data-anchor-id="reducing-allocations-and-other-optimizations">Reducing allocations and Other Optimizations</h2>
<p>Profiling reveals the majority of time is spent in the innermost loop of the <code>statparts</code> function. This loop allocates quite a bit because the arrays are using slices. We can avoid allocations by using <code>@views</code> and more broadcasting. See <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#man-performance-views">“Consider using views for slices”</a> and <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#More-dots:-Fuse-vectorized-operations">“More dots”</a>,</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">statparts</span>(gi<span class="op">::</span><span class="dt">F</span>) <span class="kw">where</span> {F <span class="op">&lt;:</span><span class="dt"> Function</span>}</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">P</span>(A<span class="op">::</span><span class="dt">AbstractMatrix</span>) <span class="co"># projection matrix</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">A*pinv</span>(A<span class="op">'*</span>A)<span class="op">*</span>A<span class="op">'</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> gi<span class="op">=</span>gi </span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span>(θ)</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>      giθ <span class="op">=</span> <span class="fu">gi</span>(θ)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>      p <span class="op">=</span> <span class="fu">length</span>(θ)    </span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>      (n, k) <span class="op">=</span> <span class="fu">size</span>(giθ)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>      Ω <span class="op">=</span> <span class="fu">Hermitian</span>(<span class="fu">cov</span>(giθ))</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>      gn<span class="op">=</span><span class="fu">mean</span>(<span class="fu">gi</span>(θ), dims<span class="op">=</span><span class="fl">1</span>)<span class="ch">'</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>      iΩgn <span class="op">=</span> Ω <span class="op">\</span> gn      </span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>      Gi <span class="op">=</span> <span class="fu">zeros</span>(n,k,p)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>      ForwardDiff.<span class="fu">jacobian!</span>(Gi,gi,θ)</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>      Gi <span class="op">=</span> <span class="fu">reshape</span>(Gi, n , k, p)</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>      G <span class="op">=</span> <span class="fu">mean</span>(Gi, dims<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>      Γ <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),p,k,k)</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>      D <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),k, p)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>      <span class="pp">@inbounds</span> <span class="cf">for</span> j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>p</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>        <span class="pp">@inbounds</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>          <span class="pp">@views</span> Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">.+=</span> (Gi[i,<span class="op">:</span>,j] <span class="op">.-</span> G[<span class="fl">1</span>,<span class="op">:</span>,j]) <span class="op">*</span> giθ[i,<span class="op">:</span>]<span class="ch">'</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>        Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">./=</span> n</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>        <span class="pp">@views</span> D[<span class="op">:</span>,j] <span class="op">.=</span> G[<span class="fl">1</span>,<span class="op">:</span>,j] <span class="op">.-</span> Γ[j,<span class="op">:</span>,<span class="op">:</span>]<span class="op">*</span>iΩgn</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span>(n,k,p,gn, Ω, D, P)</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  65.373 μs …   6.829 ms  ┊ GC (min … max):  0.00% … 97.
21%
 Time  (median):     71.030 μs               ┊ GC (median):     0.00%
 Time  (mean ± σ):   89.674 μs ± 336.532 μs  ┊ GC (mean ± σ):  18.85% ±  4.
96%

     ▁▄▆▇████▇▆▅▄▄▃▃▂▁                                         ▃
  ▂▄▆███████████████████▇▇█▇█▇▇▇▇▆█▇▇▆▇▇▇█▇▇▇█████▇▇▇▇▆▆▆▆▅▆▆▆ █
  65.4 μs       Histogram: log(frequency) by time      99.9 μs &lt;

 Memory estimate: 118.56 KiB, allocs estimate: 501.</code></pre>
<p>The code is now about ten times faster than the original.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Like scalar variables, StaticArrays exist on the stack instead of the heap, so creating them is much less costly and they do not count toward the reported allocations.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>