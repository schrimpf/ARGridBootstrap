<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paul Schrimpf">
<meta name="dcterms.date" content="2024-04-26">

<title>ARGridBootstrap - Coding for Performance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ARGridBootstrap</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Package Documentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./argridboot.html"> 
<span class="menu-text">Coding for Performance</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./threads.html"> 
<span class="menu-text">Multi-Threading</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./gpu.html"> 
<span class="menu-text">Using GPUs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./assignment.html" aria-current="page"> 
<span class="menu-text">More Examples</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./westdri_talk.html"> 
<span class="menu-text">Julia at Full Tilt (slides)</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./license.html"> 
<span class="menu-text">License</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#share" id="toc-share" class="nav-link active" data-scroll-target="#share"><code>share</code></a>
  <ul class="collapse">
  <li><a href="#initial-benchmark" id="toc-initial-benchmark" class="nav-link" data-scroll-target="#initial-benchmark">Initial Benchmark</a></li>
  <li><a href="#loopvectorization" id="toc-loopvectorization" class="nav-link" data-scroll-target="#loopvectorization">LoopVectorization</a></li>
  <li><a href="#staticarrays" id="toc-staticarrays" class="nav-link" data-scroll-target="#staticarrays">StaticArrays</a></li>
  <li><a href="#non-allocating" id="toc-non-allocating" class="nav-link" data-scroll-target="#non-allocating">Non-allocating</a></li>
  <li><a href="#multi-threading" id="toc-multi-threading" class="nav-link" data-scroll-target="#multi-threading">Multi-Threading</a></li>
  </ul></li>
  <li><a href="#statparts" id="toc-statparts" class="nav-link" data-scroll-target="#statparts"><code>statparts</code></a>
  <ul class="collapse">
  <li><a href="#initial-benchmark-1" id="toc-initial-benchmark-1" class="nav-link" data-scroll-target="#initial-benchmark-1">Initial Benchmark</a></li>
  <li><a href="#fixing-type-instabilities" id="toc-fixing-type-instabilities" class="nav-link" data-scroll-target="#fixing-type-instabilities">Fixing Type Instabilities</a></li>
  <li><a href="#reducing-allocations-and-other-optimizations" id="toc-reducing-allocations-and-other-optimizations" class="nav-link" data-scroll-target="#reducing-allocations-and-other-optimizations">Reducing allocations and Other Optimizations</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Coding for Performance</h1>
<p class="subtitle lead">4: More Examples</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paul Schrimpf </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 26, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>For the assignment, most students focused on optimizing either the <a href="https://github.com/ubcecon/ECON622_BLP.jl/blob/01fbfd6547ba789b38ccc7252de38a0e2f4188ee/src/blp.jl#L24"><code>share</code> function</a> from our earlier BLP example, or the <a href="https://github.com/schrimpf/GMMInference.jl/blob/9f850d176001e9650b24fe33a7bf14692a817c69/src/HypothesisTests/CLR_KLM.jl#L32"><code>statparts</code> function from GMMInference</a>.</p>
<p>Let’s see how we can improve these functions’ performance.</p>
<section id="share" class="level1">
<h1><code>share</code></h1>
<p>Here’s a copy of the original version of the share function</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span>, <span class="bu">Distributions</span>, <span class="bu">Random</span>, <span class="bu">BenchmarkTools</span>, <span class="bu">Profile</span>, <span class="bu">ProfileCanvas</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">share</span>(δ, Σ, x, ∫)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  J,K <span class="op">=</span> <span class="fu">size</span>(x)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">length</span>(δ) <span class="op">==</span> J) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"length(δ)=</span><span class="sc">$</span>(<span class="fu">length</span>(δ))<span class="st"> != size(x,1)=</span><span class="sc">$</span>J<span class="st">"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  (K,K) <span class="op">==</span> <span class="fu">size</span>(Σ) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"size(x,2)=</span><span class="sc">$</span>K<span class="st"> != size(Σ)=</span><span class="sc">$</span>(<span class="fu">size</span>(Σ))<span class="st">"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">shareν</span>(ν)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> δ <span class="op">.+</span> x<span class="op">*</span>Σ<span class="op">*</span>ν</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    smax<span class="op">=</span><span class="fu">max</span>(<span class="fl">0</span>,<span class="fu">maximum</span>(s))</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    s <span class="op">.-=</span> smax</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    s <span class="op">.=</span> <span class="fu">exp</span>.(s)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    s <span class="op">./=</span> (<span class="fu">sum</span>(s) <span class="op">+</span> <span class="fu">exp</span>(<span class="fl">0</span><span class="op">-</span>smax))</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(s)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(<span class="fu">∫</span>(shareν))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>share (generic function with 1 method)</code></pre>
<p>and a simple function for the integral.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">struct</span> Integrator{Tx, Tw}</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">::</span><span class="dt">Tx</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    w<span class="op">::</span><span class="dt">Tw</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Integrator</span>(dx<span class="op">::</span><span class="dt">Distribution</span>, n<span class="op">=</span><span class="fl">100</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> [<span class="fu">rand</span>(dx) for _ <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n]</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    w <span class="op">=</span> <span class="bu">Base</span>.<span class="bu">Iterators</span>.<span class="fu">Repeated</span>(<span class="fl">1</span><span class="op">/</span>n)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">Integrator</span>(x,w)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>(∫<span class="op">::</span><span class="dt">Integrator</span>)(f) <span class="op">=</span> <span class="fu">sum</span>((xw)<span class="fu">-&gt;f</span>(xw[<span class="fl">1</span>])<span class="op">*</span>xw[<span class="fl">2</span>], <span class="fu">zip</span>(∫.x, ∫.w))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For simplicity and to focus on the share function, we just use Monte Carlo integration since its easy to implement, but we could get more accuracy by using quasi monte carlo or quadrature.</p>
<section id="initial-benchmark" class="level2">
<h2 class="anchored" data-anchor-id="initial-benchmark">Initial Benchmark</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>J <span class="op">=</span> <span class="fl">10</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>K <span class="op">=</span> <span class="fl">5</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>δ <span class="op">=</span> <span class="fu">rand</span>(J)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> <span class="fu">randn</span>(J,K)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>Σ <span class="op">=</span> I <span class="op">+</span> <span class="fu">zeros</span>(K,K)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>∫ <span class="op">=</span> <span class="fu">Integrator</span>(<span class="fu">MvNormal</span>(<span class="fu">zeros</span>(K),I));</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share</span>(δ,Σ,X,∫)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  46.078 μs …  10.655 ms  ┊ GC (min … max): 0.00% … 98.7
0%
 Time  (median):     55.581 μs               ┊ GC (median):    0.00%
 Time  (mean ± σ):   67.335 μs ± 199.461 μs  ┊ GC (mean ± σ):  8.98% ±  3.3
8%

     ▁▁    ▂▃▅▇█▇▄▄▄▂▁▁                    ▁▂▂  ▂▂▄▄▃▃▄▂▁▁     ▂
  ▆▇████████████████████▇▆▅▇▇▆▆▆▅▆▆▆▄▅▃▄▄▁▇█████████████████▇▆ █
  46.1 μs       Histogram: log(frequency) by time      87.2 μs &lt;

 Memory estimate: 65.48 KiB, allocs estimate: 499.</code></pre>
<p>Profiling it:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Profile</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Profile</span>.<span class="fu">clear</span>();</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Profile</span>.<span class="fu">init</span>(n<span class="op">=</span><span class="fl">10</span><span class="op">^</span><span class="fl">7</span>,delay<span class="op">=</span><span class="fl">0.00001</span>);</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="pp">@profile</span> <span class="fu">sum</span>(<span class="fu">share</span>(δ,Σ,X,∫) <span class="cf">for</span> i <span class="op">∈</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">profilehtmlstring</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="profiler-container-5837" style="height: 400px; position: relative;">

</div>
<script type="module">
    const ProfileCanvas = await import('data:text/javascript;base64,ZXhwb3J0IGNsYXNzIFByb2ZpbGVWaWV3ZXIgewogICAgY29uc3RydWN0b3IoZWxlbWVudCwgZGF0YSwgc2VsZWN0b3JMYWJlbCkgewogICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IFtdOwogICAgICAgIHRoaXMub2Zmc2V0WCA9IDA7CiAgICAgICAgdGhpcy5vZmZzZXRZID0gMDsKICAgICAgICB0aGlzLmlzV2hlZWxpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmNhbldoZWVsRG93biA9IHRydWU7CiAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgdGhpcy5pc1Jlc2l6aW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0RvY3VtZW50U2Nyb2xsaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc01vdXNlTW92ZSA9IGZhbHNlOwogICAgICAgIHRoaXMuc2NhbGUgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICB0aGlzLmJvcmRlcldpZHRoID0gMjsKICAgICAgICB0aGlzLnBhZGRpbmcgPSAyOwogICAgICAgIHRoaXMuZm9udENvbmZpZyA9ICcxMHB4IHNhbnMtc2VyaWYnOwogICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAnI2ZmZic7CiAgICAgICAgdGhpcy5zZWxlY3RvckxhYmVsID0gJ1RocmVhZCc7CiAgICAgICAgdGhpcy5ib3hIZWlnaHQgPSAyNDsKICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlOwogICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGFyZW50IGVsZW1lbnQgc3BlY2lmaWVkLicpOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGVsZW1lbnQ7CiAgICAgICAgaWYgKHNlbGVjdG9yTGFiZWwpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RvckxhYmVsID0gc2VsZWN0b3JMYWJlbDsKICAgICAgICB9CiAgICAgICAgdGhpcy5pbnNlcnRET00oKTsKICAgICAgICB0aGlzLmdldFN0eWxlcygpOwogICAgICAgIHRoaXMucmVnaXN0ZXJSZXNpemVPYnNlcnZlcigpOwogICAgICAgIHRoaXMucmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcigpOwogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuc2V0RGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5nZXRPZmZzZXQoKTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhbmQgYWRkZWQgY2hpbGQgZWxlbWVudHMuIFRoZSBnbG9iYWwgc3R5bGVzaGVldAogICAgICogaXMgb25seSByZW1vdmVkIGlmIHRoaXMgaXMgdGhlIGxhc3QgcmVmZXJlbmNlIHRvIGl0IChpLmUuIHRoZXJlIGFyZSBubwogICAgICogb3RoZXIgbm90LWRlc3Ryb3llZCBQcm9maWxlVmlld2VyIGluc3RhbmNlcyBpbiB0aGUgRE9NKS4KICAgICAqLwogICAgZGVzdHJveSgpIHsKICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7CiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsSGFuZGxlcikgewogICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0ICYmIHBhcnNlSW50KHRoaXMuc3R5bGVzaGVldC5kYXRhc2V0LnJlZmVyZW5jZXMpID09PSAwKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQodGhpcy5zdHlsZXNoZWV0KTsKICAgICAgICB9CiAgICAgICAgd2hpbGUgKHRoaXMuY29udGFpbmVyLmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIubGFzdENoaWxkKTsKICAgICAgICB9CiAgICB9CiAgICBzZXREYXRhKGRhdGEpIHsKICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhpcyBwcm9maWxlIHZpZXdlciBpcyBkZXN0cm95ZWQuJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBzZWxlY3Rpb25zID0gT2JqZWN0LmtleXMoZGF0YSk7CiAgICAgICAgc2VsZWN0aW9ucy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgIGlmIChhID09PSAnYWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChiID09PSAnYWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGEgPCBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGEgPiBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHNlbGVjdGlvbnM7CiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25zWzBdOwogICAgICAgIHRoaXMuYWN0aXZlTm9kZSA9IHRoaXMuZGF0YVt0aGlzLmN1cnJlbnRTZWxlY3Rpb25dOwogICAgICAgIHRoaXMudXBkYXRlRmlsdGVyKCk7CiAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgIH0KICAgIHNldFNlbGVjdG9yTGFiZWwobGFiZWwpIHsKICAgICAgICB0aGlzLnNlbGVjdG9yTGFiZWwgPSBsYWJlbDsKICAgICAgICB0aGlzLnNlbGVjdG9yTGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IGAke2xhYmVsfTogYDsKICAgIH0KICAgIHJlZ2lzdGVyQ3RybENsaWNrSGFuZGxlcihmKSB7CiAgICAgICAgdGhpcy5jdHJsQ2xpY2tIYW5kbGVyID0gZjsKICAgIH0KICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQgVXNlIGByZWdpc3RlclNlbGVjdGlvbkhhbmRsZXJgIGluc3RlYWQuCiAgICAgKi8KICAgIHJlZ2lzdGVyVGhyZWFkU2VsZWN0b3JIYW5kbGVyKGYpIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBmOwogICAgfQogICAgcmVnaXN0ZXJTZWxlY3Rpb25IYW5kbGVyKGYpIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBmOwogICAgfQogICAgcmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcigpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgfQogICAgY2xlYXIoKSB7CiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gW107CiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gJyc7CiAgICAgICAgdGhpcy5hY3RpdmVOb2RlID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgfQogICAgaXNEZXN0cm95ZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVzdHJveWVkOwogICAgfQogICAgZ2V0U3R5bGVzKCkgewogICAgICAgIHZhciBfYSwgX2IsIF9jOwogICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIsIG51bGwpOwogICAgICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5OwogICAgICAgIGNvbnN0IGZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7CiAgICAgICAgdGhpcy5mb250Q29uZmlnID0KICAgICAgICAgICAgcGFyc2VJbnQoZm9udFNpemUgIT09IG51bGwgJiYgZm9udFNpemUgIT09IHZvaWQgMCA/IGZvbnRTaXplIDogJzEycHgnLCAxMCkgKiB0aGlzLnNjYWxlICsKICAgICAgICAgICAgICAgICdweCAnICsKICAgICAgICAgICAgICAgIChmb250RmFtaWx5ICE9PSBudWxsICYmIGZvbnRGYW1pbHkgIT09IHZvaWQgMCA/IGZvbnRGYW1pbHkgOiAnc2Fucy1zZXJpZicpOwogICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAoX2EgPSBzdHlsZS5jb2xvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyMwMDAnOwogICAgICAgIHRoaXMuY2FudmFzQ3R4LmZvbnQgPSB0aGlzLmZvbnRDb25maWc7CiAgICAgICAgdGhpcy5jYW52YXNDdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CiAgICAgICAgY29uc3QgdGV4dE1ldHJpY3MgPSB0aGlzLmNhbnZhc0N0eC5tZWFzdXJlVGV4dCgnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXFxdKlwnIl5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Jyk7CiAgICAgICAgdGhpcy5ib3hIZWlnaHQgPSBNYXRoLmNlaWwoKCgoX2IgPSB0ZXh0TWV0cmljcy5mb250Qm91bmRpbmdCb3hEZXNjZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpICsKICAgICAgICAgICAgKChfYyA9IHRleHRNZXRyaWNzLmZvbnRCb3VuZGluZ0JveEFzY2VudCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQpICsKICAgICAgICAgICAgMiAqIHRoaXMuYm9yZGVyV2lkdGggKwogICAgICAgICAgICAyICogdGhpcy5wYWRkaW5nKSAqCiAgICAgICAgICAgIHRoaXMuc2NhbGUpOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgICAgICB9CiAgICB9CiAgICByZWRyYXcoKSB7CiAgICAgICAgdGhpcy5jYW5XaGVlbERvd24gPSBmYWxzZTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgIHRoaXMuZHJhd0dyYXBoKHRoaXMuYWN0aXZlTm9kZSwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIDAsIHRoaXMuc2Nyb2xsUG9zaXRpb24pOwogICAgfQogICAgaW5zZXJ0RE9NKCkgewogICAgICAgIHRoaXMuaW5zZXJ0U3R5bGVzaGVldCgpOwogICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgdGhpcy5jYW52YXMuY2xhc3NMaXN0LmFkZCgnX19wcm9maWxlci1jYW52YXMnKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIHRoaXMuaG92ZXJDYW52YXMuY2xhc3NMaXN0LmFkZCgnX19wcm9maWxlci1ob3Zlci1jYW52YXMnKTsKICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4ID0gdGhpcy5ob3ZlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnN0IGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLWNhbnZhcy1jb250YWluZXInKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmhvdmVyQ2FudmFzKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUb29sdGlwKCkpOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRmlsdGVyQ29udGFpbmVyKCkpOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhc0NvbnRhaW5lcik7CiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCAoZXYpID0+IHsKICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXYuZGVsdGFZID4gMCAmJiAhdGhpcy5jYW5XaGVlbERvd24pIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXYuZGVsdGFZIDwgMCAmJiB0aGlzLnNjcm9sbFBvc2l0aW9uID09PSAwKSB7CiAgICAgICAgICAgICAgICBpZiAoLWV2LmRlbHRhWSA+IHRoaXMuYm94SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5maW5kUGFyZW50Tm9kZSh0aGlzLmFjdGl2ZU5vZGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSBwYXJlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2hlZWxpbmcpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSBNYXRoLm1pbigwLCB0aGlzLnNjcm9sbFBvc2l0aW9uIC0gZXYuZGVsdGFZKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZHJhdygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNXaGVlbGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmlzV2hlZWxpbmcgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2KSA9PiB7CiAgICAgICAgICAgIGlmICghdGhpcy5pc01vdXNlTW92ZSAmJiB0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIFhYWDogdGhpcyBpcyBiYWQKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE9mZnNldCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlWCA9IGV2LmNsaWVudFggLSB0aGlzLm9mZnNldFg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2VZID0gZXYuY2xpZW50WSAtIHRoaXMub2Zmc2V0WTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlkRHJhdyA9IHRoaXMuZHJhd0hvdmVyKHRoaXMuYWN0aXZlTm9kZSwgdGhpcy5zY2FsZSAqIG1vdXNlWCwgdGhpcy5zY2FsZSAqIG1vdXNlWSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZERyYXcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlWCA+IHRoaXMuY2FudmFzV2lkdGhDU1MgLyAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LnN0eWxlLnJpZ2h0ID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1dpZHRoQ1NTIC0gbW91c2VYICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUucmlnaHQgPSAndW5zZXQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5zdHlsZS5sZWZ0ID0gbW91c2VYICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZVkgPiB0aGlzLmNhbnZhc0hlaWdodENTUyAvIDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuYm90dG9tID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodENTUyAtIG1vdXNlWSArIDEwICsgJ3B4JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUudG9wID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuYm90dG9tID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUudG9wID0gbW91c2VZICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU1vdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlTW92ZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlTm9kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB0aGlzLmdldE9mZnNldCgpOwogICAgICAgICAgICBjb25zdCBtb3VzZVggPSB0aGlzLnNjYWxlICogKGV2LmNsaWVudFggLSB0aGlzLm9mZnNldFgpOwogICAgICAgICAgICBjb25zdCBtb3VzZVkgPSB0aGlzLnNjYWxlICogKGV2LmNsaWVudFkgLSB0aGlzLm9mZnNldFkpOwogICAgICAgICAgICBpZiAoZXYuY3RybEtleSB8fCBldi5tZXRhS2V5KSB7CiAgICAgICAgICAgICAgICB0aGlzLnJ1bk9uTm9kZUF0TW91c2VQb3NpdGlvbih0aGlzLmFjdGl2ZU5vZGUsIG1vdXNlWCwgbW91c2VZLCAobm9kZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN0cmxDbGlja0hhbmRsZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHJsQ2xpY2tIYW5kbGVyKG5vZGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuem9vbUluT25Ob2RlKHRoaXMuYWN0aXZlTm9kZSwgbW91c2VYLCBtb3VzZVkpKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2LmRldGFpbCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IG9uIGRvdWJsZS1jbGljawogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRWaWV3KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICAgIHJlc2V0VmlldygpIHsKICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSB0aGlzLmRhdGFbdGhpcy5jdXJyZW50U2VsZWN0aW9uXTsKICAgICAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gMDsKICAgICAgICB0aGlzLnJlZHJhdygpOwogICAgfQogICAgaW5zZXJ0U3R5bGVzaGVldCgpIHsKICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI19fcHJvZmlsZXJfc3R5bGVzaGVldCcpOwogICAgICAgIGlmIChzdHlsZXNoZWV0KSB7CiAgICAgICAgICAgIHN0eWxlc2hlZXQuZGF0YXNldC5yZWZlcmVuY2VzID0gKHBhcnNlSW50KHN0eWxlc2hlZXQuZGF0YXNldC5yZWZlcmVuY2VzKSArIDEpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldCA9IHN0eWxlc2hlZXQ7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKCdpZCcsICdfX3Byb2ZpbGVyLXN0eWxlc2hlZXQnKTsKICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmRhdGFzZXQucmVmZXJlbmNlcyA9ICcwJzsKICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmlubmVyVGV4dCA9IGAKICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLWNhbnZhcyB7CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMDsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuX19wcm9maWxlci1jYW52YXMtY29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLl9fcHJvZmlsZXItaG92ZXItY2FudmFzIHsKICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLXRvb2x0aXAgewogICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDI7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsKICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsKICAgICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDQ1JTsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLl9fcHJvZmlsZXItdG9vbHRpcCA+IGRpdiB7CiAgICAgICAgICAgICAgICAgICAgbGluZS1icmVhazogYW55d2hlcmU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuX19wcm9maWxlci1maWx0ZXIgewogICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHggMTZweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzQ0NDsKICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLXJlc2V0IHsKICAgICAgICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZXNoZWV0KTsKICAgICAgICB9CiAgICB9CiAgICBjcmVhdGVUb29sdGlwKCkgewogICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ19fcHJvZmlsZXItdG9vbHRpcCcpOwogICAgICAgIHRoaXMudG9vbHRpcCA9IHsKICAgICAgICAgICAgY291bnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSwKICAgICAgICAgICAgcGVyY2VudGFnZTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLAogICAgICAgICAgICBmdW5jdGlvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpLAogICAgICAgICAgICBmaWxlOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksCiAgICAgICAgICAgIGZsYWdzOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksCiAgICAgICAgfTsKICAgICAgICB0aGlzLnRvb2x0aXAuZnVuY3Rpb24uY2xhc3NMaXN0LmFkZCgnZm5hbWUnKTsKICAgICAgICBjb25zdCByb3dzID0gWwogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZ1bmN0aW9uXSwKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgdGhpcy50b29sdGlwLmNvdW50LAogICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJyAoJyksCiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAucGVyY2VudGFnZSwKICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcpICcpLAogICAgICAgICAgICBdLAogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZpbGVdLAogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZsYWdzXSwKICAgICAgICBdOwogICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHsKICAgICAgICAgICAgY29uc3Qgcm93Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGZvciAoY29uc3QgY29sIG9mIHJvdykgewogICAgICAgICAgICAgICAgcm93Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5hcHBlbmRDaGlsZChyb3dDb250YWluZXIpOwogICAgICAgIH0KICAgICAgICB0aGlzLnRvb2x0aXBbJ2N0cmxDbGlja0hpbnQnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJyk7CiAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBbJ2N0cmxDbGlja0hpbnQnXSk7CiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwRWxlbWVudCk7CiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcEVsZW1lbnQ7CiAgICB9CiAgICBjcmVhdGVGaWx0ZXJDb250YWluZXIoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLmZpbHRlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLWZpbHRlcicpOwogICAgICAgIHRoaXMuc2VsZWN0b3JMYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOwogICAgICAgIHRoaXMuc2VsZWN0b3JMYWJlbEVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7dGhpcy5zZWxlY3RvckxhYmVsfTogYDsKICAgICAgICB0aGlzLmZpbHRlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdG9yTGFiZWxFbGVtZW50KTsKICAgICAgICB0aGlzLmZpbHRlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgdGhpcy5maWx0ZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbiA9IHRoaXMuZmlsdGVySW5wdXQudmFsdWU7CiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlcih0aGlzLmN1cnJlbnRTZWxlY3Rpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucmVzZXRWaWV3KCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5maWx0ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5maWx0ZXJJbnB1dCk7CiAgICAgICAgY29uc3QgcmVzZXR0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICByZXNldHRlci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLXJlc2V0Jyk7CiAgICAgICAgcmVzZXR0ZXIuaW5uZXJUZXh0ID0gJ3Jlc2V0IHZpZXcnOwogICAgICAgIHJlc2V0dGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLnJlc2V0VmlldygpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZmlsdGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlc2V0dGVyKTsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJDb250YWluZXI7CiAgICB9CiAgICB1cGRhdGVGaWx0ZXIoKSB7CiAgICAgICAgd2hpbGUgKHRoaXMuZmlsdGVySW5wdXQuZmlyc3RDaGlsZCkgewogICAgICAgICAgICB0aGlzLmZpbHRlcklucHV0LnJlbW92ZUNoaWxkKHRoaXMuZmlsdGVySW5wdXQubGFzdENoaWxkKTsKICAgICAgICB9CiAgICAgICAgZm9yIChjb25zdCBzZWxlY3Rpb24gb2YgdGhpcy5zZWxlY3Rpb25zKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgIGVudHJ5LmlubmVyVGV4dCA9IHNlbGVjdGlvbjsKICAgICAgICAgICAgZW50cnkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHNlbGVjdGlvbik7CiAgICAgICAgICAgIHRoaXMuZmlsdGVySW5wdXQuYXBwZW5kQ2hpbGQoZW50cnkpOwogICAgICAgIH0KICAgIH0KICAgIHJlZ2lzdGVyUmVzaXplT2JzZXJ2ZXIoKSB7CiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMuaXNSZXNpemluZykgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gdGhpcy5jb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gIT09IHRoaXMuc2NhbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdHlsZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSBNYXRoLnJvdW5kKGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoICogdGhpcy5zY2FsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IE1hdGgucm91bmQoKGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodCAtIDMwKSAqIHRoaXMuc2NhbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNXaWR0aENTUyA9IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNIZWlnaHRDU1MgPSBlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJDYW52YXMud2lkdGggPSB0aGlzLmNhbnZhc1dpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVzaXppbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5pc1Jlc2l6aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNvbnRhaW5lcik7CiAgICB9CiAgICBzY3JvbGxIYW5kbGVyKGUpIHsKICAgICAgICBpZiAoIXRoaXMuaXNEb2N1bWVudFNjcm9sbGluZykgewogICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0T2Zmc2V0KCk7CiAgICAgICAgICAgICAgICB0aGlzLmlzRG9jdW1lbnRTY3JvbGxpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuaXNEb2N1bWVudFNjcm9sbGluZyA9IHRydWU7CiAgICAgICAgfQogICAgfQogICAgZ2V0T2Zmc2V0KCkgewogICAgICAgIGNvbnN0IGJveCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHRoaXMub2Zmc2V0WCA9IGJveC5sZWZ0OwogICAgICAgIHRoaXMub2Zmc2V0WSA9IGJveC50b3A7CiAgICB9CiAgICAvLyBoYXNoIG9mIGZ1bmN0aW9uIG5hbWVkLCB1c2VkIHRvIHNlZWQgUFJORwogICAgbm9kZUhhc2gobm9kZSkgewogICAgICAgIGNvbnN0IGhhc2hTdHJpbmcgPSBub2RlLmZpbGUgKyBub2RlLmxpbmU7CiAgICAgICAgbGV0IGhhc2ggPSAwOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGFzaFN0cmluZy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBjaGFyID0gaGFzaFN0cmluZy5jaGFyQ29kZUF0KGkpOwogICAgICAgICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjsKICAgICAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaGFzaDsKICAgIH0KICAgIC8vIFNpbXBsZSBQUk5HIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ3NTkzMzE2LzEyMTEzMTc4CiAgICBtdWxiZXJyeTMyKGEpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgdCA9IChhICs9IDB4NmQyYjc5ZjUpOwogICAgICAgICAgICB0ID0gTWF0aC5pbXVsKHQgXiAodCA+Pj4gMTUpLCB0IHwgMSk7CiAgICAgICAgICAgIHQgXj0gdCArIE1hdGguaW11bCh0IF4gKHQgPj4+IDcpLCB0IHwgNjEpOwogICAgICAgICAgICByZXR1cm4gKCh0IF4gKHQgPj4+IDE0KSkgPj4+IDApIC8gNDI5NDk2NzI5NjsKICAgICAgICB9OwogICAgfQogICAgLy8gbW9kaWZpZXMgdGhlIG5vcm1hbCBjb2xvciBieSB0aHJlZSBzdGFibGUgcmFuZG9tIHZhbHVlcyBkcmF3biBmcm9tIGEKICAgIC8vIFBSTkcgc2VlZGVkIGJ5IHRoZSBub2RlIGhhc2gKICAgIG1vZGlmeU5vZGVDb2xvckJ5SGFzaChyLCBnLCBiLCBoYXNoLCByYW5nZSA9IDcwKSB7CiAgICAgICAgY29uc3Qgcm5nID0gdGhpcy5tdWxiZXJyeTMyKGhhc2gpOwogICAgICAgIGlmIChyID09PSBnICYmIGcgPT09IGIpIHsKICAgICAgICAgICAgciA9IGcgPSBiID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCByICsgKHJuZygpIC0gMC41KSAqIHJhbmdlKSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCByICsgKHJuZygpIC0gMC41KSAqIHJhbmdlKSk7CiAgICAgICAgICAgIGcgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGcgKyAocm5nKCkgLSAwLjUpICogcmFuZ2UpKTsKICAgICAgICAgICAgYiA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgYiArIChybmcoKSAtIDAuNSkgKiByYW5nZSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICByLAogICAgICAgICAgICBnLAogICAgICAgICAgICBiLAogICAgICAgIH07CiAgICB9CiAgICBub2RlQ29sb3JzKG5vZGUsIGhhc2gpIHsKICAgICAgICBsZXQgciwgZywgYjsKICAgICAgICBsZXQgYSA9IDE7CiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAweDAxKSB7CiAgICAgICAgICAgIC8vIHJ1bnRpbWUtZGlzcGF0Y2gKICAgICAgICAgICAgOwogICAgICAgICAgICAoeyByLCBnLCBiIH0gPSB0aGlzLm1vZGlmeU5vZGVDb2xvckJ5SGFzaCgyMDQsIDEwMywgMTAzLCBoYXNoLCAyMCkpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChub2RlLmZsYWdzICYgMHgwMikgewogICAgICAgICAgICAvLyBnYwogICAgICAgICAgICA7CiAgICAgICAgICAgICh7IHIsIGcsIGIgfSA9IHRoaXMubW9kaWZ5Tm9kZUNvbG9yQnlIYXNoKDIwNCwgMTUzLCA2OCwgaGFzaCwgMjApKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobm9kZS5mbGFncyAmIDB4MDgpIHsKICAgICAgICAgICAgLy8gY29tcGlsYXRpb24/CiAgICAgICAgICAgIDsKICAgICAgICAgICAgKHsgciwgZywgYiB9ID0gdGhpcy5tb2RpZnlOb2RlQ29sb3JCeUhhc2goMTAwLCAxMDAsIDEwMCwgaGFzaCwgNjApKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIGRlZmF1bHQKICAgICAgICAgICAgOwogICAgICAgICAgICAoeyByLCBnLCBiIH0gPSB0aGlzLm1vZGlmeU5vZGVDb2xvckJ5SGFzaCg2NCwgOTksIDIyMSwgaGFzaCkpOwogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MTApIHsKICAgICAgICAgICAgLy8gQyBmcmFtZQogICAgICAgICAgICBhID0gMC41OwogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaWxsOiAncmdiYSgnICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgYSArICcpJywKICAgICAgICAgICAgc3Ryb2tlOiAncmdiYSgnICsgMC44ICogciArICcsJyArIDAuOCAqIGcgKyAnLCcgKyAwLjggKiBiICsgJywnICsgYSArICcpJywKICAgICAgICAgICAgdGV4dDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgJyArIE1hdGgubWF4KDAuNiwgYSkgKyAnKScsCiAgICAgICAgfTsKICAgIH0KICAgIGRyYXdHcmFwaChub2RlLCB3aWR0aCwgaGVpZ2h0LCB4LCB5KSB7CiAgICAgICAgaWYgKCFub2RlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jYW52YXNDdHguZm9udCA9IHRoaXMuZm9udENvbmZpZzsKICAgICAgICB0aGlzLmNhbnZhc0N0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgICBpZiAoeSArIHRoaXMuYm94SGVpZ2h0ID49IDApIHsKICAgICAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMubm9kZUhhc2gobm9kZSk7CiAgICAgICAgICAgIGNvbnN0IHsgZmlsbCwgc3Ryb2tlLCB0ZXh0IH0gPSB0aGlzLm5vZGVDb2xvcnMobm9kZSwgaGFzaCk7CiAgICAgICAgICAgIHRoaXMuZHJhd05vZGUobm9kZS5mdW5jLCBmaWxsLCBzdHJva2UsIHRleHQsIHdpZHRoLCB4LCB5KTsKICAgICAgICB9CiAgICAgICAgbm9kZS5wb3MgPSB7CiAgICAgICAgICAgIHgsCiAgICAgICAgICAgIHksCiAgICAgICAgICAgIHdpZHRoLAogICAgICAgICAgICBoZWlnaHQ6IHRoaXMuYm94SGVpZ2h0LAogICAgICAgIH07CiAgICAgICAgaWYgKHkgKyB0aGlzLmJveEhlaWdodCA8PSB0aGlzLmNhbnZhc0hlaWdodCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgIGNvbnN0IHcgPSB3aWR0aCAqIChjaGlsZC5mcmFjdGlvbiB8fCBjaGlsZC5jb3VudCAvIG5vZGUuY291bnQpOwogICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JhcGgoY2hpbGQsIHcsIGhlaWdodCwgeCwgeSArIHRoaXMuYm94SGVpZ2h0KTsKICAgICAgICAgICAgICAgIHggKz0gdzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jYW5XaGVlbERvd24gPSB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIGRyYXdOb2RlKHRleHQsIGNvbG9yLCBiQ29sb3IsIHRleHRDb2xvciwgd2lkdGgsIHgsIHkpIHsKICAgICAgICBpZiAod2lkdGggPCAxKSB7CiAgICAgICAgICAgIHdpZHRoID0gMTsKICAgICAgICB9CiAgICAgICAgY29uc3QgZHJhd0JvcmRlciA9IGZhbHNlOyAvL3dpZHRoID4gMjAqdGhpcy5ib3JkZXJXaWR0aDsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5yZWN0KHgsIHkgKyB0aGlzLmJvcmRlcldpZHRoLCB3aWR0aCwgdGhpcy5ib3hIZWlnaHQgLSB0aGlzLmJvcmRlcldpZHRoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsKCk7CiAgICAgICAgaWYgKGRyYXdCb3JkZXIpIHsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbFN0eWxlID0gYkNvbG9yOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgucmVjdCh4LCB5ICsgdGhpcy5ib3JkZXJXaWR0aCwgdGhpcy5ib3JkZXJXaWR0aCwgdGhpcy5ib3hIZWlnaHQgLSB0aGlzLmJvcmRlcldpZHRoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xvc2VQYXRoKCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gd2lkdGggLSAyICogdGhpcy5wYWRkaW5nIC0gMiAqIHRoaXMuYm9yZGVyV2lkdGg7CiAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwKSB7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnNhdmUoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnJlY3QoeCArIHRoaXMuYm9yZGVyV2lkdGggKyB0aGlzLnBhZGRpbmcsIHkgKyB0aGlzLmJvcmRlcldpZHRoICsgdGhpcy5wYWRkaW5nLCB0ZXh0V2lkdGgsIHRoaXMuYm94SGVpZ2h0IC0gdGhpcy5ib3JkZXJXaWR0aCAtIDIgKiB0aGlzLnBhZGRpbmcpOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xpcCgpOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSB0ZXh0Q29sb3I7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGxUZXh0KHRleHQsIHggKyB0aGlzLmJvcmRlcldpZHRoICsgdGhpcy5wYWRkaW5nLCB5ICsgdGhpcy5ib3hIZWlnaHQgLyAyICsgdGhpcy5ib3JkZXJXaWR0aCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICB9CiAgICB1cGRhdGVUb29sdGlwKG5vZGUpIHsKICAgICAgICB0aGlzLnRvb2x0aXAuZnVuY3Rpb24uaW5uZXJUZXh0ID0gbm9kZS5mdW5jOwogICAgICAgIGlmIChub2RlLmZpbGUgfHwgbm9kZS5saW5lID4gMCkgewogICAgICAgICAgICB0aGlzLnRvb2x0aXAuZmlsZS5pbm5lclRleHQgPSBub2RlLmZpbGUgKyAnOicgKyBub2RlLmxpbmU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnRvb2x0aXAuZmlsZS5pbm5lclRleHQgPSAnJzsKICAgICAgICB9CiAgICAgICAgdGhpcy50b29sdGlwLmNvdW50LmlubmVyVGV4dCA9IChub2RlLmNvdW50TGFiZWwgfHwgKG5vZGUuY291bnQgKyAnIHNhbXBsZXMnKSkudG9TdHJpbmcoKTsKICAgICAgICBsZXQgcGVyY2VudGFnZVRleHQgPSAoKDEwMCAqIG5vZGUuY291bnQpIC8KICAgICAgICAgICAgdGhpcy5kYXRhW3RoaXMuY3VycmVudFNlbGVjdGlvbl0uY291bnQpLnRvRml4ZWQoKSArICclIG9mIHJvb3QnOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZU5vZGUuY291bnQgIT0gdGhpcy5kYXRhW3RoaXMuY3VycmVudFNlbGVjdGlvbl0uY291bnQpIHsKICAgICAgICAgICAgcGVyY2VudGFnZVRleHQgPSBwZXJjZW50YWdlVGV4dCArICcsICcgKyAoKDEwMCAqIG5vZGUuY291bnQpIC8KICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTm9kZS5jb3VudCkudG9GaXhlZCgpICsgJyUgb2Ygc2VsZWN0aW9uJzsKICAgICAgICB9CiAgICAgICAgdGhpcy50b29sdGlwLnBlcmNlbnRhZ2UuaW5uZXJUZXh0ID0gcGVyY2VudGFnZVRleHQ7CiAgICAgICAgY29uc3QgZmxhZ3MgPSBbXTsKICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MDEpIHsKICAgICAgICAgICAgZmxhZ3MucHVzaCgncnVudGltZS1kaXNwYXRjaCcpOwogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MDIpIHsKICAgICAgICAgICAgZmxhZ3MucHVzaCgnR0MnKTsKICAgICAgICB9CiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAweDA4KSB7CiAgICAgICAgICAgIGZsYWdzLnB1c2goJ2NvbXBpbGF0aW9uJyk7CiAgICAgICAgfQogICAgICAgIGlmIChub2RlLmZsYWdzICYgMHgxMCkgewogICAgICAgICAgICBmbGFncy5wdXNoKCd0YXNrJyk7CiAgICAgICAgfQogICAgICAgIGxldCBmbGFnU3RyaW5nID0gJyc7CiAgICAgICAgaWYgKGZsYWdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZmxhZ1N0cmluZyA9ICdGbGFnczogJyArIGZsYWdzLmpvaW4oJywgJyk7CiAgICAgICAgfQogICAgICAgIHRoaXMudG9vbHRpcC5mbGFncy5pbm5lclRleHQgPSBmbGFnU3RyaW5nOwogICAgICAgIGlmICh0aGlzLmN0cmxDbGlja0hhbmRsZXIpIHsKICAgICAgICAgICAgdGhpcy50b29sdGlwWydjdHJsQ2xpY2tIaW50J10uaW5uZXJUZXh0ID0KICAgICAgICAgICAgICAgICdDdHJsL0NtZCtDbGljayB0byBvcGVuIHRoaXMgZmlsZSc7CiAgICAgICAgfQogICAgfQogICAgZHJhd0hvdmVyTm9kZShub2RlKSB7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5maWxsU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yOwogICAgICAgIHRoaXMuaG92ZXJDYW52YXNDdHguZmlsbFJlY3Qobm9kZS5wb3MueCwgbm9kZS5wb3MueSArIHRoaXMuYm9yZGVyV2lkdGgsIE1hdGgubWF4KDEsIG5vZGUucG9zLndpZHRoKSwgbm9kZS5wb3MuaGVpZ2h0IC0gdGhpcy5ib3JkZXJXaWR0aCk7CiAgICAgICAgY29uc3QgaW5uZXJXaWR0aCA9IG5vZGUucG9zLndpZHRoIC0gdGhpcy5ib3JkZXJXaWR0aCAqIDIgKiB0aGlzLnNjYWxlOwogICAgICAgIGlmIChpbm5lcldpZHRoID4gMSkgewogICAgICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4LmNsZWFyUmVjdChub2RlLnBvcy54ICsgdGhpcy5ib3JkZXJXaWR0aCAqIHRoaXMuc2NhbGUsIG5vZGUucG9zLnkgKyAyICogdGhpcy5ib3JkZXJXaWR0aCAqIHRoaXMuc2NhbGUsIGlubmVyV2lkdGgsIG5vZGUucG9zLmhlaWdodCAtIHRoaXMuYm9yZGVyV2lkdGggKiAzICogdGhpcy5zY2FsZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcChub2RlKTsKICAgIH0KICAgIGNsZWFySG92ZXIoKSB7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0KICAgIGRyYXdIb3Zlcihub2RlLCBtb3VzZVgsIG1vdXNlWSkgewogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgIHRoaXMucnVuT25Ob2RlQXRNb3VzZVBvc2l0aW9uKG5vZGUsIG1vdXNlWCwgbW91c2VZLCAobm9kZSkgPT4gewogICAgICAgICAgICB0aGlzLmRyYXdIb3Zlck5vZGUobm9kZSk7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZm91bmQ7CiAgICB9CiAgICBydW5Pbk5vZGVBdE1vdXNlUG9zaXRpb24ocm9vdCwgeCwgeSwgZikgewogICAgICAgIGlmICh4ID49IE1hdGguZmxvb3Iocm9vdC5wb3MueCkgJiYKICAgICAgICAgICAgeCA8PSBNYXRoLmNlaWwocm9vdC5wb3MueCArIHJvb3QucG9zLndpZHRoKSAmJgogICAgICAgICAgICB5ID49IHJvb3QucG9zLnkpIHsKICAgICAgICAgICAgaWYgKHkgPD0gcm9vdC5wb3MueSArIHJvb3QucG9zLmhlaWdodCkgewogICAgICAgICAgICAgICAgZihyb290KTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVuT25Ob2RlQXRNb3VzZVBvc2l0aW9uKGNoaWxkLCB4LCB5LCBmKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgem9vbUluT25Ob2RlKG5vZGUsIG1vdXNlWCwgbW91c2VZKSB7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgdGhpcy5ydW5Pbk5vZGVBdE1vdXNlUG9zaXRpb24obm9kZSwgbW91c2VYLCBtb3VzZVksIChub2RlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSBub2RlOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgfQogICAgLy8gaWRlYWxseSB0aGlzIHdvdWxkbid0IHJlcXVpcmUgdHJlZSB0cmF2ZXJzYWwgYXQgYWxsCiAgICBmaW5kUGFyZW50Tm9kZSh0YXJnZXQsIGN1cnJlbnQgPSBudWxsKSB7CiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHsKICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZGF0YVt0aGlzLmN1cnJlbnRTZWxlY3Rpb25dOwogICAgICAgIH0KICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGN1cnJlbnQuY2hpbGRyZW4pIHsKICAgICAgICAgICAgaWYgKGNoaWxkID09PSB0YXJnZXQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLmZpbmRQYXJlbnROb2RlKHRhcmdldCwgY2hpbGQpOwogICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ZpbGUtdmlld2VyLmpzLm1hcA==')
    const viewer = new ProfileCanvas.ProfileViewer("#profiler-container-5837", {"24":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"4":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"1":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_start","file":"client.jl","path":"./client.jl","line":552,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exec_options","file":"client.jl","path":"./client.jl","line":333,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_main_repl","file":"client.jl","path":"./client.jl","line":416,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"invokelatest","file":"essentials.jl","path":"./essentials.jl","line":889,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#invokelatest#2","file":"essentials.jl","path":"./essentials.jl","line":892,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#1013","file":"client.jl","path":"./client.jl","line":432,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_repl","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":375,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_repl#59","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":389,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"start_repl_backend","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":228,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#start_repl_backend#46","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":231,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"repl_backend_loop","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":246,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_user_input","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":150,"count":91,"countLabel":null,"flags":4,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include","file":"client.jl","path":"./client.jl","line":489,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_include","file":"loading.jl","path":"./loading.jl","line":2136,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2076,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"weave","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":124,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#weave#124","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":176,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_doc","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":6,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_doc#21","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":74,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":133,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":263,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_code","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":192,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#29","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":191,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"capture_output","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":216,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"task_local_storage","file":"task.jl","path":"./task.jl","line":297,"count":91,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"#32","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":218,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2086,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2076,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":564,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#306","file":"reduce.jl","path":"./reduce.jl","line":564,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":535,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#305","file":"reduce.jl","path":"./reduce.jl","line":535,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":307,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#302","file":"reduce.jl","path":"./reduce.jl","line":307,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":175,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#298","file":"reduce.jl","path":"./reduce.jl","line":175,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":49,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":43,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#10","file":"none","path":"./none","line":0,"count":38,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"share","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":16,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Integrator","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":535,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#305","file":"reduce.jl","path":"./reduce.jl","line":535,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":307,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#302","file":"reduce.jl","path":"./reduce.jl","line":307,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":175,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#298","file":"reduce.jl","path":"./reduce.jl","line":175,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#8","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":36,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":9,"count":25,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":1144,"count":20,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":53,"count":20,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":833,"count":15,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"array.jl","path":"./array.jl","line":420,"count":15,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":15,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":15,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]},{"func":"mul!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":237,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mul!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":66,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"generic_matvecmul!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":71,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"gemv!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":415,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"gemv!","file":"blas.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/blas.jl","line":667,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"gemv!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":0,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]},{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":4,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]},{"func":"*","file":"arraymath.jl","path":"./arraymath.jl","line":24,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":892,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":3,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]},{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"float.jl","path":"./float.jl","line":411,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":12,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":911,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":914,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":327,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":210,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"reinterpret","file":"essentials.jl","path":"./essentials.jl","line":581,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":215,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"table_unpack","file":"exp.jl","path":"./special/exp.jl","line":182,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"reinterpret","file":"essentials.jl","path":"./essentials.jl","line":581,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":214,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":">>","file":"int.jl","path":"./int.jl","line":534,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":">>","file":"int.jl","path":"./int.jl","line":527,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":911,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":914,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"setindex!","file":"array.jl","path":"./array.jl","line":1021,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":10,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"maximum","file":"reducedim.jl","path":"./reducedim.jl","line":1010,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#maximum#836","file":"reducedim.jl","path":"./reducedim.jl","line":1010,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_maximum","file":"reducedim.jl","path":"./reducedim.jl","line":1014,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_maximum#838","file":"reducedim.jl","path":"./reducedim.jl","line":1014,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_maximum","file":"reducedim.jl","path":"./reducedim.jl","line":1015,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_maximum#839","file":"reducedim.jl","path":"./reducedim.jl","line":1015,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#821","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce_dim","file":"reducedim.jl","path":"./reducedim.jl","line":365,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce","file":"reduce.jl","path":"./reduce.jl","line":442,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"essentials.jl","path":"./essentials.jl","line":13,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":86,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"add_sum","file":"reduce.jl","path":"./reduce.jl","line":24,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":16,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":892,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":86,"count":5,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]},{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":58,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":85,"count":5,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1078,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1082,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1051,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2889,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2889,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":103,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":788,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":794,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":909,"count":5,"countLabel":null,"flags":9,"taskId":null,"children":[]}]}]}]},{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":283,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"cache_result!","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":405,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"transform_result_for_cache","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":379,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"maybe_compress_codeinfo","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":360,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":103,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":788,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":794,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":909,"count":4,"countLabel":null,"flags":9,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2004,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_apply","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1612,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":873,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":272,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":453,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":504,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":489,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"ssa_inlining_pass!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":78,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"assemble_inline_todo!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1698,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_call!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1450,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compute_inlining_cases","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1404,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_any_const_result!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1312,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#handle_any_const_result!#459","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1329,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_match!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1457,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#handle_match!#462","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1467,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"analyze_method!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":950,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#analyze_method!#458","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":981,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resolve_todo","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":871,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#resolve_todo#457","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":908,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"retrieve_ir_for_inlining","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":985,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":920,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"InferenceState","file":"inferencestate.jl","path":"./compiler/inferencestate.jl","line":430,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"retrieve_code_info","file":"utilities.jl","path":"./compiler/utilities.jl","line":143,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},"12":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"29":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"20":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"32":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"2":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"6":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"25":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"23":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"22":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"11":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"35":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"13":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"5":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"15":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"27":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"31":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"33":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"28":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"16":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"14":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"39":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"40":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"21":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"38":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"7":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"34":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"8":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"all":{"func":"root","file":"","path":"","line":0,"count":3760,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":3666,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":3666,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":3666,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]},{"func":"_start","file":"client.jl","path":"./client.jl","line":552,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exec_options","file":"client.jl","path":"./client.jl","line":333,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_main_repl","file":"client.jl","path":"./client.jl","line":416,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"invokelatest","file":"essentials.jl","path":"./essentials.jl","line":889,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#invokelatest#2","file":"essentials.jl","path":"./essentials.jl","line":892,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#1013","file":"client.jl","path":"./client.jl","line":432,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_repl","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":375,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_repl#59","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":389,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"start_repl_backend","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":228,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#start_repl_backend#46","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":231,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"repl_backend_loop","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":246,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_user_input","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":150,"count":91,"countLabel":null,"flags":4,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include","file":"client.jl","path":"./client.jl","line":489,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_include","file":"loading.jl","path":"./loading.jl","line":2136,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2076,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"weave","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":124,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#weave#124","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":176,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_doc","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":6,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_doc#21","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":74,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":133,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":263,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_code","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":192,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#29","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":191,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"capture_output","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":216,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"task_local_storage","file":"task.jl","path":"./task.jl","line":297,"count":91,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"#32","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":218,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2086,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2076,"count":91,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":91,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":564,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#306","file":"reduce.jl","path":"./reduce.jl","line":564,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":535,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#305","file":"reduce.jl","path":"./reduce.jl","line":535,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":307,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#302","file":"reduce.jl","path":"./reduce.jl","line":307,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":175,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#298","file":"reduce.jl","path":"./reduce.jl","line":175,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":54,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":49,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":43,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#10","file":"none","path":"./none","line":0,"count":38,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"share","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":16,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Integrator","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":535,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#305","file":"reduce.jl","path":"./reduce.jl","line":535,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":307,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#302","file":"reduce.jl","path":"./reduce.jl","line":307,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":175,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#298","file":"reduce.jl","path":"./reduce.jl","line":175,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":38,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#8","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":36,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":9,"count":25,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":1144,"count":20,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":53,"count":20,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":833,"count":15,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"array.jl","path":"./array.jl","line":420,"count":15,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":15,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":15,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]},{"func":"mul!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":237,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mul!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":66,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"generic_matvecmul!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":71,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"gemv!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":415,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"gemv!","file":"blas.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/blas.jl","line":667,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"gemv!","file":"matmul.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/LinearAlgebra/src/matmul.jl","line":0,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]},{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":4,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]},{"func":"*","file":"arraymath.jl","path":"./arraymath.jl","line":24,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":892,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":3,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]},{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"*","file":"float.jl","path":"./float.jl","line":411,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":12,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":911,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":914,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":327,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":210,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"reinterpret","file":"essentials.jl","path":"./essentials.jl","line":581,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":215,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"table_unpack","file":"exp.jl","path":"./special/exp.jl","line":182,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"reinterpret","file":"essentials.jl","path":"./essentials.jl","line":581,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":214,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":">>","file":"int.jl","path":"./int.jl","line":534,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":">>","file":"int.jl","path":"./int.jl","line":527,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":911,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":914,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"setindex!","file":"array.jl","path":"./array.jl","line":1021,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":10,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"maximum","file":"reducedim.jl","path":"./reducedim.jl","line":1010,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#maximum#836","file":"reducedim.jl","path":"./reducedim.jl","line":1010,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_maximum","file":"reducedim.jl","path":"./reducedim.jl","line":1014,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_maximum#838","file":"reducedim.jl","path":"./reducedim.jl","line":1014,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_maximum","file":"reducedim.jl","path":"./reducedim.jl","line":1015,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_maximum#839","file":"reducedim.jl","path":"./reducedim.jl","line":1015,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#821","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce_dim","file":"reducedim.jl","path":"./reducedim.jl","line":365,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce","file":"reduce.jl","path":"./reduce.jl","line":442,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"essentials.jl","path":"./essentials.jl","line":13,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":86,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"add_sum","file":"reduce.jl","path":"./reduce.jl","line":24,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":16,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":892,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":86,"count":5,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]},{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":58,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":85,"count":5,"countLabel":null,"flags":1,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1078,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1082,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1051,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":13,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":12,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":11,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2889,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2889,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":6,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":103,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":788,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":794,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":909,"count":5,"countLabel":null,"flags":9,"taskId":null,"children":[]}]}]}]},{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":283,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"cache_result!","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":405,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"transform_result_for_cache","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":379,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"maybe_compress_codeinfo","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":360,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":103,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":788,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":794,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":909,"count":4,"countLabel":null,"flags":9,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2004,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_apply","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":1612,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":873,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":272,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":453,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":504,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":489,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"ssa_inlining_pass!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":78,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"assemble_inline_todo!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1698,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_call!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1450,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compute_inlining_cases","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1404,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_any_const_result!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1312,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#handle_any_const_result!#459","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1329,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_match!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1457,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#handle_match!#462","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1467,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"analyze_method!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":950,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#analyze_method!#458","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":981,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resolve_todo","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":871,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#resolve_todo#457","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":908,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"retrieve_ir_for_inlining","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":985,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":920,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"InferenceState","file":"inferencestate.jl","path":"./compiler/inferencestate.jl","line":430,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"retrieve_code_info","file":"utilities.jl","path":"./compiler/utilities.jl","line":143,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},"36":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"26":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"17":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"10":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"19":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"37":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"9":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"18":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"30":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"3":{"func":"root","file":"","path":"","line":0,"count":94,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":94,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]}}, "Thread")
</script>
<p>It’s a good idea to check <code>@code_warntype</code> and verify that there are no type instabilities (variables with type <code>Any</code> or <code>Union</code>). I checked and there are no type instabilites here.</p>
</section>
<section id="loopvectorization" class="level2">
<h2 class="anchored" data-anchor-id="loopvectorization">LoopVectorization</h2>
<p>Examining the profile, we see that the multiplication of <code>x*Σ*ν</code> is the single most costly operation. The second most costly are lines computing the softmax function, <code>exp.(s)./(1 .+exp.(s))</code></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LoopVectorization</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="pp">@inline</span> <span class="kw">function</span> <span class="fu">dplusxMy</span>(d<span class="op">::</span><span class="dt">AbstractVector</span>,x<span class="op">::</span><span class="dt">AbstractMatrix</span>,M<span class="op">::</span><span class="dt">AbstractMatrix</span>,y<span class="op">::</span><span class="dt">AbstractVector</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  out <span class="op">=</span> <span class="fu">similar</span>(d)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@turbo</span> <span class="cf">for</span> i <span class="op">∈</span> <span class="fu">axes</span>(x,<span class="fl">1</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> d[i]</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="op">∈</span> <span class="fu">axes</span>(x,<span class="fl">2</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> k <span class="op">∈</span> <span class="fu">axes</span>(M,<span class="fl">2</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        r <span class="op">+=</span> x[i,j]<span class="op">*</span>M[j,k]<span class="op">*</span>y[k]</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    out[i] <span class="op">=</span> r</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">end</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  out</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="pp">@inline</span> <span class="kw">function</span> <span class="fu">softmax0!</span>(s)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  smax<span class="op">=</span><span class="pp">@turbo</span> <span class="fu">reduce</span>(max, s, init<span class="op">=</span><span class="fu">zero</span>(<span class="fu">eltype</span>(s)))</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  s <span class="op">.=</span> <span class="fu">exp</span>.(s <span class="op">.-</span> smax)</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  s <span class="op">./=</span> (<span class="fu">sum</span>(s) <span class="op">+</span> <span class="fu">exp</span>(<span class="fu">zero</span>(smax)<span class="op">-</span>smax))</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(s)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">share_v2</span>(δ, Σ, x, ∫)</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  J,K <span class="op">=</span> <span class="fu">size</span>(x)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">length</span>(δ) <span class="op">==</span> J) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"length(δ)=</span><span class="sc">$</span>(<span class="fu">length</span>(δ))<span class="st"> != size(x,1)=</span><span class="sc">$</span>J<span class="st">"</span>)</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  (K,K) <span class="op">==</span> <span class="fu">size</span>(Σ) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"size(x,2)=</span><span class="sc">$</span>K<span class="st"> != size(Σ)=</span><span class="sc">$</span>(<span class="fu">size</span>(Σ))<span class="st">"</span>)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">shareν</span>(ν)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="fu">dplusxMy</span>(δ,x,Σ,ν)</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">softmax0!</span>(s)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    s</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(<span class="fu">∫</span>(shareν))</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share_v2</span>(δ,Σ,X,∫)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  28.545 μs …   4.955 ms  ┊ GC (min … max): 0.00% … 98.4
1%
 Time  (median):     33.795 μs               ┊ GC (median):    0.00%
 Time  (mean ± σ):   41.119 μs ± 117.942 μs  ┊ GC (mean ± σ):  6.94% ±  2.4
1%

             ▆█▂                                                
  ▂▂▂▂▂▂▂▂▂▃▇███▄▂▂▂▂▂▂▂▁▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▁▁▂▁▁▁▂▂▂▃▃▂▄▄▃▃▃▄▅▃ ▃
  28.5 μs         Histogram: frequency by time         53.3 μs &lt;

 Memory estimate: 42.05 KiB, allocs estimate: 299.</code></pre>
<p>By writing the <code>δ+x*Σ*ν</code> as loop we avoid some allocations, and can use <code>@turbo</code> to insert SIMD instructions. This gives a noticeable speedup. About half the gains here are from writing out the loops in <code>dplusxMy</code> and half from using <code>@turbo</code>. The changes to the softmax calculation did not make much difference.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Profile</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Profile</span>.<span class="fu">clear</span>();</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Profile</span>.<span class="fu">init</span>(n<span class="op">=</span><span class="fl">10</span><span class="op">^</span><span class="fl">7</span>,delay<span class="op">=</span><span class="fl">0.00001</span>);</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>ProfileCanvas.<span class="pp">@profview</span> <span class="fu">sum</span>(<span class="fu">share_v2</span>(δ,Σ,X,∫) <span class="cf">for</span> i <span class="op">∈</span> <span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">profilehtmlstring</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="profiler-container-20815" style="height: 400px; position: relative;">

</div>
<script type="module">
    const ProfileCanvas = await import('data:text/javascript;base64,ZXhwb3J0IGNsYXNzIFByb2ZpbGVWaWV3ZXIgewogICAgY29uc3RydWN0b3IoZWxlbWVudCwgZGF0YSwgc2VsZWN0b3JMYWJlbCkgewogICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IFtdOwogICAgICAgIHRoaXMub2Zmc2V0WCA9IDA7CiAgICAgICAgdGhpcy5vZmZzZXRZID0gMDsKICAgICAgICB0aGlzLmlzV2hlZWxpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmNhbldoZWVsRG93biA9IHRydWU7CiAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgdGhpcy5pc1Jlc2l6aW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc0RvY3VtZW50U2Nyb2xsaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5pc01vdXNlTW92ZSA9IGZhbHNlOwogICAgICAgIHRoaXMuc2NhbGUgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzsKICAgICAgICB0aGlzLmJvcmRlcldpZHRoID0gMjsKICAgICAgICB0aGlzLnBhZGRpbmcgPSAyOwogICAgICAgIHRoaXMuZm9udENvbmZpZyA9ICcxMHB4IHNhbnMtc2VyaWYnOwogICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAnI2ZmZic7CiAgICAgICAgdGhpcy5zZWxlY3RvckxhYmVsID0gJ1RocmVhZCc7CiAgICAgICAgdGhpcy5ib3hIZWlnaHQgPSAyNDsKICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlOwogICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGFyZW50IGVsZW1lbnQgc3BlY2lmaWVkLicpOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGVsZW1lbnQ7CiAgICAgICAgaWYgKHNlbGVjdG9yTGFiZWwpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RvckxhYmVsID0gc2VsZWN0b3JMYWJlbDsKICAgICAgICB9CiAgICAgICAgdGhpcy5pbnNlcnRET00oKTsKICAgICAgICB0aGlzLmdldFN0eWxlcygpOwogICAgICAgIHRoaXMucmVnaXN0ZXJSZXNpemVPYnNlcnZlcigpOwogICAgICAgIHRoaXMucmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcigpOwogICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuc2V0RGF0YShkYXRhKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5nZXRPZmZzZXQoKTsKICAgIH0KICAgIC8qKgogICAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhbmQgYWRkZWQgY2hpbGQgZWxlbWVudHMuIFRoZSBnbG9iYWwgc3R5bGVzaGVldAogICAgICogaXMgb25seSByZW1vdmVkIGlmIHRoaXMgaXMgdGhlIGxhc3QgcmVmZXJlbmNlIHRvIGl0IChpLmUuIHRoZXJlIGFyZSBubwogICAgICogb3RoZXIgbm90LWRlc3Ryb3llZCBQcm9maWxlVmlld2VyIGluc3RhbmNlcyBpbiB0aGUgRE9NKS4KICAgICAqLwogICAgZGVzdHJveSgpIHsKICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7CiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsSGFuZGxlcikgewogICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0ICYmIHBhcnNlSW50KHRoaXMuc3R5bGVzaGVldC5kYXRhc2V0LnJlZmVyZW5jZXMpID09PSAwKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQodGhpcy5zdHlsZXNoZWV0KTsKICAgICAgICB9CiAgICAgICAgd2hpbGUgKHRoaXMuY29udGFpbmVyLmZpcnN0Q2hpbGQpIHsKICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIubGFzdENoaWxkKTsKICAgICAgICB9CiAgICB9CiAgICBzZXREYXRhKGRhdGEpIHsKICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignVGhpcyBwcm9maWxlIHZpZXdlciBpcyBkZXN0cm95ZWQuJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7CiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBzZWxlY3Rpb25zID0gT2JqZWN0LmtleXMoZGF0YSk7CiAgICAgICAgc2VsZWN0aW9ucy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgIGlmIChhID09PSAnYWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChiID09PSAnYWxsJykgewogICAgICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGEgPCBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGEgPiBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgICAgIHRoaXMuc2VsZWN0aW9ucyA9IHNlbGVjdGlvbnM7CiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25zWzBdOwogICAgICAgIHRoaXMuYWN0aXZlTm9kZSA9IHRoaXMuZGF0YVt0aGlzLmN1cnJlbnRTZWxlY3Rpb25dOwogICAgICAgIHRoaXMudXBkYXRlRmlsdGVyKCk7CiAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgIH0KICAgIHNldFNlbGVjdG9yTGFiZWwobGFiZWwpIHsKICAgICAgICB0aGlzLnNlbGVjdG9yTGFiZWwgPSBsYWJlbDsKICAgICAgICB0aGlzLnNlbGVjdG9yTGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IGAke2xhYmVsfTogYDsKICAgIH0KICAgIHJlZ2lzdGVyQ3RybENsaWNrSGFuZGxlcihmKSB7CiAgICAgICAgdGhpcy5jdHJsQ2xpY2tIYW5kbGVyID0gZjsKICAgIH0KICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQgVXNlIGByZWdpc3RlclNlbGVjdGlvbkhhbmRsZXJgIGluc3RlYWQuCiAgICAgKi8KICAgIHJlZ2lzdGVyVGhyZWFkU2VsZWN0b3JIYW5kbGVyKGYpIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBmOwogICAgfQogICAgcmVnaXN0ZXJTZWxlY3Rpb25IYW5kbGVyKGYpIHsKICAgICAgICB0aGlzLnNlbGVjdGlvbkhhbmRsZXIgPSBmOwogICAgfQogICAgcmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcigpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgfQogICAgY2xlYXIoKSB7CiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gW107CiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gJyc7CiAgICAgICAgdGhpcy5hY3RpdmVOb2RlID0gdW5kZWZpbmVkOwogICAgICAgIHRoaXMuY2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgfQogICAgaXNEZXN0cm95ZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGVzdHJveWVkOwogICAgfQogICAgZ2V0U3R5bGVzKCkgewogICAgICAgIHZhciBfYSwgX2IsIF9jOwogICAgICAgIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIsIG51bGwpOwogICAgICAgIGNvbnN0IGZvbnRGYW1pbHkgPSBzdHlsZS5mb250RmFtaWx5OwogICAgICAgIGNvbnN0IGZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7CiAgICAgICAgdGhpcy5mb250Q29uZmlnID0KICAgICAgICAgICAgcGFyc2VJbnQoZm9udFNpemUgIT09IG51bGwgJiYgZm9udFNpemUgIT09IHZvaWQgMCA/IGZvbnRTaXplIDogJzEycHgnLCAxMCkgKiB0aGlzLnNjYWxlICsKICAgICAgICAgICAgICAgICdweCAnICsKICAgICAgICAgICAgICAgIChmb250RmFtaWx5ICE9PSBudWxsICYmIGZvbnRGYW1pbHkgIT09IHZvaWQgMCA/IGZvbnRGYW1pbHkgOiAnc2Fucy1zZXJpZicpOwogICAgICAgIHRoaXMuYm9yZGVyQ29sb3IgPSAoX2EgPSBzdHlsZS5jb2xvcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyMwMDAnOwogICAgICAgIHRoaXMuY2FudmFzQ3R4LmZvbnQgPSB0aGlzLmZvbnRDb25maWc7CiAgICAgICAgdGhpcy5jYW52YXNDdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7CiAgICAgICAgY29uc3QgdGV4dE1ldHJpY3MgPSB0aGlzLmNhbnZhc0N0eC5tZWFzdXJlVGV4dCgnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpbXFxdKlwnIl5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Jyk7CiAgICAgICAgdGhpcy5ib3hIZWlnaHQgPSBNYXRoLmNlaWwoKCgoX2IgPSB0ZXh0TWV0cmljcy5mb250Qm91bmRpbmdCb3hEZXNjZW50KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0ZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQpICsKICAgICAgICAgICAgKChfYyA9IHRleHRNZXRyaWNzLmZvbnRCb3VuZGluZ0JveEFzY2VudCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQpICsKICAgICAgICAgICAgMiAqIHRoaXMuYm9yZGVyV2lkdGggKwogICAgICAgICAgICAyICogdGhpcy5wYWRkaW5nKSAqCiAgICAgICAgICAgIHRoaXMuc2NhbGUpOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgICAgICB9CiAgICB9CiAgICByZWRyYXcoKSB7CiAgICAgICAgdGhpcy5jYW5XaGVlbERvd24gPSBmYWxzZTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgIHRoaXMuZHJhd0dyYXBoKHRoaXMuYWN0aXZlTm9kZSwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIDAsIHRoaXMuc2Nyb2xsUG9zaXRpb24pOwogICAgfQogICAgaW5zZXJ0RE9NKCkgewogICAgICAgIHRoaXMuaW5zZXJ0U3R5bGVzaGVldCgpOwogICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgdGhpcy5jYW52YXMuY2xhc3NMaXN0LmFkZCgnX19wcm9maWxlci1jYW52YXMnKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIHRoaXMuaG92ZXJDYW52YXMuY2xhc3NMaXN0LmFkZCgnX19wcm9maWxlci1ob3Zlci1jYW52YXMnKTsKICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4ID0gdGhpcy5ob3ZlckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgIGNvbnN0IGNhbnZhc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLWNhbnZhcy1jb250YWluZXInKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpOwogICAgICAgIGNhbnZhc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmhvdmVyQ2FudmFzKTsKICAgICAgICBjYW52YXNDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUb29sdGlwKCkpOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRmlsdGVyQ29udGFpbmVyKCkpOwogICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGNhbnZhc0NvbnRhaW5lcik7CiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCAoZXYpID0+IHsKICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXYuZGVsdGFZID4gMCAmJiAhdGhpcy5jYW5XaGVlbERvd24pIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZXYuZGVsdGFZIDwgMCAmJiB0aGlzLnNjcm9sbFBvc2l0aW9uID09PSAwKSB7CiAgICAgICAgICAgICAgICBpZiAoLWV2LmRlbHRhWSA+IHRoaXMuYm94SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5maW5kUGFyZW50Tm9kZSh0aGlzLmFjdGl2ZU5vZGUpOwogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSBwYXJlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgaWYgKCF0aGlzLmlzV2hlZWxpbmcpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsUG9zaXRpb24gPSBNYXRoLm1pbigwLCB0aGlzLnNjcm9sbFBvc2l0aW9uIC0gZXYuZGVsdGFZKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZHJhdygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNXaGVlbGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmlzV2hlZWxpbmcgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGV2KSA9PiB7CiAgICAgICAgICAgIGlmICghdGhpcy5pc01vdXNlTW92ZSAmJiB0aGlzLmFjdGl2ZU5vZGUpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIFhYWDogdGhpcyBpcyBiYWQKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE9mZnNldCgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdXNlWCA9IGV2LmNsaWVudFggLSB0aGlzLm9mZnNldFg7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW91c2VZID0gZXYuY2xpZW50WSAtIHRoaXMub2Zmc2V0WTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlkRHJhdyA9IHRoaXMuZHJhd0hvdmVyKHRoaXMuYWN0aXZlTm9kZSwgdGhpcy5zY2FsZSAqIG1vdXNlWCwgdGhpcy5zY2FsZSAqIG1vdXNlWSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZERyYXcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlWCA+IHRoaXMuY2FudmFzV2lkdGhDU1MgLyAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LnN0eWxlLnJpZ2h0ID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc1dpZHRoQ1NTIC0gbW91c2VYICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5zdHlsZS5sZWZ0ID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUucmlnaHQgPSAndW5zZXQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5zdHlsZS5sZWZ0ID0gbW91c2VYICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZVkgPiB0aGlzLmNhbnZhc0hlaWdodENTUyAvIDIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuYm90dG9tID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodENTUyAtIG1vdXNlWSArIDEwICsgJ3B4JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUudG9wID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuYm90dG9tID0gJ3Vuc2V0JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUudG9wID0gbW91c2VZICsgMTAgKyAncHgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU1vdmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlTW92ZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlTm9kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICB0aGlzLmdldE9mZnNldCgpOwogICAgICAgICAgICBjb25zdCBtb3VzZVggPSB0aGlzLnNjYWxlICogKGV2LmNsaWVudFggLSB0aGlzLm9mZnNldFgpOwogICAgICAgICAgICBjb25zdCBtb3VzZVkgPSB0aGlzLnNjYWxlICogKGV2LmNsaWVudFkgLSB0aGlzLm9mZnNldFkpOwogICAgICAgICAgICBpZiAoZXYuY3RybEtleSB8fCBldi5tZXRhS2V5KSB7CiAgICAgICAgICAgICAgICB0aGlzLnJ1bk9uTm9kZUF0TW91c2VQb3NpdGlvbih0aGlzLmFjdGl2ZU5vZGUsIG1vdXNlWCwgbW91c2VZLCAobm9kZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN0cmxDbGlja0hhbmRsZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHJsQ2xpY2tIYW5kbGVyKG5vZGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuem9vbUluT25Ob2RlKHRoaXMuYWN0aXZlTm9kZSwgbW91c2VYLCBtb3VzZVkpKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IDA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRyYXcoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2LmRldGFpbCA9PT0gMikgewogICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IG9uIGRvdWJsZS1jbGljawogICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRWaWV3KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICAgIHJlc2V0VmlldygpIHsKICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSB0aGlzLmRhdGFbdGhpcy5jdXJyZW50U2VsZWN0aW9uXTsKICAgICAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gMDsKICAgICAgICB0aGlzLnJlZHJhdygpOwogICAgfQogICAgaW5zZXJ0U3R5bGVzaGVldCgpIHsKICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI19fcHJvZmlsZXJfc3R5bGVzaGVldCcpOwogICAgICAgIGlmIChzdHlsZXNoZWV0KSB7CiAgICAgICAgICAgIHN0eWxlc2hlZXQuZGF0YXNldC5yZWZlcmVuY2VzID0gKHBhcnNlSW50KHN0eWxlc2hlZXQuZGF0YXNldC5yZWZlcmVuY2VzKSArIDEpLnRvU3RyaW5nKCk7CiAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldCA9IHN0eWxlc2hlZXQ7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQuc2V0QXR0cmlidXRlKCdpZCcsICdfX3Byb2ZpbGVyLXN0eWxlc2hlZXQnKTsKICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmRhdGFzZXQucmVmZXJlbmNlcyA9ICcwJzsKICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0LmlubmVyVGV4dCA9IGAKICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLWNhbnZhcyB7CiAgICAgICAgICAgICAgICAgICAgei1pbmRleDogMDsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuX19wcm9maWxlci1jYW52YXMtY29udGFpbmVyIHsKICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLl9fcHJvZmlsZXItaG92ZXItY2FudmFzIHsKICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLXRvb2x0aXAgewogICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDI7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDsKICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsKICAgICAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDQ1JTsKICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLl9fcHJvZmlsZXItdG9vbHRpcCA+IGRpdiB7CiAgICAgICAgICAgICAgICAgICAgbGluZS1icmVhazogYW55d2hlcmU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuX19wcm9maWxlci1maWx0ZXIgewogICAgICAgICAgICAgICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHggMTZweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzQ0NDsKICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5fX3Byb2ZpbGVyLXJlc2V0IHsKICAgICAgICAgICAgICAgICAgICBmbG9hdDogcmlnaHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZXNoZWV0KTsKICAgICAgICB9CiAgICB9CiAgICBjcmVhdGVUb29sdGlwKCkgewogICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLnRvb2x0aXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ19fcHJvZmlsZXItdG9vbHRpcCcpOwogICAgICAgIHRoaXMudG9vbHRpcCA9IHsKICAgICAgICAgICAgY291bnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSwKICAgICAgICAgICAgcGVyY2VudGFnZTogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLAogICAgICAgICAgICBmdW5jdGlvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY29kZScpLAogICAgICAgICAgICBmaWxlOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksCiAgICAgICAgICAgIGZsYWdzOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyksCiAgICAgICAgfTsKICAgICAgICB0aGlzLnRvb2x0aXAuZnVuY3Rpb24uY2xhc3NMaXN0LmFkZCgnZm5hbWUnKTsKICAgICAgICBjb25zdCByb3dzID0gWwogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZ1bmN0aW9uXSwKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgdGhpcy50b29sdGlwLmNvdW50LAogICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJyAoJyksCiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAucGVyY2VudGFnZSwKICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcpICcpLAogICAgICAgICAgICBdLAogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZpbGVdLAogICAgICAgICAgICBbdGhpcy50b29sdGlwLmZsYWdzXSwKICAgICAgICBdOwogICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHsKICAgICAgICAgICAgY29uc3Qgcm93Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGZvciAoY29uc3QgY29sIG9mIHJvdykgewogICAgICAgICAgICAgICAgcm93Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5hcHBlbmRDaGlsZChyb3dDb250YWluZXIpOwogICAgICAgIH0KICAgICAgICB0aGlzLnRvb2x0aXBbJ2N0cmxDbGlja0hpbnQnXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NtYWxsJyk7CiAgICAgICAgdGhpcy50b29sdGlwRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnRvb2x0aXBbJ2N0cmxDbGlja0hpbnQnXSk7CiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwRWxlbWVudCk7CiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcEVsZW1lbnQ7CiAgICB9CiAgICBjcmVhdGVGaWx0ZXJDb250YWluZXIoKSB7CiAgICAgICAgdGhpcy5maWx0ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aGlzLmZpbHRlckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLWZpbHRlcicpOwogICAgICAgIHRoaXMuc2VsZWN0b3JMYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpOwogICAgICAgIHRoaXMuc2VsZWN0b3JMYWJlbEVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7dGhpcy5zZWxlY3RvckxhYmVsfTogYDsKICAgICAgICB0aGlzLmZpbHRlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdG9yTGFiZWxFbGVtZW50KTsKICAgICAgICB0aGlzLmZpbHRlcklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7CiAgICAgICAgdGhpcy5maWx0ZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbiA9IHRoaXMuZmlsdGVySW5wdXQudmFsdWU7CiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkhhbmRsZXIpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlcih0aGlzLmN1cnJlbnRTZWxlY3Rpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucmVzZXRWaWV3KCk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5maWx0ZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5maWx0ZXJJbnB1dCk7CiAgICAgICAgY29uc3QgcmVzZXR0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgICAgICByZXNldHRlci5jbGFzc0xpc3QuYWRkKCdfX3Byb2ZpbGVyLXJlc2V0Jyk7CiAgICAgICAgcmVzZXR0ZXIuaW5uZXJUZXh0ID0gJ3Jlc2V0IHZpZXcnOwogICAgICAgIHJlc2V0dGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICB0aGlzLnJlc2V0VmlldygpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZmlsdGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlc2V0dGVyKTsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJDb250YWluZXI7CiAgICB9CiAgICB1cGRhdGVGaWx0ZXIoKSB7CiAgICAgICAgd2hpbGUgKHRoaXMuZmlsdGVySW5wdXQuZmlyc3RDaGlsZCkgewogICAgICAgICAgICB0aGlzLmZpbHRlcklucHV0LnJlbW92ZUNoaWxkKHRoaXMuZmlsdGVySW5wdXQubGFzdENoaWxkKTsKICAgICAgICB9CiAgICAgICAgZm9yIChjb25zdCBzZWxlY3Rpb24gb2YgdGhpcy5zZWxlY3Rpb25zKSB7CiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgIGVudHJ5LmlubmVyVGV4dCA9IHNlbGVjdGlvbjsKICAgICAgICAgICAgZW50cnkuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHNlbGVjdGlvbik7CiAgICAgICAgICAgIHRoaXMuZmlsdGVySW5wdXQuYXBwZW5kQ2hpbGQoZW50cnkpOwogICAgICAgIH0KICAgIH0KICAgIHJlZ2lzdGVyUmVzaXplT2JzZXJ2ZXIoKSB7CiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4gewogICAgICAgICAgICBpZiAoIXRoaXMuaXNSZXNpemluZykgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnRhcmdldCA9PT0gdGhpcy5jb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gIT09IHRoaXMuc2NhbGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTdHlsZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSBNYXRoLnJvdW5kKGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoICogdGhpcy5zY2FsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IE1hdGgucm91bmQoKGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodCAtIDMwKSAqIHRoaXMuc2NhbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNXaWR0aENTUyA9IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXNIZWlnaHRDU1MgPSBlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJDYW52YXMud2lkdGggPSB0aGlzLmNhbnZhc1dpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlckNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkcmF3KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVzaXppbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5pc1Jlc2l6aW5nID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNvbnRhaW5lcik7CiAgICB9CiAgICBzY3JvbGxIYW5kbGVyKGUpIHsKICAgICAgICBpZiAoIXRoaXMuaXNEb2N1bWVudFNjcm9sbGluZykgewogICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0T2Zmc2V0KCk7CiAgICAgICAgICAgICAgICB0aGlzLmlzRG9jdW1lbnRTY3JvbGxpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuaXNEb2N1bWVudFNjcm9sbGluZyA9IHRydWU7CiAgICAgICAgfQogICAgfQogICAgZ2V0T2Zmc2V0KCkgewogICAgICAgIGNvbnN0IGJveCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHRoaXMub2Zmc2V0WCA9IGJveC5sZWZ0OwogICAgICAgIHRoaXMub2Zmc2V0WSA9IGJveC50b3A7CiAgICB9CiAgICAvLyBoYXNoIG9mIGZ1bmN0aW9uIG5hbWVkLCB1c2VkIHRvIHNlZWQgUFJORwogICAgbm9kZUhhc2gobm9kZSkgewogICAgICAgIGNvbnN0IGhhc2hTdHJpbmcgPSBub2RlLmZpbGUgKyBub2RlLmxpbmU7CiAgICAgICAgbGV0IGhhc2ggPSAwOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGFzaFN0cmluZy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBjb25zdCBjaGFyID0gaGFzaFN0cmluZy5jaGFyQ29kZUF0KGkpOwogICAgICAgICAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hhcjsKICAgICAgICAgICAgaGFzaCA9IGhhc2ggJiBoYXNoOwogICAgICAgIH0KICAgICAgICByZXR1cm4gaGFzaDsKICAgIH0KICAgIC8vIFNpbXBsZSBQUk5HIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ3NTkzMzE2LzEyMTEzMTc4CiAgICBtdWxiZXJyeTMyKGEpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgdCA9IChhICs9IDB4NmQyYjc5ZjUpOwogICAgICAgICAgICB0ID0gTWF0aC5pbXVsKHQgXiAodCA+Pj4gMTUpLCB0IHwgMSk7CiAgICAgICAgICAgIHQgXj0gdCArIE1hdGguaW11bCh0IF4gKHQgPj4+IDcpLCB0IHwgNjEpOwogICAgICAgICAgICByZXR1cm4gKCh0IF4gKHQgPj4+IDE0KSkgPj4+IDApIC8gNDI5NDk2NzI5NjsKICAgICAgICB9OwogICAgfQogICAgLy8gbW9kaWZpZXMgdGhlIG5vcm1hbCBjb2xvciBieSB0aHJlZSBzdGFibGUgcmFuZG9tIHZhbHVlcyBkcmF3biBmcm9tIGEKICAgIC8vIFBSTkcgc2VlZGVkIGJ5IHRoZSBub2RlIGhhc2gKICAgIG1vZGlmeU5vZGVDb2xvckJ5SGFzaChyLCBnLCBiLCBoYXNoLCByYW5nZSA9IDcwKSB7CiAgICAgICAgY29uc3Qgcm5nID0gdGhpcy5tdWxiZXJyeTMyKGhhc2gpOwogICAgICAgIGlmIChyID09PSBnICYmIGcgPT09IGIpIHsKICAgICAgICAgICAgciA9IGcgPSBiID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCByICsgKHJuZygpIC0gMC41KSAqIHJhbmdlKSk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCByICsgKHJuZygpIC0gMC41KSAqIHJhbmdlKSk7CiAgICAgICAgICAgIGcgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGcgKyAocm5nKCkgLSAwLjUpICogcmFuZ2UpKTsKICAgICAgICAgICAgYiA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgYiArIChybmcoKSAtIDAuNSkgKiByYW5nZSkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICByLAogICAgICAgICAgICBnLAogICAgICAgICAgICBiLAogICAgICAgIH07CiAgICB9CiAgICBub2RlQ29sb3JzKG5vZGUsIGhhc2gpIHsKICAgICAgICBsZXQgciwgZywgYjsKICAgICAgICBsZXQgYSA9IDE7CiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAweDAxKSB7CiAgICAgICAgICAgIC8vIHJ1bnRpbWUtZGlzcGF0Y2gKICAgICAgICAgICAgOwogICAgICAgICAgICAoeyByLCBnLCBiIH0gPSB0aGlzLm1vZGlmeU5vZGVDb2xvckJ5SGFzaCgyMDQsIDEwMywgMTAzLCBoYXNoLCAyMCkpOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChub2RlLmZsYWdzICYgMHgwMikgewogICAgICAgICAgICAvLyBnYwogICAgICAgICAgICA7CiAgICAgICAgICAgICh7IHIsIGcsIGIgfSA9IHRoaXMubW9kaWZ5Tm9kZUNvbG9yQnlIYXNoKDIwNCwgMTUzLCA2OCwgaGFzaCwgMjApKTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAobm9kZS5mbGFncyAmIDB4MDgpIHsKICAgICAgICAgICAgLy8gY29tcGlsYXRpb24/CiAgICAgICAgICAgIDsKICAgICAgICAgICAgKHsgciwgZywgYiB9ID0gdGhpcy5tb2RpZnlOb2RlQ29sb3JCeUhhc2goMTAwLCAxMDAsIDEwMCwgaGFzaCwgNjApKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIC8vIGRlZmF1bHQKICAgICAgICAgICAgOwogICAgICAgICAgICAoeyByLCBnLCBiIH0gPSB0aGlzLm1vZGlmeU5vZGVDb2xvckJ5SGFzaCg2NCwgOTksIDIyMSwgaGFzaCkpOwogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MTApIHsKICAgICAgICAgICAgLy8gQyBmcmFtZQogICAgICAgICAgICBhID0gMC41OwogICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaWxsOiAncmdiYSgnICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJywnICsgYSArICcpJywKICAgICAgICAgICAgc3Ryb2tlOiAncmdiYSgnICsgMC44ICogciArICcsJyArIDAuOCAqIGcgKyAnLCcgKyAwLjggKiBiICsgJywnICsgYSArICcpJywKICAgICAgICAgICAgdGV4dDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgJyArIE1hdGgubWF4KDAuNiwgYSkgKyAnKScsCiAgICAgICAgfTsKICAgIH0KICAgIGRyYXdHcmFwaChub2RlLCB3aWR0aCwgaGVpZ2h0LCB4LCB5KSB7CiAgICAgICAgaWYgKCFub2RlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jYW52YXNDdHguZm9udCA9IHRoaXMuZm9udENvbmZpZzsKICAgICAgICB0aGlzLmNhbnZhc0N0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJzsKICAgICAgICBpZiAoeSArIHRoaXMuYm94SGVpZ2h0ID49IDApIHsKICAgICAgICAgICAgY29uc3QgaGFzaCA9IHRoaXMubm9kZUhhc2gobm9kZSk7CiAgICAgICAgICAgIGNvbnN0IHsgZmlsbCwgc3Ryb2tlLCB0ZXh0IH0gPSB0aGlzLm5vZGVDb2xvcnMobm9kZSwgaGFzaCk7CiAgICAgICAgICAgIHRoaXMuZHJhd05vZGUobm9kZS5mdW5jLCBmaWxsLCBzdHJva2UsIHRleHQsIHdpZHRoLCB4LCB5KTsKICAgICAgICB9CiAgICAgICAgbm9kZS5wb3MgPSB7CiAgICAgICAgICAgIHgsCiAgICAgICAgICAgIHksCiAgICAgICAgICAgIHdpZHRoLAogICAgICAgICAgICBoZWlnaHQ6IHRoaXMuYm94SGVpZ2h0LAogICAgICAgIH07CiAgICAgICAgaWYgKHkgKyB0aGlzLmJveEhlaWdodCA8PSB0aGlzLmNhbnZhc0hlaWdodCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgIGNvbnN0IHcgPSB3aWR0aCAqIChjaGlsZC5mcmFjdGlvbiB8fCBjaGlsZC5jb3VudCAvIG5vZGUuY291bnQpOwogICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JhcGgoY2hpbGQsIHcsIGhlaWdodCwgeCwgeSArIHRoaXMuYm94SGVpZ2h0KTsKICAgICAgICAgICAgICAgIHggKz0gdzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jYW5XaGVlbERvd24gPSB0cnVlOwogICAgICAgIH0KICAgIH0KICAgIGRyYXdOb2RlKHRleHQsIGNvbG9yLCBiQ29sb3IsIHRleHRDb2xvciwgd2lkdGgsIHgsIHkpIHsKICAgICAgICBpZiAod2lkdGggPCAxKSB7CiAgICAgICAgICAgIHdpZHRoID0gMTsKICAgICAgICB9CiAgICAgICAgY29uc3QgZHJhd0JvcmRlciA9IGZhbHNlOyAvL3dpZHRoID4gMjAqdGhpcy5ib3JkZXJXaWR0aDsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSBjb2xvcjsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5yZWN0KHgsIHkgKyB0aGlzLmJvcmRlcldpZHRoLCB3aWR0aCwgdGhpcy5ib3hIZWlnaHQgLSB0aGlzLmJvcmRlcldpZHRoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTsKICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsKCk7CiAgICAgICAgaWYgKGRyYXdCb3JkZXIpIHsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguZmlsbFN0eWxlID0gYkNvbG9yOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHgucmVjdCh4LCB5ICsgdGhpcy5ib3JkZXJXaWR0aCwgdGhpcy5ib3JkZXJXaWR0aCwgdGhpcy5ib3hIZWlnaHQgLSB0aGlzLmJvcmRlcldpZHRoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xvc2VQYXRoKCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGwoKTsKICAgICAgICB9CiAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gd2lkdGggLSAyICogdGhpcy5wYWRkaW5nIC0gMiAqIHRoaXMuYm9yZGVyV2lkdGg7CiAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwKSB7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnNhdmUoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguYmVnaW5QYXRoKCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnJlY3QoeCArIHRoaXMuYm9yZGVyV2lkdGggKyB0aGlzLnBhZGRpbmcsIHkgKyB0aGlzLmJvcmRlcldpZHRoICsgdGhpcy5wYWRkaW5nLCB0ZXh0V2lkdGgsIHRoaXMuYm94SGVpZ2h0IC0gdGhpcy5ib3JkZXJXaWR0aCAtIDIgKiB0aGlzLnBhZGRpbmcpOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbG9zZVBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jYW52YXNDdHguY2xpcCgpOwogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5maWxsU3R5bGUgPSB0ZXh0Q29sb3I7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LmZpbGxUZXh0KHRleHQsIHggKyB0aGlzLmJvcmRlcldpZHRoICsgdGhpcy5wYWRkaW5nLCB5ICsgdGhpcy5ib3hIZWlnaHQgLyAyICsgdGhpcy5ib3JkZXJXaWR0aCk7CiAgICAgICAgICAgIHRoaXMuY2FudmFzQ3R4LnJlc3RvcmUoKTsKICAgICAgICB9CiAgICB9CiAgICB1cGRhdGVUb29sdGlwKG5vZGUpIHsKICAgICAgICB0aGlzLnRvb2x0aXAuZnVuY3Rpb24uaW5uZXJUZXh0ID0gbm9kZS5mdW5jOwogICAgICAgIGlmIChub2RlLmZpbGUgfHwgbm9kZS5saW5lID4gMCkgewogICAgICAgICAgICB0aGlzLnRvb2x0aXAuZmlsZS5pbm5lclRleHQgPSBub2RlLmZpbGUgKyAnOicgKyBub2RlLmxpbmU7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLnRvb2x0aXAuZmlsZS5pbm5lclRleHQgPSAnJzsKICAgICAgICB9CiAgICAgICAgdGhpcy50b29sdGlwLmNvdW50LmlubmVyVGV4dCA9IChub2RlLmNvdW50TGFiZWwgfHwgKG5vZGUuY291bnQgKyAnIHNhbXBsZXMnKSkudG9TdHJpbmcoKTsKICAgICAgICBsZXQgcGVyY2VudGFnZVRleHQgPSAoKDEwMCAqIG5vZGUuY291bnQpIC8KICAgICAgICAgICAgdGhpcy5kYXRhW3RoaXMuY3VycmVudFNlbGVjdGlvbl0uY291bnQpLnRvRml4ZWQoKSArICclIG9mIHJvb3QnOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZU5vZGUuY291bnQgIT0gdGhpcy5kYXRhW3RoaXMuY3VycmVudFNlbGVjdGlvbl0uY291bnQpIHsKICAgICAgICAgICAgcGVyY2VudGFnZVRleHQgPSBwZXJjZW50YWdlVGV4dCArICcsICcgKyAoKDEwMCAqIG5vZGUuY291bnQpIC8KICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlTm9kZS5jb3VudCkudG9GaXhlZCgpICsgJyUgb2Ygc2VsZWN0aW9uJzsKICAgICAgICB9CiAgICAgICAgdGhpcy50b29sdGlwLnBlcmNlbnRhZ2UuaW5uZXJUZXh0ID0gcGVyY2VudGFnZVRleHQ7CiAgICAgICAgY29uc3QgZmxhZ3MgPSBbXTsKICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MDEpIHsKICAgICAgICAgICAgZmxhZ3MucHVzaCgncnVudGltZS1kaXNwYXRjaCcpOwogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5mbGFncyAmIDB4MDIpIHsKICAgICAgICAgICAgZmxhZ3MucHVzaCgnR0MnKTsKICAgICAgICB9CiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAweDA4KSB7CiAgICAgICAgICAgIGZsYWdzLnB1c2goJ2NvbXBpbGF0aW9uJyk7CiAgICAgICAgfQogICAgICAgIGlmIChub2RlLmZsYWdzICYgMHgxMCkgewogICAgICAgICAgICBmbGFncy5wdXNoKCd0YXNrJyk7CiAgICAgICAgfQogICAgICAgIGxldCBmbGFnU3RyaW5nID0gJyc7CiAgICAgICAgaWYgKGZsYWdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZmxhZ1N0cmluZyA9ICdGbGFnczogJyArIGZsYWdzLmpvaW4oJywgJyk7CiAgICAgICAgfQogICAgICAgIHRoaXMudG9vbHRpcC5mbGFncy5pbm5lclRleHQgPSBmbGFnU3RyaW5nOwogICAgICAgIGlmICh0aGlzLmN0cmxDbGlja0hhbmRsZXIpIHsKICAgICAgICAgICAgdGhpcy50b29sdGlwWydjdHJsQ2xpY2tIaW50J10uaW5uZXJUZXh0ID0KICAgICAgICAgICAgICAgICdDdHJsL0NtZCtDbGljayB0byBvcGVuIHRoaXMgZmlsZSc7CiAgICAgICAgfQogICAgfQogICAgZHJhd0hvdmVyTm9kZShub2RlKSB7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5maWxsU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yOwogICAgICAgIHRoaXMuaG92ZXJDYW52YXNDdHguZmlsbFJlY3Qobm9kZS5wb3MueCwgbm9kZS5wb3MueSArIHRoaXMuYm9yZGVyV2lkdGgsIE1hdGgubWF4KDEsIG5vZGUucG9zLndpZHRoKSwgbm9kZS5wb3MuaGVpZ2h0IC0gdGhpcy5ib3JkZXJXaWR0aCk7CiAgICAgICAgY29uc3QgaW5uZXJXaWR0aCA9IG5vZGUucG9zLndpZHRoIC0gdGhpcy5ib3JkZXJXaWR0aCAqIDIgKiB0aGlzLnNjYWxlOwogICAgICAgIGlmIChpbm5lcldpZHRoID4gMSkgewogICAgICAgICAgICB0aGlzLmhvdmVyQ2FudmFzQ3R4LmNsZWFyUmVjdChub2RlLnBvcy54ICsgdGhpcy5ib3JkZXJXaWR0aCAqIHRoaXMuc2NhbGUsIG5vZGUucG9zLnkgKyAyICogdGhpcy5ib3JkZXJXaWR0aCAqIHRoaXMuc2NhbGUsIGlubmVyV2lkdGgsIG5vZGUucG9zLmhlaWdodCAtIHRoaXMuYm9yZGVyV2lkdGggKiAzICogdGhpcy5zY2FsZSk7CiAgICAgICAgfQogICAgICAgIHRoaXMudXBkYXRlVG9vbHRpcChub2RlKTsKICAgIH0KICAgIGNsZWFySG92ZXIoKSB7CiAgICAgICAgdGhpcy5ob3ZlckNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQpOwogICAgICAgIHRoaXMudG9vbHRpcEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIH0KICAgIGRyYXdIb3Zlcihub2RlLCBtb3VzZVgsIG1vdXNlWSkgewogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgIHRoaXMucnVuT25Ob2RlQXRNb3VzZVBvc2l0aW9uKG5vZGUsIG1vdXNlWCwgbW91c2VZLCAobm9kZSkgPT4gewogICAgICAgICAgICB0aGlzLmRyYXdIb3Zlck5vZGUobm9kZSk7CiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZm91bmQ7CiAgICB9CiAgICBydW5Pbk5vZGVBdE1vdXNlUG9zaXRpb24ocm9vdCwgeCwgeSwgZikgewogICAgICAgIGlmICh4ID49IE1hdGguZmxvb3Iocm9vdC5wb3MueCkgJiYKICAgICAgICAgICAgeCA8PSBNYXRoLmNlaWwocm9vdC5wb3MueCArIHJvb3QucG9zLndpZHRoKSAmJgogICAgICAgICAgICB5ID49IHJvb3QucG9zLnkpIHsKICAgICAgICAgICAgaWYgKHkgPD0gcm9vdC5wb3MueSArIHJvb3QucG9zLmhlaWdodCkgewogICAgICAgICAgICAgICAgZihyb290KTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiByb290LmNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucnVuT25Ob2RlQXRNb3VzZVBvc2l0aW9uKGNoaWxkLCB4LCB5LCBmKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgem9vbUluT25Ob2RlKG5vZGUsIG1vdXNlWCwgbW91c2VZKSB7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgdGhpcy5ydW5Pbk5vZGVBdE1vdXNlUG9zaXRpb24obm9kZSwgbW91c2VYLCBtb3VzZVksIChub2RlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuY2xlYXJIb3ZlcigpOwogICAgICAgICAgICB0aGlzLmFjdGl2ZU5vZGUgPSBub2RlOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgfQogICAgLy8gaWRlYWxseSB0aGlzIHdvdWxkbid0IHJlcXVpcmUgdHJlZSB0cmF2ZXJzYWwgYXQgYWxsCiAgICBmaW5kUGFyZW50Tm9kZSh0YXJnZXQsIGN1cnJlbnQgPSBudWxsKSB7CiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHsKICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuZGF0YVt0aGlzLmN1cnJlbnRTZWxlY3Rpb25dOwogICAgICAgIH0KICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGN1cnJlbnQuY2hpbGRyZW4pIHsKICAgICAgICAgICAgaWYgKGNoaWxkID09PSB0YXJnZXQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLmZpbmRQYXJlbnROb2RlKHRhcmdldCwgY2hpbGQpOwogICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBudWxsOwogICAgfQp9Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ZpbGUtdmlld2VyLmpzLm1hcA==')
    const viewer = new ProfileCanvas.ProfileViewer("#profiler-container-20815", {"24":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"4":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"1":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_start","file":"client.jl","path":"./client.jl","line":552,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exec_options","file":"client.jl","path":"./client.jl","line":333,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_main_repl","file":"client.jl","path":"./client.jl","line":416,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"invokelatest","file":"essentials.jl","path":"./essentials.jl","line":889,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#invokelatest#2","file":"essentials.jl","path":"./essentials.jl","line":892,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#1013","file":"client.jl","path":"./client.jl","line":432,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_repl","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":375,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_repl#59","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":389,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"start_repl_backend","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":228,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#start_repl_backend#46","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":231,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"repl_backend_loop","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":246,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_user_input","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":150,"count":58,"countLabel":null,"flags":4,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include","file":"client.jl","path":"./client.jl","line":489,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_include","file":"loading.jl","path":"./loading.jl","line":2136,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2076,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"weave","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":124,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#weave#124","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":176,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_doc","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":6,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_doc#21","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":74,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":133,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":263,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_code","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":192,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#29","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":191,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"capture_output","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":216,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"task_local_storage","file":"task.jl","path":"./task.jl","line":297,"count":58,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"#32","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":218,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2086,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2076,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1078,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1082,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1051,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":103,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":788,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":794,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":909,"count":4,"countLabel":null,"flags":9,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":272,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":453,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":504,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":489,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"slot2reg","file":"optimize.jl","path":"./compiler/optimize.jl","line":626,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"construct_ssa!","file":"slot2ssa.jl","path":"./compiler/ssair/slot2ssa.jl","line":965,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"domsort_ssa!","file":"slot2ssa.jl","path":"./compiler/ssair/slot2ssa.jl","line":464,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"setindex!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":264,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"setindex!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":256,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"getindex","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":243,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"getindex","file":"essentials.jl","path":"./essentials.jl","line":13,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2889,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2889,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":103,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":788,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":794,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":909,"count":3,"countLabel":null,"flags":9,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":272,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":453,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":504,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":489,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"ssa_inlining_pass!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":81,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"batch_inline!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":681,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resize!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":1472,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resize!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":222,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resize!","file":"array.jl","path":"./array.jl","line":1315,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_growend!","file":"array.jl","path":"./array.jl","line":1072,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":272,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":453,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":504,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":489,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"ssa_inlining_pass!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":78,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"assemble_inline_todo!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1698,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_call!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1450,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compute_inlining_cases","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1404,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_any_const_result!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1312,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#handle_any_const_result!#459","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1329,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_match!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1457,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#handle_match!#462","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1467,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"analyze_method!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":950,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#analyze_method!#458","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":981,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resolve_todo","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":871,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#resolve_todo#457","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":908,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"retrieve_ir_for_inlining","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":986,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"inflate_ir!","file":"legacy.jl","path":"./compiler/ssair/legacy.jl","line":14,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"inflate_ir!","file":"legacy.jl","path":"./compiler/ssair/legacy.jl","line":18,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compute_basic_blocks","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":101,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"BasicBlock","file":"basicblock.jl","path":"./compiler/ssair/basicblock.jl","line":25,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"getindex","file":"array.jl","path":"./array.jl","line":448,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":564,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#306","file":"reduce.jl","path":"./reduce.jl","line":564,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":535,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#305","file":"reduce.jl","path":"./reduce.jl","line":535,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":307,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#302","file":"reduce.jl","path":"./reduce.jl","line":307,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":175,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#298","file":"reduce.jl","path":"./reduce.jl","line":175,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":29,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#13","file":"none","path":"./none","line":0,"count":24,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"share_v2","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":32,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Integrator","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":535,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#305","file":"reduce.jl","path":"./reduce.jl","line":535,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":307,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#302","file":"reduce.jl","path":"./reduce.jl","line":307,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":175,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#298","file":"reduce.jl","path":"./reduce.jl","line":175,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#8","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":21,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":29,"count":11,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":19,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":911,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":914,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":327,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":216,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":414,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]},{"func":"+","file":"float.jl","path":"./float.jl","line":409,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":229,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"reinterpret","file":"essentials.jl","path":"./essentials.jl","line":581,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":228,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"<<","file":"int.jl","path":"./int.jl","line":536,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"<<","file":"int.jl","path":"./int.jl","line":529,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":213,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":414,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":218,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"abs","file":"float.jl","path":"./float.jl","line":610,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":20,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":911,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":914,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"setindex!","file":"array.jl","path":"./array.jl","line":1021,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]},{"func":"sum","file":"reducedim.jl","path":"./reducedim.jl","line":1010,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#828","file":"reducedim.jl","path":"./reducedim.jl","line":1010,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_sum","file":"reducedim.jl","path":"./reducedim.jl","line":1014,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_sum#830","file":"reducedim.jl","path":"./reducedim.jl","line":1014,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_sum","file":"reducedim.jl","path":"./reducedim.jl","line":1015,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_sum#831","file":"reducedim.jl","path":"./reducedim.jl","line":1015,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#821","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce_dim","file":"reducedim.jl","path":"./reducedim.jl","line":365,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce","file":"reduce.jl","path":"./reduce.jl","line":441,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":18,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"reduce","file":"reducedim.jl","path":"./reducedim.jl","line":406,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#reduce#823","file":"reducedim.jl","path":"./reducedim.jl","line":406,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#821","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce_dim","file":"reducedim.jl","path":"./reducedim.jl","line":362,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":86,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"max","file":"math.jl","path":"./math.jl","line":911,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"ifelse","file":"essentials.jl","path":"./essentials.jl","line":647,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":28,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"dplusxMy","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":6,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"condense_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/condense_loopset.jl","line":1179,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_turbo_!","file":"reconstruct_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/reconstruct_loopset.jl","line":1107,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"reconstruct_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/reconstruct_loopset.jl","line":1107,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_vstore!","file":"stridedpointers.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/strided_pointers/stridedpointers.jl","line":199,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"__vstore!","file":"memory_addr.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/memory_addr.jl","line":1482,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"memory_addr.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/memory_addr.jl","line":1482,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]},{"func":"partialmap","file":"lower_compute.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/codegen/lower_compute.jl","line":292,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"lower_compute.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/codegen/lower_compute.jl","line":0,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vfmadd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/intrin_funcs.jl","line":493,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/base_defs.jl","line":392,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"promote","file":"VectorizationBase.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/VectorizationBase.jl","line":100,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"convert","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/base_defs.jl","line":199,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vconvert","file":"conversion.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/conversion.jl","line":191,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vbroadcast","file":"vbroadcast.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/vbroadcast.jl","line":151,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_vbroadcast","file":"vbroadcast.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/vbroadcast.jl","line":122,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"vbroadcast.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/vbroadcast.jl","line":95,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]},{"func":"vmuladd_fast","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/base_defs.jl","line":393,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/intrin_funcs.jl","line":438,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/intrin_funcs.jl","line":438,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]},{"func":"dplusxMy","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":5,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"array.jl","path":"./array.jl","line":415,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":1,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]},{"func":"*","file":"arraymath.jl","path":"./arraymath.jl","line":24,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":892,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":5,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":86,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"add_sum","file":"reduce.jl","path":"./reduce.jl","line":24,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":16,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":892,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":3,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},"12":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"29":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"20":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"32":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"2":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"6":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"25":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"23":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"22":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"11":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"35":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"13":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"5":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"15":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"27":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"31":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"33":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"28":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"16":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"14":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"39":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"40":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"21":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"38":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"7":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"34":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"8":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"all":{"func":"root","file":"","path":"","line":0,"count":2462,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":2401,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":2401,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":2401,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]},{"func":"_start","file":"client.jl","path":"./client.jl","line":552,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exec_options","file":"client.jl","path":"./client.jl","line":333,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_main_repl","file":"client.jl","path":"./client.jl","line":416,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"invokelatest","file":"essentials.jl","path":"./essentials.jl","line":889,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#invokelatest#2","file":"essentials.jl","path":"./essentials.jl","line":892,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"#1013","file":"client.jl","path":"./client.jl","line":432,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_repl","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":375,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_repl#59","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":389,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"start_repl_backend","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":228,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#start_repl_backend#46","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":231,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"repl_backend_loop","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":246,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_user_input","file":"REPL.jl","path":"/cache/build/builder-amdci5-1/julialang/julia-release-1-dot-10/usr/share/julia/stdlib/v1.10/REPL/src/REPL.jl","line":150,"count":58,"countLabel":null,"flags":4,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include","file":"client.jl","path":"./client.jl","line":489,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_include","file":"loading.jl","path":"./loading.jl","line":2136,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2076,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"weave","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":124,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#weave#124","file":"Weave.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/Weave.jl","line":176,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"run_doc","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":6,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#run_doc#21","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":74,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":133,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval_chunk","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":263,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"run_code","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":192,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#29","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":191,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"capture_output","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":216,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"task_local_storage","file":"task.jl","path":"./task.jl","line":297,"count":58,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"#32","file":"run.jl","path":"/home/paul/.julia/packages/Weave/f7Ly3/src/run.jl","line":218,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2086,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"include_string","file":"loading.jl","path":"./loading.jl","line":2076,"count":58,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"eval","file":"boot.jl","path":"./boot.jl","line":385,"count":58,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1078,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext_toplevel","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1082,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_ext","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":1051,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":10,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":9,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":5,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":103,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":788,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":794,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":909,"count":4,"countLabel":null,"flags":9,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":272,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":453,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":504,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":489,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"slot2reg","file":"optimize.jl","path":"./compiler/optimize.jl","line":626,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"construct_ssa!","file":"slot2ssa.jl","path":"./compiler/ssair/slot2ssa.jl","line":965,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"domsort_ssa!","file":"slot2ssa.jl","path":"./compiler/ssair/slot2ssa.jl","line":464,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"setindex!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":264,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"setindex!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":256,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"getindex","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":243,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"getindex","file":"essentials.jl","path":"./essentials.jl","line":13,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2889,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2889,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":95,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":629,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_edge","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":930,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":216,"count":4,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":247,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_nocycle","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3186,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"typeinf_local","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":3098,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_basic_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2913,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2624,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_statement_expr","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2380,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2370,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2354,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2162,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2169,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_known","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":2087,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_gf_by_type","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":103,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":788,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"abstract_call_method_with_const_args","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":794,"count":3,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"concrete_eval_call","file":"abstractinterpretation.jl","path":"./compiler/abstractinterpretation.jl","line":909,"count":3,"countLabel":null,"flags":9,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":272,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":453,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":504,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":489,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"ssa_inlining_pass!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":81,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"batch_inline!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":681,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resize!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":1472,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resize!","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":222,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resize!","file":"array.jl","path":"./array.jl","line":1315,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_growend!","file":"array.jl","path":"./array.jl","line":1072,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"_typeinf","file":"typeinfer.jl","path":"./compiler/typeinfer.jl","line":272,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"optimize","file":"optimize.jl","path":"./compiler/optimize.jl","line":453,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":504,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"run_passes","file":"optimize.jl","path":"./compiler/optimize.jl","line":489,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"ssa_inlining_pass!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":78,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"assemble_inline_todo!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1698,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_call!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1450,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compute_inlining_cases","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1404,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_any_const_result!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1312,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#handle_any_const_result!#459","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1329,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"handle_match!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1457,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#handle_match!#462","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":1467,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"analyze_method!","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":950,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#analyze_method!#458","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":981,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"resolve_todo","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":871,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"#resolve_todo#457","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":908,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"retrieve_ir_for_inlining","file":"inlining.jl","path":"./compiler/ssair/inlining.jl","line":986,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"inflate_ir!","file":"legacy.jl","path":"./compiler/ssair/legacy.jl","line":14,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"inflate_ir!","file":"legacy.jl","path":"./compiler/ssair/legacy.jl","line":18,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"compute_basic_blocks","file":"ir.jl","path":"./compiler/ssair/ir.jl","line":101,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"BasicBlock","file":"basicblock.jl","path":"./compiler/ssair/basicblock.jl","line":25,"count":1,"countLabel":null,"flags":8,"taskId":null,"children":[{"func":"getindex","file":"array.jl","path":"./array.jl","line":448,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":564,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#306","file":"reduce.jl","path":"./reduce.jl","line":564,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":535,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#305","file":"reduce.jl","path":"./reduce.jl","line":535,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":307,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#302","file":"reduce.jl","path":"./reduce.jl","line":307,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":175,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#298","file":"reduce.jl","path":"./reduce.jl","line":175,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":29,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":29,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#13","file":"none","path":"./none","line":0,"count":24,"countLabel":null,"flags":1,"taskId":null,"children":[{"func":"share_v2","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":32,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Integrator","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"sum","file":"reduce.jl","path":"./reduce.jl","line":535,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#305","file":"reduce.jl","path":"./reduce.jl","line":535,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reduce.jl","path":"./reduce.jl","line":307,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#302","file":"reduce.jl","path":"./reduce.jl","line":307,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl","file":"reduce.jl","path":"./reduce.jl","line":175,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapfoldl#298","file":"reduce.jl","path":"./reduce.jl","line":175,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"MappingRF","file":"reduce.jl","path":"./reduce.jl","line":100,"count":24,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#8","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":13,"count":21,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":29,"count":11,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":19,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":911,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":914,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"getindex","file":"broadcast.jl","path":"./broadcast.jl","line":636,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex","file":"broadcast.jl","path":"./broadcast.jl","line":682,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_broadcast_getindex_evalf","file":"broadcast.jl","path":"./broadcast.jl","line":709,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp","file":"exp.jl","path":"./special/exp.jl","line":327,"count":7,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":216,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":414,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]},{"func":"+","file":"float.jl","path":"./float.jl","line":409,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":229,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"reinterpret","file":"essentials.jl","path":"./essentials.jl","line":581,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":228,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"<<","file":"int.jl","path":"./int.jl","line":536,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"<<","file":"int.jl","path":"./int.jl","line":529,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":213,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"muladd","file":"float.jl","path":"./float.jl","line":414,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]},{"func":"exp_impl","file":"exp.jl","path":"./special/exp.jl","line":218,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"abs","file":"float.jl","path":"./float.jl","line":610,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":20,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":911,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize!","file":"broadcast.jl","path":"./broadcast.jl","line":914,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":956,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copyto!","file":"broadcast.jl","path":"./broadcast.jl","line":1003,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"simdloop.jl","path":"./simdloop.jl","line":77,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"broadcast.jl","path":"./broadcast.jl","line":1004,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"setindex!","file":"array.jl","path":"./array.jl","line":1021,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]},{"func":"sum","file":"reducedim.jl","path":"./reducedim.jl","line":1010,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#sum#828","file":"reducedim.jl","path":"./reducedim.jl","line":1010,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_sum","file":"reducedim.jl","path":"./reducedim.jl","line":1014,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_sum#830","file":"reducedim.jl","path":"./reducedim.jl","line":1014,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_sum","file":"reducedim.jl","path":"./reducedim.jl","line":1015,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#_sum#831","file":"reducedim.jl","path":"./reducedim.jl","line":1015,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#821","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce_dim","file":"reducedim.jl","path":"./reducedim.jl","line":365,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce","file":"reduce.jl","path":"./reduce.jl","line":441,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]},{"func":"softmax0!","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":18,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"reduce","file":"reducedim.jl","path":"./reducedim.jl","line":406,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#reduce#823","file":"reducedim.jl","path":"./reducedim.jl","line":406,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapreduce","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"#mapreduce#821","file":"reducedim.jl","path":"./reducedim.jl","line":357,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_mapreduce_dim","file":"reducedim.jl","path":"./reducedim.jl","line":362,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"mapfoldl_impl","file":"reduce.jl","path":"./reduce.jl","line":44,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":48,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_foldl_impl","file":"reduce.jl","path":"./reduce.jl","line":62,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":86,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"max","file":"math.jl","path":"./math.jl","line":911,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"ifelse","file":"essentials.jl","path":"./essentials.jl","line":647,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]},{"func":"shareν","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":28,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"dplusxMy","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":6,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"condense_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/condense_loopset.jl","line":1179,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_turbo_!","file":"reconstruct_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/reconstruct_loopset.jl","line":1107,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"reconstruct_loopset.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/reconstruct_loopset.jl","line":1107,"count":4,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_vstore!","file":"stridedpointers.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/strided_pointers/stridedpointers.jl","line":199,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"__vstore!","file":"memory_addr.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/memory_addr.jl","line":1482,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"memory_addr.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/memory_addr.jl","line":1482,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]},{"func":"partialmap","file":"lower_compute.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/codegen/lower_compute.jl","line":292,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"lower_compute.jl","path":"/home/paul/.julia/packages/LoopVectorization/1hqld/src/codegen/lower_compute.jl","line":0,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vfmadd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/intrin_funcs.jl","line":493,"count":2,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/base_defs.jl","line":392,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"promote","file":"VectorizationBase.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/VectorizationBase.jl","line":100,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"convert","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/base_defs.jl","line":199,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vconvert","file":"conversion.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/conversion.jl","line":191,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vbroadcast","file":"vbroadcast.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/vbroadcast.jl","line":151,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"_vbroadcast","file":"vbroadcast.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/vbroadcast.jl","line":122,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"vbroadcast.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/vbroadcast.jl","line":95,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]},{"func":"vmuladd_fast","file":"base_defs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/base_defs.jl","line":393,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"vmuladd_fast","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/intrin_funcs.jl","line":438,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"macro expansion","file":"intrin_funcs.jl","path":"/home/paul/.julia/packages/VectorizationBase/jwLXP/src/llvm_intrin/intrin_funcs.jl","line":438,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]},{"func":"dplusxMy","file":"assignment.jmd","path":"/home/paul/.julia/dev/ARGridBootstrap/docs/jmd/assignment.jmd","line":5,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"array.jl","path":"./array.jl","line":415,"count":1,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":1,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]},{"func":"*","file":"arraymath.jl","path":"./arraymath.jl","line":24,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":892,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":5,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":5,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]},{"func":"BottomRF","file":"reduce.jl","path":"./reduce.jl","line":86,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"add_sum","file":"reduce.jl","path":"./reduce.jl","line":24,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"+","file":"arraymath.jl","path":"./arraymath.jl","line":16,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"broadcast_preserving_zero_d","file":"broadcast.jl","path":"./broadcast.jl","line":892,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"materialize","file":"broadcast.jl","path":"./broadcast.jl","line":903,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"copy","file":"broadcast.jl","path":"./broadcast.jl","line":928,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":223,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"broadcast.jl","path":"./broadcast.jl","line":224,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":876,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"similar","file":"abstractarray.jl","path":"./abstractarray.jl","line":877,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":494,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":486,"count":3,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"Array","file":"boot.jl","path":"./boot.jl","line":477,"count":3,"countLabel":null,"flags":2,"taskId":null,"children":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},"36":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"26":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"17":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"10":{"func":"root","file":"","path":"","line":0,"count":61,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":61,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"19":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"37":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"9":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"18":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"30":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]},"3":{"func":"root","file":"","path":"","line":0,"count":62,"countLabel":null,"flags":0,"taskId":null,"children":[{"func":"task_done_hook","file":"task.jl","path":"./task.jl","line":675,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"wait","file":"task.jl","path":"./task.jl","line":994,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[{"func":"poptask","file":"task.jl","path":"./task.jl","line":985,"count":62,"countLabel":null,"flags":16,"taskId":null,"children":[]}]}]}]}}, "Thread")
</script>
<p>The execution time is still dominated by the two functions mentioned above.</p>
</section>
<section id="staticarrays" class="level2">
<h2 class="anchored" data-anchor-id="staticarrays">StaticArrays</h2>
<p>Since the calculations involve small arrays, it is likely to benefit from using <code>StaticArrays</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">StaticArrays</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>sδ <span class="op">=</span> <span class="fu">SVector</span><span class="dt">{J}</span>(δ)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>sΣ <span class="op">=</span> <span class="fu">SMatrix</span><span class="dt">{K,K}</span>(Σ)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>sX <span class="op">=</span> <span class="fu">SMatrix</span><span class="dt">{J,K}</span>(X)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>nd <span class="op">=</span> <span class="fu">length</span>(∫.x)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>iw <span class="op">=</span> <span class="fu">SVector</span><span class="dt">{nd}</span>(<span class="fu">fill</span>(<span class="fl">1</span><span class="op">/</span>nd,nd))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>ix <span class="op">=</span> [<span class="fu">SVector</span><span class="dt">{K}</span>(x) for x <span class="op">∈</span> ∫.x]</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>s∫ <span class="op">=</span> <span class="fu">Integrator</span>(ix,iw)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share_v2</span>(sδ,sΣ,sX,s∫)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  18.543 μs …   5.089 ms  ┊ GC (min … max): 0.00% … 98.5
7%
 Time  (median):     23.061 μs               ┊ GC (median):    0.00%
 Time  (mean ± σ):   28.211 μs ± 110.996 μs  ┊ GC (mean ± σ):  8.71% ±  2.2
0%

               ▄█▆▂                                             
  ▂▃▃▃▃▃▃▂▂▂▃▄▇████▆▃▂▂▂▂▂▁▂▂▂▁▂▂▂▂▂▂▂▂▂▂▁▂▁▁▁▁▂▂▂▂▃▇▆▄▄▇▅▃▂▂▂ ▃
  18.5 μs         Histogram: frequency by time         36.1 μs &lt;

 Memory estimate: 28.03 KiB, allocs estimate: 299.</code></pre>
<p>The code is now 2 times faster than what we started with.</p>
<p>Interestly, slightly better performance can be achieved by simply passing <code>StaticArrays</code> to the original code.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share</span>(<span class="op">$</span>(<span class="fu">MVector</span>(sδ)),sΣ,sX,s∫) <span class="co"># δ gets mutated, so we must make it a Mutable SArray.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  15.258 μs …   5.028 ms  ┊ GC (min … max): 0.00% … 98.7
4%
 Time  (median):     18.066 μs               ┊ GC (median):    0.00%
 Time  (mean ± σ):   25.243 μs ± 111.254 μs  ┊ GC (mean ± σ):  9.76% ±  2.2
1%

         ▇█▁                                                    
  ▂▃▃▃▃▂▃███▅▃▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▁▂▂▂▁▁▁▁▂▁▁▂▁▁▁▂▂▃▅▅▆▆▅▅▆▄▂▂▂▂▂ ▃
  15.3 μs         Histogram: frequency by time         33.2 μs &lt;

 Memory estimate: 28.03 KiB, allocs estimate: 299.</code></pre>
</section>
<section id="non-allocating" class="level2">
<h2 class="anchored" data-anchor-id="non-allocating">Non-allocating</h2>
<p>We can do still better by eliminating the allocations. With normal arrays, broadcast operations are usually non-allocating, and normal array operations allocate. With <code>StaticArrays</code>, normal operatorations do not allocate.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>Additionally, we can precompute x*Σ outside of <code>shareν</code> (we could have done this at any time earlier too). This change accounts for about 1μs of the speed up.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">share_v3</span>(δ, Σ, x, ∫)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  J,K <span class="op">=</span> <span class="fu">size</span>(x)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">length</span>(δ) <span class="op">==</span> J) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"length(δ)=</span><span class="sc">$</span>(<span class="fu">length</span>(δ))<span class="st"> != size(x,1)=</span><span class="sc">$</span>J<span class="st">"</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  (K,K) <span class="op">==</span> <span class="fu">size</span>(Σ) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"size(x,2)=</span><span class="sc">$</span>K<span class="st"> != size(Σ)=</span><span class="sc">$</span>(<span class="fu">size</span>(Σ))<span class="st">"</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  xΣ <span class="op">=</span> x<span class="op">*</span>Σ</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">shareν</span>(ν)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> δ <span class="op">+</span> xΣ<span class="op">*</span>ν</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    smax<span class="op">=</span><span class="fu">max</span>(<span class="fl">0</span>,<span class="fu">maximum</span>(s))</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    s <span class="op">-=</span> <span class="fu">smax*ones</span>(<span class="fu">typeof</span>(s))</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="fu">exp</span>.(s)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    s <span class="op">*=</span> <span class="fl">1</span><span class="op">/</span>(<span class="fu">sum</span>(s) <span class="op">+</span> <span class="fu">exp</span>(<span class="fl">0</span><span class="op">-</span>smax))</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(s)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(<span class="fu">∫</span>(shareν))</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>share_v3 (generic function with 1 method)</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share_v3</span>(sδ,sΣ,sX,s∫)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  9.609 μs …  24.355 μs  ┊ GC (min … max): 0.00% … 0.00%
 Time  (median):     9.706 μs               ┊ GC (median):    0.00%
 Time  (mean ± σ):   9.743 μs ± 337.037 ns  ┊ GC (mean ± σ):  0.00% ± 0.00%

         ▁▂▃█▁▂▅                                               
  ▁▁▁▁▂▄▄███████▇▆▇▄▅▆▅▇█▅▆▆▄▅▃▃▂▂▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁ ▃
  9.61 μs         Histogram: frequency by time          10 μs &lt;

 Memory estimate: 96 bytes, allocs estimate: 1.</code></pre>
<p>The code is now 5 times faster than the original, and only allocates once (to store the return value).</p>
</section>
<section id="multi-threading" class="level2">
<h2 class="anchored" data-anchor-id="multi-threading">Multi-Threading</h2>
<p>Multi-threading this code is difficult because it is already quite fast. The sum in the integral can be parallelized, but unless there are a large number of integration points, the overhead from creating threads will likely outweigh the benefits.</p>
<p>The <a href="https://github.com/JuliaSIMD/Polyester.jl"><code>Polyester</code> package</a> provides a faster, but more limited threading model than base Julia. Using it, we can see modest gains, even with just 100 integration points.</p>
<p>To get type stability, I had to write the integration sum loop inside the share function. It would have been cleaner to keep the integration sum in a separate function, but I could not make it type stable that way.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Polyester</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">share_v4</span>(δ, Σ, x, ∫, <span class="op">::</span><span class="dt">Val{B}</span>=<span class="fu">Val</span>(<span class="fu">length</span>(∫.x) <span class="op">÷</span> <span class="fl">10</span>)) <span class="kw">where</span> {B}</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  J,K <span class="op">=</span> <span class="fu">size</span>(x)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  (<span class="fu">length</span>(δ) <span class="op">==</span> J) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"length(δ)=</span><span class="sc">$</span>(<span class="fu">length</span>(δ))<span class="st"> != size(x,1)=</span><span class="sc">$</span>J<span class="st">"</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  (K,K) <span class="op">==</span> <span class="fu">size</span>(Σ) <span class="op">||</span> <span class="fu">error</span>(<span class="st">"size(x,2)=</span><span class="sc">$</span>K<span class="st"> != size(Σ)=</span><span class="sc">$</span>(<span class="fu">size</span>(Σ))<span class="st">"</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  xΣ <span class="op">=</span> x<span class="op">*</span>Σ</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">shareν</span>(ν)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> δ <span class="op">+</span> xΣ<span class="op">*</span>ν</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    smax<span class="op">=</span><span class="fu">max</span>(<span class="fl">0</span>,<span class="fu">maximum</span>(s))</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    s <span class="op">-=</span> <span class="fu">smax*ones</span>(<span class="fu">typeof</span>(s))</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>    s <span class="op">=</span> <span class="fu">exp</span>.(s)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>    s <span class="op">*=</span> <span class="fl">1</span><span class="op">/</span>(<span class="fu">sum</span>(s) <span class="op">+</span> <span class="fu">exp</span>(<span class="fl">0</span><span class="op">-</span>smax))</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(s)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  batchlen<span class="op">=</span> <span class="fu">length</span>(∫.x)<span class="op">÷</span>B</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@assert</span> B<span class="op">*</span>batchlen<span class="op">==</span><span class="fu">length</span>(∫.x)</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  out <span class="op">=</span> <span class="fu">MVector</span><span class="dt">{B,typeof(δ)}</span>(<span class="cn">undef</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>  Polyester.<span class="pp">@batch</span> <span class="cf">for</span> b <span class="op">∈</span> <span class="fl">1</span><span class="op">:</span>B  </span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>    batch <span class="op">=</span> ((b<span class="op">-</span><span class="fl">1</span>)<span class="fu">*</span>(batchlen)<span class="op">+</span><span class="fl">1</span>)<span class="op">:</span>(b<span class="op">*</span>batchlen)</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    out[b] <span class="op">=</span> <span class="fu">zero</span>(<span class="fu">typeof</span>(δ))</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="op">∈</span> batch</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>      out[b] <span class="op">+=</span> <span class="fu">shareν</span>(∫.x[i])<span class="op">*</span>∫.w[i]</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">end</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>(<span class="fu">sum</span>(out))</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>Polyester.<span class="fu">reset_threads!</span>()</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">share_v4</span>(sδ,sΣ,sX,s∫, <span class="fu">Val</span>(<span class="fl">20</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 8 evaluations.
 Range (min … max):  4.327 μs …  1.581 ms  ┊ GC (min … max): 0.00% … 37.99%
 Time  (median):     4.769 μs              ┊ GC (median):    0.00%
 Time  (mean ± σ):   5.510 μs ± 22.203 μs  ┊ GC (mean ± σ):  2.16% ±  0.53%

       ▄▆█▇▄▁                                 ▁▂▁             
  ▁▂▂▅███████▇▅▄▄▃▃▂▂▂▁▁▁▁▁▁▁▁▁▁▁▁▁▂▂▂▂▂▂▂▂▄▆▇████▇▆▄▄▃▂▂▁▁▁ ▃
  4.33 μs        Histogram: frequency by time        6.39 μs &lt;

 Memory estimate: 1.55 KiB, allocs estimate: 2.</code></pre>
</section>
</section>
<section id="statparts" class="level1">
<h1><code>statparts</code></h1>
<p>A few people worked on optimizing the <code>klm</code> or <code>clr</code> function from <a href="https://github.com/schrimpf/GMMInference.jl">GMMInference.jl</a>. Here is the original code for <code>klm</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">ForwardDiff</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">statparts</span>(gi<span class="op">::</span><span class="dt">Function</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">P</span>(A<span class="op">::</span><span class="dt">AbstractMatrix</span>) <span class="co"># projection matrix</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">A*pinv</span>(A<span class="op">'*</span>A)<span class="op">*</span>A<span class="op">'</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span>(θ)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    giθ <span class="op">=</span> <span class="fu">gi</span>(θ)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    p <span class="op">=</span> <span class="fu">length</span>(θ)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    (n, k) <span class="op">=</span> <span class="fu">size</span>(giθ)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    Ω <span class="op">=</span> <span class="fu">cov</span>(giθ)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    gn<span class="op">=</span><span class="fu">mean</span>(<span class="fu">gi</span>(θ), dims<span class="op">=</span><span class="fl">1</span>)<span class="ch">'</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    Gi<span class="op">=</span> ForwardDiff.<span class="fu">jacobian</span>(gi,θ)</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    Gi <span class="op">=</span> <span class="fu">reshape</span>(Gi, n , k, p)</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    G <span class="op">=</span> <span class="fu">mean</span>(Gi, dims<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    Γ <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),p,k,k)</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    D <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),k, p)</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>p</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>        Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">+=</span> (Gi[i,<span class="op">:</span>,j] <span class="op">.-</span> G[<span class="fl">1</span>,<span class="op">:</span>,j]) <span class="op">*</span> giθ[i,<span class="op">:</span>]<span class="ch">'</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>      Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">./=</span> n</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>      D[<span class="op">:</span>,j] <span class="op">=</span> G[<span class="fl">1</span>,<span class="op">:</span>,j] <span class="op">-</span> Γ[j,<span class="op">:</span>,<span class="op">:</span>]<span class="fu">*inv</span>(Ω)<span class="op">*</span>gn</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(n,k,p,gn, Ω, D, P)</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">klm</span>(gi<span class="op">::</span><span class="dt">Function</span>)</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>  SP <span class="op">=</span> <span class="fu">statparts</span>(gi)</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span>(θ)</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>    (n,k,p,gn, Ω, D, P) <span class="op">=</span> <span class="fu">SP</span>(θ)</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">n*</span>(gn<span class="op">'*</span>Ω<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>)<span class="fu">*P</span>(Ω<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>)<span class="op">*</span>D)<span class="op">*</span>Ω<span class="op">^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>)<span class="op">*</span>gn)[<span class="fl">1</span>]</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>klm (generic function with 1 method)</code></pre>
<p>To run the code, we need an example <code>gi</code> function. We’ll just copy the example from <a href="https://schrimpf.github.io/GMMInference.jl/dev/identificationRobustInference/#Example:-IV-logit-demand">the docs</a>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> <span class="bu">Random</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">simulate_ivshare</span>(n,β,γ,ρ)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  z <span class="op">=</span> <span class="fu">randn</span>(n, <span class="fu">size</span>(γ)[<span class="fl">1</span>])</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  endo <span class="op">=</span> <span class="fu">randn</span>(n, <span class="fu">length</span>(β))</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  x <span class="op">=</span> z<span class="op">*</span>γ <span class="op">.+</span> endo</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  ξ <span class="op">=</span> <span class="fu">rand</span>(<span class="fu">Normal</span>(<span class="fl">0</span>,<span class="fu">sqrt</span>((<span class="fl">1.0</span><span class="op">-</span>ρ<span class="op">^</span><span class="fl">2</span>))),n)<span class="op">.+</span>endo[<span class="op">:</span>,<span class="fl">1</span>]<span class="op">*</span>ρ</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  y <span class="op">=</span> <span class="fu">cdf</span>.(<span class="fu">Logistic</span>(), x<span class="op">*</span>β <span class="op">.+</span> ξ)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>((y<span class="op">=</span>y,x<span class="op">=</span>x,z<span class="op">=</span>z))</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">100</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>k <span class="op">=</span> <span class="fl">2</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>iv <span class="op">=</span> <span class="fl">3</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>β<span class="fl">0</span> <span class="op">=</span> <span class="fu">ones</span>(k)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>π<span class="fl">0</span> <span class="op">=</span> <span class="fu">vcat</span>(<span class="fl">5</span><span class="op">*</span>I,<span class="fu">ones</span>(iv<span class="op">-</span>k,k))</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>ρ <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="bu">Random</span>.<span class="fu">seed!</span>(<span class="fl">622</span>)</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>(y,x,z) <span class="op">=</span> <span class="fu">simulate_ivshare</span>(n,β<span class="fl">0</span>,π<span class="fl">0</span>,ρ)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">gi_ivshare</span>(β,y,x,z)</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  ξ <span class="op">=</span> <span class="fu">quantile</span>.(<span class="fu">Logistic</span>(),y) <span class="op">.-</span> x<span class="op">*</span>β</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  ξ<span class="op">.*</span>z</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>gi <span class="op">=</span> <span class="kw">let</span> y<span class="op">=</span>y, x<span class="op">=</span>x, z<span class="op">=</span>z</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">β-&gt;gi_ivshare</span>(β,y,x,z)</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>#26 (generic function with 1 method)</code></pre>
<section id="initial-benchmark-1" class="level2">
<h2 class="anchored" data-anchor-id="initial-benchmark-1">Initial Benchmark</h2>
<div class="sourceCode" id="cb25"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 9747 samples with 1 evaluation.
 Range (min … max):  458.320 μs …  14.717 ms  ┊ GC (min … max): 0.00% … 95.
33%
 Time  (median):     473.890 μs               ┊ GC (median):    0.00%
 Time  (mean ± σ):   506.388 μs ± 513.723 μs  ┊ GC (mean ± σ):  5.24% ±  4.
99%

        ▁▄▇█▇▆▄▂                                                 
  ▂▂▂▃▄▆█████████▇▆▆▅▅▅▄▄▄▃▃▃▃▂▃▂▂▂▂▂▂▂▂▂▂▁▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂ ▃
  458 μs           Histogram: frequency by time          542 μs &lt;

 Memory estimate: 211.50 KiB, allocs estimate: 2759.</code></pre>
</section>
<section id="fixing-type-instabilities" class="level2">
<h2 class="anchored" data-anchor-id="fixing-type-instabilities">Fixing Type Instabilities</h2>
<p>From <code>@code_warntype</code>, we see that the compiles is unable to infer the type of some variables. The problem seems to start with <code>D</code>. This is quite puzzling because <code>D</code> is explicitly initialized as <code>zeros(eltype(Gi),...).</code></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>julia<span class="op">&gt;</span> <span class="pp">@code_warntype</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>MethodInstance <span class="cf">for</span> (<span class="op">::</span><span class="dt">var"#24#25"{var"#21#23"{var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}, var"#P#22"}}</span>)(<span class="op">::</span><span class="dt">Vector{Float64}</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  from (<span class="op">::</span><span class="dt">var"#24#25"</span>)(θ) @ <span class="bu">Main</span> <span class="op">~/</span>.julia<span class="op">/</span>dev<span class="op">/</span>ARGridBootstrap<span class="op">/</span>docs<span class="op">/</span>jmd<span class="op">/</span>assignment.jmd<span class="op">:</span><span class="fl">31</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>Arguments</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#self#::var"#24#25"{var"#21#23"{var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}, var"#P#22"}}</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  θ<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>Locals</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_3</span><span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>  P<span class="op">::</span><span class="dt">var"#P#22"</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  D<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  Ω<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  gn<span class="op">::</span><span class="dt">Adjoint{Float64, Matrix{Float64}}</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>Body<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span> ─ <span class="op">%</span><span class="fl">1</span>  <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, :SP)::var"#21#23"{var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}, var"#P#22"}</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">2</span>  <span class="op">=</span> (<span class="op">%</span><span class="fl">1</span>)(θ)<span class="op">::</span><span class="dt">TUPLE{INT64, INT64, INT64, ADJOINT{FLOAT64, MATRIX{FLOAT64}}, MATRIX{FLOAT64}, ANY, VAR"#P#22"}</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">3</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">2</span>)])</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>│         (n <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">1</span>))</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">2</span>))</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">6</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">2</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">3</span>)])</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>│         (k <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">6</span>, <span class="fl">1</span>))</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">6</span>, <span class="fl">2</span>))</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">9</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">3</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">4</span>)])</span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>│         (p <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">9</span>, <span class="fl">1</span>))</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">9</span>, <span class="fl">2</span>))</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">12</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">4</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Int64</span>}, <span class="dt">Any</span>[Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">5</span>)])</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>│         (gn <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">12</span>, <span class="fl">1</span>))</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">12</span>, <span class="fl">2</span>))</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">15</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">5</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">6</span>)])</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>│         (Ω <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">15</span>, <span class="fl">1</span>))</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">15</span>, <span class="fl">2</span>))</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">18</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">6</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">6</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Any</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Any</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">7</span>)])</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>│         (D <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">18</span>, <span class="fl">1</span>))</span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">18</span>, <span class="fl">2</span>))</span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">21</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">7</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{var<span class="st">"#P#22"</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[var<span class="st">"#P#22"</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">8</span>)])</span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>│         (P <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">21</span>, <span class="fl">1</span>))</span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">23</span> <span class="op">=</span> n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">24</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:</span>var<span class="st">"'"</span>(gn)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">25</span> <span class="op">=</span> Ω<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">26</span> <span class="op">=</span> (<span class="op">-</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">2</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="op">-</span><span class="fl">0.5</span>)</span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">27</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">25</span> <span class="op">^</span> <span class="op">%</span><span class="fl">26</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">28</span> <span class="op">=</span> Ω<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">29</span> <span class="op">=</span> (<span class="op">-</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">2</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="op">-</span><span class="fl">0.5</span>)</span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">30</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">28</span> <span class="op">^</span> <span class="op">%</span><span class="fl">29</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-47"><a href="#cb27-47" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">31</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">30</span> <span class="op">*</span> D)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-48"><a href="#cb27-48" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">32</span> <span class="op">=</span> (P)(<span class="op">%</span><span class="fl">31</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-49"><a href="#cb27-49" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">33</span> <span class="op">=</span> Ω<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb27-50"><a href="#cb27-50" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">34</span> <span class="op">=</span> (<span class="op">-</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">2</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="op">-</span><span class="fl">0.5</span>)</span>
<span id="cb27-51"><a href="#cb27-51" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">35</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">33</span> <span class="op">^</span> <span class="op">%</span><span class="fl">34</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-52"><a href="#cb27-52" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">36</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">24</span> <span class="op">*</span> <span class="op">%</span><span class="fl">27</span> <span class="op">*</span> <span class="op">%</span><span class="fl">32</span> <span class="op">*</span> <span class="op">%</span><span class="fl">35</span> <span class="op">*</span> gn)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-53"><a href="#cb27-53" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">37</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(<span class="op">%</span><span class="fl">36</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-54"><a href="#cb27-54" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">38</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">23</span> <span class="op">*</span> <span class="op">%</span><span class="fl">37</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb27-55"><a href="#cb27-55" aria-hidden="true" tabindex="-1"></a>└──       <span class="cf">return</span> <span class="op">%</span><span class="fl">38</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To investigate further, let us focus on <code>statparts</code>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>julia<span class="op">&gt;</span> <span class="pp">@code_warntype</span> <span class="fu">statparts</span>(gi)(β<span class="fl">0</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>MethodInstance <span class="cf">for</span> (<span class="op">::</span><span class="dt">var"#21#23"{var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}, var"#P#22"}</span>)(<span class="op">::</span><span class="dt">Vector{Float64}</span>)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  from (<span class="op">::</span><span class="dt">var"#21#23"</span>)(θ) @ <span class="bu">Main</span> <span class="op">~/</span>.julia<span class="op">/</span>dev<span class="op">/</span>ARGridBootstrap<span class="op">/</span>docs<span class="op">/</span>jmd<span class="op">/</span>assignment.jmd<span class="op">:</span><span class="fl">7</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>Arguments</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#self#::var"#21#23"{var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}, var"#P#22"}</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  θ<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>Locals</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_3</span><span class="op">::</span><span class="dt">UNION{NOTHING, TUPLE{INT64, INT64}}</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_4</span><span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  D<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  Γ<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  G<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  Gi<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  gn<span class="op">::</span><span class="dt">Adjoint{Float64, Matrix{Float64}}</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  Ω<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>  n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  giθ<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_15</span><span class="op">::</span><span class="dt">UNION{NOTHING, TUPLE{INT64, INT64}}</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>  j<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  i<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>Body<span class="op">::</span><span class="dt">TUPLE{INT64, INT64, INT64, ADJOINT{FLOAT64, MATRIX{FLOAT64}}, MATRIX{FLOAT64}, ANY, VAR"#P#22"}</span></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span> ─ <span class="op">%</span><span class="fl">1</span>  <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, :gi)::var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}</span></span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>│         (giθ <span class="op">=</span> (<span class="op">%</span><span class="fl">1</span>)(θ))</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>│         (p <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">length</span>(θ))</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">4</span>  <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">size</span>(giθ)<span class="op">::</span><span class="dt">Tuple{Int64, Int64}</span></span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">5</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">4</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">2</span>)])</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>│         (n <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">5</span>, <span class="fl">1</span>))</span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_4</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">5</span>, <span class="fl">2</span>))</span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">8</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">4</span>, <span class="fl">2</span>, <span class="pp">@_4</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">2</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">3</span>)])</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a>│         (k <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">8</span>, <span class="fl">1</span>))</span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a>│         (Ω <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">cov</span>(giθ))</span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">11</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, :gi)::var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}</span></span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">12</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">11</span>)(θ)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">13</span> <span class="op">=</span> (<span class="op">:</span>dims,)<span class="op">::</span><span class="dt">Core.Const</span>((<span class="op">:</span>dims,))</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">14</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">apply_type</span>(<span class="bu">Core</span>.<span class="dt">NamedTuple</span>, <span class="op">%</span><span class="fl">13</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="dt">NamedTuple</span>{(<span class="op">:</span>dims,)})</span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">15</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">tuple</span>(<span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.Const</span>((<span class="fl">1</span>,))</span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">16</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">14</span>)(<span class="op">%</span><span class="fl">15</span>)<span class="op">::</span><span class="dt">Core.Const</span>((dims <span class="op">=</span> <span class="fl">1</span>,))</span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">17</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">kwcall</span>(<span class="op">%</span><span class="fl">16</span>, <span class="bu">Main</span>.mean, <span class="op">%</span><span class="fl">12</span>)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a>│         (gn <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:</span>var<span class="st">"'"</span>(<span class="op">%</span><span class="fl">17</span>))</span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">19</span> <span class="op">=</span> ForwardDiff.jacobian<span class="op">::</span><span class="dt">Core.Const</span>(ForwardDiff.jacobian)</span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">20</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, :gi)::var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}</span></span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>│         (Gi <span class="op">=</span> (<span class="op">%</span><span class="fl">19</span>)(<span class="op">%</span><span class="fl">20</span>, θ))</span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a>│         (Gi <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">reshape</span>(Gi, n, k, p))</span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">23</span> <span class="op">=</span> (<span class="op">:</span>dims,)<span class="op">::</span><span class="dt">Core.Const</span>((<span class="op">:</span>dims,))</span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">24</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">apply_type</span>(<span class="bu">Core</span>.<span class="dt">NamedTuple</span>, <span class="op">%</span><span class="fl">23</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="dt">NamedTuple</span>{(<span class="op">:</span>dims,)})</span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">25</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">tuple</span>(<span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.Const</span>((<span class="fl">1</span>,))</span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">26</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">24</span>)(<span class="op">%</span><span class="fl">25</span>)<span class="op">::</span><span class="dt">Core.Const</span>((dims <span class="op">=</span> <span class="fl">1</span>,))</span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>│         (G <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">kwcall</span>(<span class="op">%</span><span class="fl">26</span>, <span class="bu">Main</span>.mean, Gi))</span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">28</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">eltype</span>(Gi)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">29</span> <span class="op">=</span> p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">30</span> <span class="op">=</span> k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a>│         (Γ <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">zeros</span>(<span class="op">%</span><span class="fl">28</span>, <span class="op">%</span><span class="fl">29</span>, <span class="op">%</span><span class="fl">30</span>, k))</span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">32</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">eltype</span>(Gi)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">33</span> <span class="op">=</span> k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-57"><a href="#cb28-57" aria-hidden="true" tabindex="-1"></a>│         (D <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">zeros</span>(<span class="op">%</span><span class="fl">32</span>, <span class="op">%</span><span class="fl">33</span>, p))</span>
<span id="cb28-58"><a href="#cb28-58" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">35</span> <span class="op">=</span> (<span class="fl">1</span><span class="op">:</span>p)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">UnitRange</span>{<span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">1</span>), <span class="dt">Int64</span>])</span>
<span id="cb28-59"><a href="#cb28-59" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">iterate</span>(<span class="op">%</span><span class="fl">35</span>))</span>
<span id="cb28-60"><a href="#cb28-60" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">37</span> <span class="op">=</span> (<span class="pp">@_3</span> <span class="op">===</span> <span class="cn">nothing</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb28-61"><a href="#cb28-61" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">38</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">not_int</span>(<span class="op">%</span><span class="fl">37</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb28-62"><a href="#cb28-62" aria-hidden="true" tabindex="-1"></a>└──       goto <span class="co">#7 if not %38</span></span>
<span id="cb28-63"><a href="#cb28-63" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span> ┄ <span class="op">%</span><span class="fl">40</span> <span class="op">=</span> <span class="pp">@_3</span><span class="op">::</span><span class="dt">Tuple{Int64, Int64}</span></span>
<span id="cb28-64"><a href="#cb28-64" aria-hidden="true" tabindex="-1"></a>│         (j <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">40</span>, <span class="fl">1</span>))</span>
<span id="cb28-65"><a href="#cb28-65" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">42</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">40</span>, <span class="fl">2</span>)<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-66"><a href="#cb28-66" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">43</span> <span class="op">=</span> (<span class="fl">1</span><span class="op">:</span>n)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">UnitRange</span>{<span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">1</span>), <span class="dt">Int64</span>])</span>
<span id="cb28-67"><a href="#cb28-67" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_15</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">iterate</span>(<span class="op">%</span><span class="fl">43</span>))</span>
<span id="cb28-68"><a href="#cb28-68" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">45</span> <span class="op">=</span> (<span class="pp">@_15</span> <span class="op">===</span> <span class="cn">nothing</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb28-69"><a href="#cb28-69" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">46</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">not_int</span>(<span class="op">%</span><span class="fl">45</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb28-70"><a href="#cb28-70" aria-hidden="true" tabindex="-1"></a>└──       goto <span class="co">#5 if not %46</span></span>
<span id="cb28-71"><a href="#cb28-71" aria-hidden="true" tabindex="-1"></a><span class="fl">3</span> ┄ <span class="op">%</span><span class="fl">48</span> <span class="op">=</span> <span class="pp">@_15</span><span class="op">::</span><span class="dt">Tuple{Int64, Int64}</span></span>
<span id="cb28-72"><a href="#cb28-72" aria-hidden="true" tabindex="-1"></a>│         (i <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">48</span>, <span class="fl">1</span>))</span>
<span id="cb28-73"><a href="#cb28-73" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">50</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">48</span>, <span class="fl">2</span>)<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-74"><a href="#cb28-74" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">51</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(Γ, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-75"><a href="#cb28-75" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">52</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:-::</span><span class="dt">Core.Const</span>(<span class="op">-</span>)</span>
<span id="cb28-76"><a href="#cb28-76" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">53</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(Gi, i, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), j)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-77"><a href="#cb28-77" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">54</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(G, <span class="fl">1</span>, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), j)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-78"><a href="#cb28-78" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">55</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">broadcasted</span>(<span class="op">%</span><span class="fl">52</span>, <span class="op">%</span><span class="fl">53</span>, <span class="op">%</span><span class="fl">54</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-79"><a href="#cb28-79" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">56</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">materialize</span>(<span class="op">%</span><span class="fl">55</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-80"><a href="#cb28-80" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">57</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(giθ, i, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb28-81"><a href="#cb28-81" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">58</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:</span>var<span class="st">"'"</span>(<span class="op">%</span><span class="fl">57</span>)<span class="op">::</span><span class="dt">Adjoint{Float64, Vector{Float64}}</span></span>
<span id="cb28-82"><a href="#cb28-82" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">59</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">56</span> <span class="op">*</span> <span class="op">%</span><span class="fl">58</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-83"><a href="#cb28-83" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">60</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">51</span> <span class="op">+</span> <span class="op">%</span><span class="fl">59</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-84"><a href="#cb28-84" aria-hidden="true" tabindex="-1"></a>│         <span class="bu">Base</span>.<span class="fu">setindex!</span>(Γ, <span class="op">%</span><span class="fl">60</span>, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))</span>
<span id="cb28-85"><a href="#cb28-85" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_15</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">iterate</span>(<span class="op">%</span><span class="fl">43</span>, <span class="op">%</span><span class="fl">50</span>))</span>
<span id="cb28-86"><a href="#cb28-86" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">63</span> <span class="op">=</span> (<span class="pp">@_15</span> <span class="op">===</span> <span class="cn">nothing</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb28-87"><a href="#cb28-87" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">64</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">not_int</span>(<span class="op">%</span><span class="fl">63</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb28-88"><a href="#cb28-88" aria-hidden="true" tabindex="-1"></a>└──       goto <span class="co">#5 if not %64</span></span>
<span id="cb28-89"><a href="#cb28-89" aria-hidden="true" tabindex="-1"></a><span class="fl">4</span> ─       goto <span class="co">#3</span></span>
<span id="cb28-90"><a href="#cb28-90" aria-hidden="true" tabindex="-1"></a><span class="fl">5</span> ┄ <span class="op">%</span><span class="fl">67</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">dotview</span>(Γ, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-91"><a href="#cb28-91" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">68</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:/::</span><span class="dt">Core.Const</span>(<span class="op">/</span>)</span>
<span id="cb28-92"><a href="#cb28-92" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">69</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(Γ, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-93"><a href="#cb28-93" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">70</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">broadcasted</span>(<span class="op">%</span><span class="fl">68</span>, <span class="op">%</span><span class="fl">69</span>, n)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-94"><a href="#cb28-94" aria-hidden="true" tabindex="-1"></a>│         <span class="bu">Base</span>.<span class="fu">materialize!</span>(<span class="op">%</span><span class="fl">67</span>, <span class="op">%</span><span class="fl">70</span>)</span>
<span id="cb28-95"><a href="#cb28-95" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">72</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(G, <span class="fl">1</span>, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), j)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-96"><a href="#cb28-96" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">73</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(Γ, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-97"><a href="#cb28-97" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">74</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">inv</span>(Ω)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb28-98"><a href="#cb28-98" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">75</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">73</span> <span class="op">*</span> <span class="op">%</span><span class="fl">74</span> <span class="op">*</span> gn)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-99"><a href="#cb28-99" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">76</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">72</span> <span class="op">-</span> <span class="op">%</span><span class="fl">75</span>)<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-100"><a href="#cb28-100" aria-hidden="true" tabindex="-1"></a>│         <span class="bu">Base</span>.<span class="fu">setindex!</span>(D, <span class="op">%</span><span class="fl">76</span>, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), j)</span>
<span id="cb28-101"><a href="#cb28-101" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">iterate</span>(<span class="op">%</span><span class="fl">35</span>, <span class="op">%</span><span class="fl">42</span>))</span>
<span id="cb28-102"><a href="#cb28-102" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">79</span> <span class="op">=</span> (<span class="pp">@_3</span> <span class="op">===</span> <span class="cn">nothing</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb28-103"><a href="#cb28-103" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">80</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">not_int</span>(<span class="op">%</span><span class="fl">79</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb28-104"><a href="#cb28-104" aria-hidden="true" tabindex="-1"></a>└──       goto <span class="co">#7 if not %80</span></span>
<span id="cb28-105"><a href="#cb28-105" aria-hidden="true" tabindex="-1"></a><span class="fl">6</span> ─       goto <span class="co">#2</span></span>
<span id="cb28-106"><a href="#cb28-106" aria-hidden="true" tabindex="-1"></a><span class="fl">7</span> ┄ <span class="op">%</span><span class="fl">83</span> <span class="op">=</span> n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-107"><a href="#cb28-107" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">84</span> <span class="op">=</span> k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-108"><a href="#cb28-108" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">85</span> <span class="op">=</span> p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb28-109"><a href="#cb28-109" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">86</span> <span class="op">=</span> gn<span class="op">::</span><span class="dt">Adjoint{Float64, Matrix{Float64}}</span></span>
<span id="cb28-110"><a href="#cb28-110" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">87</span> <span class="op">=</span> Ω<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb28-111"><a href="#cb28-111" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">88</span> <span class="op">=</span> D<span class="op">::</span><span class="dt">ANY</span></span>
<span id="cb28-112"><a href="#cb28-112" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">89</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, :P)::Core.Const(var"#P#22"())</span></span>
<span id="cb28-113"><a href="#cb28-113" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">90</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">tuple</span>(<span class="op">%</span><span class="fl">83</span>, <span class="op">%</span><span class="fl">84</span>, <span class="op">%</span><span class="fl">85</span>, <span class="op">%</span><span class="fl">86</span>, <span class="op">%</span><span class="fl">87</span>, <span class="op">%</span><span class="fl">88</span>, <span class="op">%</span><span class="fl">89</span>)<span class="op">::</span><span class="dt">TUPLE{INT64, INT64, INT64, ADJOINT{FLOAT64, MATRIX{FLOAT64}}, MATRIX{FLOAT64}, ANY, VAR"#P#22"}</span></span>
<span id="cb28-114"><a href="#cb28-114" aria-hidden="true" tabindex="-1"></a>└──       <span class="cf">return</span> <span class="op">%</span><span class="fl">90</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We see that <code>G</code>, <code>Gi</code>, <code>Γ</code>, and <code>D</code> are all type <code>Any</code>. For some reason, the return value of <code>ForwardDiff.jacobian</code> is not being inferred. We can workaround this by using an <code>jacobian!</code> instead.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">statparts</span>(gi<span class="op">::</span><span class="dt">F</span>) <span class="kw">where</span> {F <span class="op">&lt;:</span><span class="dt"> Function</span>}</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">P</span>(A<span class="op">::</span><span class="dt">AbstractMatrix</span>) <span class="co"># projection matrix</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">A*pinv</span>(A<span class="op">'*</span>A)<span class="op">*</span>A<span class="op">'</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> gi<span class="op">=</span>gi</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span>(θ)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>      giθ <span class="op">=</span> <span class="fu">gi</span>(θ)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>      p <span class="op">=</span> <span class="fu">length</span>(θ)</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>      (n, k) <span class="op">=</span> <span class="fu">size</span>(giθ)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>      Ω <span class="op">=</span> <span class="fu">Hermitian</span>(<span class="fu">cov</span>(giθ))</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>      gn<span class="op">=</span><span class="fu">mean</span>(<span class="fu">gi</span>(θ), dims<span class="op">=</span><span class="fl">1</span>)<span class="ch">'</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>      Gi <span class="op">=</span> <span class="fu">zeros</span>(n,k,p)</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>      ForwardDiff.<span class="fu">jacobian!</span>(Gi,gi,θ)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>      Gi <span class="op">=</span> <span class="fu">reshape</span>(Gi, n , k, p)</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>      G <span class="op">=</span> <span class="fu">mean</span>(Gi, dims<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>      Γ <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),p,k,k)</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>      D <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),k, p)</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>p</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>          Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">+=</span> (Gi[i,<span class="op">:</span>,j] <span class="op">.-</span> G[<span class="fl">1</span>,<span class="op">:</span>,j]) <span class="op">*</span> giθ[i,<span class="op">:</span>]<span class="ch">'</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>        Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">./=</span> n</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>        D[<span class="op">:</span>,j] <span class="op">=</span> G[<span class="fl">1</span>,<span class="op">:</span>,j] <span class="op">-</span> Γ[j,<span class="op">:</span>,<span class="op">:</span>]<span class="fu">*inv</span>(Ω)<span class="op">*</span>gn</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span>(n,k,p,gn, Ω, D, P)</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>statparts (generic function with 1 method)</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>julia<span class="op">&gt;</span> <span class="pp">@code_warntype</span> <span class="fu">statparts</span>(gi)(β<span class="fl">0</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>MethodInstance <span class="cf">for</span> (<span class="op">::</span><span class="dt">var"#28#30"{var"#P#29", var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}}</span>)(<span class="op">::</span><span class="dt">Vector{Float64}</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  from (<span class="op">::</span><span class="dt">var"#28#30"</span>)(θ) @ <span class="bu">Main</span> <span class="op">~/</span>.julia<span class="op">/</span>dev<span class="op">/</span>ARGridBootstrap<span class="op">/</span>docs<span class="op">/</span>jmd<span class="op">/</span>assignment.jmd<span class="op">:</span><span class="fl">7</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>Arguments</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#self#::var"#28#30"{var"#P#29", var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64</span><span class="re">}}}</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  θ<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>Locals</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_3</span><span class="op">::</span><span class="dt">UNION{NOTHING, TUPLE{INT64, INT64}}</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_4</span><span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  D<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  Γ<span class="op">::</span><span class="dt">Array{Float64, 3}</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  G<span class="op">::</span><span class="dt">Array{Float64, 3}</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  Gi<span class="op">::</span><span class="dt">Array{Float64, 3}</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  gn<span class="op">::</span><span class="dt">Adjoint{Float64, Matrix{Float64}}</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  Ω<span class="op">::</span><span class="dt">Hermitian{Float64, Matrix{Float64}}</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>  n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>  p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  giθ<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_15</span><span class="op">::</span><span class="dt">UNION{NOTHING, TUPLE{INT64, INT64}}</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  j<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  i<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>Body<span class="op">::</span><span class="dt">Tuple{Int64, Int64, Int64, Adjoint{Float64, Matrix{Float64}}, Hermitian{Float64, Matrix{Float64}}, Matrix{Float64}, var"#P#29"}</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span> ─ <span class="op">%</span><span class="fl">1</span>  <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, Symbol("#457#gi"))::var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>│         (giθ <span class="op">=</span> (<span class="op">%</span><span class="fl">1</span>)(θ))</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>│         (p <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">length</span>(θ))</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">4</span>  <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">size</span>(giθ)<span class="op">::</span><span class="dt">Tuple{Int64, Int64}</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">5</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">4</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">2</span>)])</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>│         (n <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">5</span>, <span class="fl">1</span>))</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_4</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">5</span>, <span class="fl">2</span>))</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">8</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">4</span>, <span class="fl">2</span>, <span class="pp">@_4</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">2</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">3</span>)])</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>│         (k <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">8</span>, <span class="fl">1</span>))</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">10</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">cov</span>(giθ)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>│         (Ω <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">Hermitian</span>(<span class="op">%</span><span class="fl">10</span>))</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">12</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, Symbol("#457#gi"))::var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">13</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">12</span>)(θ)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">14</span> <span class="op">=</span> (<span class="op">:</span>dims,)<span class="op">::</span><span class="dt">Core.Const</span>((<span class="op">:</span>dims,))</span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">15</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">apply_type</span>(<span class="bu">Core</span>.<span class="dt">NamedTuple</span>, <span class="op">%</span><span class="fl">14</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="dt">NamedTuple</span>{(<span class="op">:</span>dims,)})</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">16</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">tuple</span>(<span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.Const</span>((<span class="fl">1</span>,))</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">17</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">15</span>)(<span class="op">%</span><span class="fl">16</span>)<span class="op">::</span><span class="dt">Core.Const</span>((dims <span class="op">=</span> <span class="fl">1</span>,))</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">18</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">kwcall</span>(<span class="op">%</span><span class="fl">17</span>, <span class="bu">Main</span>.mean, <span class="op">%</span><span class="fl">13</span>)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a>│         (gn <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:</span>var<span class="st">"'"</span>(<span class="op">%</span><span class="fl">18</span>))</span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>│         (Gi <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">zeros</span>(n, k, p))</span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">21</span> <span class="op">=</span> ForwardDiff.jacobian!<span class="op">::</span><span class="dt">Core.Const</span>(ForwardDiff.jacobian!)</span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">22</span> <span class="op">=</span> Gi<span class="op">::</span><span class="dt">Array{Float64, 3}</span></span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">23</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, Symbol("#457#gi"))::var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}</span></span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>│         (<span class="op">%</span><span class="fl">21</span>)(<span class="op">%</span><span class="fl">22</span>, <span class="op">%</span><span class="fl">23</span>, θ)</span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a>│         (Gi <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">reshape</span>(Gi, n, k, p))</span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">26</span> <span class="op">=</span> (<span class="op">:</span>dims,)<span class="op">::</span><span class="dt">Core.Const</span>((<span class="op">:</span>dims,))</span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">27</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">apply_type</span>(<span class="bu">Core</span>.<span class="dt">NamedTuple</span>, <span class="op">%</span><span class="fl">26</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="dt">NamedTuple</span>{(<span class="op">:</span>dims,)})</span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">28</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">tuple</span>(<span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.Const</span>((<span class="fl">1</span>,))</span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">29</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">27</span>)(<span class="op">%</span><span class="fl">28</span>)<span class="op">::</span><span class="dt">Core.Const</span>((dims <span class="op">=</span> <span class="fl">1</span>,))</span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a>│         (G <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">kwcall</span>(<span class="op">%</span><span class="fl">29</span>, <span class="bu">Main</span>.mean, Gi))</span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">31</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">eltype</span>(Gi)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="dt">Float64</span>)</span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">32</span> <span class="op">=</span> p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">33</span> <span class="op">=</span> k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a>│         (Γ <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">zeros</span>(<span class="op">%</span><span class="fl">31</span>, <span class="op">%</span><span class="fl">32</span>, <span class="op">%</span><span class="fl">33</span>, k))</span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">35</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">eltype</span>(Gi)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="dt">Float64</span>)</span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">36</span> <span class="op">=</span> k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-60"><a href="#cb31-60" aria-hidden="true" tabindex="-1"></a>│         (D <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">zeros</span>(<span class="op">%</span><span class="fl">35</span>, <span class="op">%</span><span class="fl">36</span>, p))</span>
<span id="cb31-61"><a href="#cb31-61" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">38</span> <span class="op">=</span> (<span class="fl">1</span><span class="op">:</span>p)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">UnitRange</span>{<span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">1</span>), <span class="dt">Int64</span>])</span>
<span id="cb31-62"><a href="#cb31-62" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">iterate</span>(<span class="op">%</span><span class="fl">38</span>))</span>
<span id="cb31-63"><a href="#cb31-63" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">40</span> <span class="op">=</span> (<span class="pp">@_3</span> <span class="op">===</span> <span class="cn">nothing</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb31-64"><a href="#cb31-64" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">41</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">not_int</span>(<span class="op">%</span><span class="fl">40</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb31-65"><a href="#cb31-65" aria-hidden="true" tabindex="-1"></a>└──       goto <span class="co">#7 if not %41</span></span>
<span id="cb31-66"><a href="#cb31-66" aria-hidden="true" tabindex="-1"></a><span class="fl">2</span> ┄ <span class="op">%</span><span class="fl">43</span> <span class="op">=</span> <span class="pp">@_3</span><span class="op">::</span><span class="dt">Tuple{Int64, Int64}</span></span>
<span id="cb31-67"><a href="#cb31-67" aria-hidden="true" tabindex="-1"></a>│         (j <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">43</span>, <span class="fl">1</span>))</span>
<span id="cb31-68"><a href="#cb31-68" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">45</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">43</span>, <span class="fl">2</span>)<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-69"><a href="#cb31-69" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">46</span> <span class="op">=</span> (<span class="fl">1</span><span class="op">:</span>n)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">UnitRange</span>{<span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">1</span>), <span class="dt">Int64</span>])</span>
<span id="cb31-70"><a href="#cb31-70" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_15</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">iterate</span>(<span class="op">%</span><span class="fl">46</span>))</span>
<span id="cb31-71"><a href="#cb31-71" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">48</span> <span class="op">=</span> (<span class="pp">@_15</span> <span class="op">===</span> <span class="cn">nothing</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb31-72"><a href="#cb31-72" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">49</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">not_int</span>(<span class="op">%</span><span class="fl">48</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb31-73"><a href="#cb31-73" aria-hidden="true" tabindex="-1"></a>└──       goto <span class="co">#5 if not %49</span></span>
<span id="cb31-74"><a href="#cb31-74" aria-hidden="true" tabindex="-1"></a><span class="fl">3</span> ┄ <span class="op">%</span><span class="fl">51</span> <span class="op">=</span> <span class="pp">@_15</span><span class="op">::</span><span class="dt">Tuple{Int64, Int64}</span></span>
<span id="cb31-75"><a href="#cb31-75" aria-hidden="true" tabindex="-1"></a>│         (i <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">51</span>, <span class="fl">1</span>))</span>
<span id="cb31-76"><a href="#cb31-76" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">53</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">51</span>, <span class="fl">2</span>)<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-77"><a href="#cb31-77" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">54</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(Γ, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-78"><a href="#cb31-78" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">55</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:-::</span><span class="dt">Core.Const</span>(<span class="op">-</span>)</span>
<span id="cb31-79"><a href="#cb31-79" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">56</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(Gi, i, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), j)<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb31-80"><a href="#cb31-80" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">57</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(G, <span class="fl">1</span>, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), j)<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb31-81"><a href="#cb31-81" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">58</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">broadcasted</span>(<span class="op">%</span><span class="fl">55</span>, <span class="op">%</span><span class="fl">56</span>, <span class="op">%</span><span class="fl">57</span>)<span class="op">::</span><span class="dt">Base.Broadcast.Broadcasted{Base.Broadcast.DefaultArrayStyle{1}, Nothing, typeof(-), Tuple{Vector{Float64}, Vector{Float64}}}</span></span>
<span id="cb31-82"><a href="#cb31-82" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">59</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">materialize</span>(<span class="op">%</span><span class="fl">58</span>)<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb31-83"><a href="#cb31-83" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">60</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(giθ, i, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb31-84"><a href="#cb31-84" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">61</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:</span>var<span class="st">"'"</span>(<span class="op">%</span><span class="fl">60</span>)<span class="op">::</span><span class="dt">Adjoint{Float64, Vector{Float64}}</span></span>
<span id="cb31-85"><a href="#cb31-85" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">62</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">59</span> <span class="op">*</span> <span class="op">%</span><span class="fl">61</span>)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-86"><a href="#cb31-86" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">63</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">54</span> <span class="op">+</span> <span class="op">%</span><span class="fl">62</span>)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-87"><a href="#cb31-87" aria-hidden="true" tabindex="-1"></a>│         <span class="bu">Base</span>.<span class="fu">setindex!</span>(Γ, <span class="op">%</span><span class="fl">63</span>, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))</span>
<span id="cb31-88"><a href="#cb31-88" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_15</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">iterate</span>(<span class="op">%</span><span class="fl">46</span>, <span class="op">%</span><span class="fl">53</span>))</span>
<span id="cb31-89"><a href="#cb31-89" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">66</span> <span class="op">=</span> (<span class="pp">@_15</span> <span class="op">===</span> <span class="cn">nothing</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb31-90"><a href="#cb31-90" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">67</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">not_int</span>(<span class="op">%</span><span class="fl">66</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb31-91"><a href="#cb31-91" aria-hidden="true" tabindex="-1"></a>└──       goto <span class="co">#5 if not %67</span></span>
<span id="cb31-92"><a href="#cb31-92" aria-hidden="true" tabindex="-1"></a><span class="fl">4</span> ─       goto <span class="co">#3</span></span>
<span id="cb31-93"><a href="#cb31-93" aria-hidden="true" tabindex="-1"></a><span class="fl">5</span> ┄ <span class="op">%</span><span class="fl">70</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">dotview</span>(Γ, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">SubArray{Float64, 2, Array{Float64, 3}, Tuple{Int64, Base.Slice{Base.OneTo{Int64}}, Base.Slice{Base.OneTo{Int64}}}, true}</span></span>
<span id="cb31-94"><a href="#cb31-94" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">71</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:/::</span><span class="dt">Core.Const</span>(<span class="op">/</span>)</span>
<span id="cb31-95"><a href="#cb31-95" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">72</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(Γ, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-96"><a href="#cb31-96" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">73</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">broadcasted</span>(<span class="op">%</span><span class="fl">71</span>, <span class="op">%</span><span class="fl">72</span>, n)<span class="op">::</span><span class="dt">Base.Broadcast.Broadcasted{Base.Broadcast.DefaultArrayStyle{2}, Nothing, typeof(/), Tuple{Matrix{Float64}, Int64}}</span></span>
<span id="cb31-97"><a href="#cb31-97" aria-hidden="true" tabindex="-1"></a>│         <span class="bu">Base</span>.<span class="fu">materialize!</span>(<span class="op">%</span><span class="fl">70</span>, <span class="op">%</span><span class="fl">73</span>)</span>
<span id="cb31-98"><a href="#cb31-98" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">75</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(G, <span class="fl">1</span>, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), j)<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb31-99"><a href="#cb31-99" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">76</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(Γ, j, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>))<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-100"><a href="#cb31-100" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">77</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">inv</span>(Ω<span class="op">::</span><span class="dt">Core.PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)]))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)])</span>
<span id="cb31-101"><a href="#cb31-101" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">78</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">76</span> <span class="op">*</span> <span class="op">%</span><span class="fl">77</span> <span class="op">*</span> gn)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-102"><a href="#cb31-102" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">79</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">75</span> <span class="op">-</span> <span class="op">%</span><span class="fl">78</span>)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-103"><a href="#cb31-103" aria-hidden="true" tabindex="-1"></a>│         <span class="bu">Base</span>.<span class="fu">setindex!</span>(D, <span class="op">%</span><span class="fl">79</span>, <span class="bu">Main</span>.<span class="op">:</span>(<span class="op">:</span>), j)</span>
<span id="cb31-104"><a href="#cb31-104" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">iterate</span>(<span class="op">%</span><span class="fl">38</span>, <span class="op">%</span><span class="fl">45</span>))</span>
<span id="cb31-105"><a href="#cb31-105" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">82</span> <span class="op">=</span> (<span class="pp">@_3</span> <span class="op">===</span> <span class="cn">nothing</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb31-106"><a href="#cb31-106" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">83</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">not_int</span>(<span class="op">%</span><span class="fl">82</span>)<span class="op">::</span><span class="dt">Bool</span></span>
<span id="cb31-107"><a href="#cb31-107" aria-hidden="true" tabindex="-1"></a>└──       goto <span class="co">#7 if not %83</span></span>
<span id="cb31-108"><a href="#cb31-108" aria-hidden="true" tabindex="-1"></a><span class="fl">6</span> ─       goto <span class="co">#2</span></span>
<span id="cb31-109"><a href="#cb31-109" aria-hidden="true" tabindex="-1"></a><span class="fl">7</span> ┄ <span class="op">%</span><span class="fl">86</span> <span class="op">=</span> n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-110"><a href="#cb31-110" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">87</span> <span class="op">=</span> k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-111"><a href="#cb31-111" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">88</span> <span class="op">=</span> p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb31-112"><a href="#cb31-112" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">89</span> <span class="op">=</span> gn<span class="op">::</span><span class="dt">Adjoint{Float64, Matrix{Float64}}</span></span>
<span id="cb31-113"><a href="#cb31-113" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">90</span> <span class="op">=</span> Ω<span class="op">::</span><span class="dt">Core.PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)])</span>
<span id="cb31-114"><a href="#cb31-114" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">91</span> <span class="op">=</span> D<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb31-115"><a href="#cb31-115" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">92</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, :P)::Core.Const(var"#P#29"())</span></span>
<span id="cb31-116"><a href="#cb31-116" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">93</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">tuple</span>(<span class="op">%</span><span class="fl">86</span>, <span class="op">%</span><span class="fl">87</span>, <span class="op">%</span><span class="fl">88</span>, <span class="op">%</span><span class="fl">89</span>, <span class="op">%</span><span class="fl">90</span>, <span class="op">%</span><span class="fl">91</span>, <span class="op">%</span><span class="fl">92</span>)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>, <span class="dt">Int64</span>, Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}, var<span class="st">"#P#29"</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="dt">Int64</span>, <span class="dt">Int64</span>, Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="bu">Core</span>.<span class="fu">PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)]), <span class="dt">Matrix</span>{<span class="dt">Float64</span>}, var<span class="st">"#P#29"</span>])</span>
<span id="cb31-117"><a href="#cb31-117" aria-hidden="true" tabindex="-1"></a>└──       <span class="cf">return</span> <span class="op">%</span><span class="fl">93</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>I also added the <code>where {F</code> statement to <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#Be-aware-of-when-Julia-avoids-specializing">ensure compiler specialization</a>, and added the <code>let gi=gi</code> line to help <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#man-performance-captured">with the performance of captured variables</a>.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>julia<span class="op">&gt;</span> <span class="pp">@code_warntype</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>MethodInstance <span class="cf">for</span> (<span class="op">::</span><span class="dt">var"#24#25"{var"#28#30"{var"#P#29", var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}}}</span>)(<span class="op">::</span><span class="dt">Vector{Float64}</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  from (<span class="op">::</span><span class="dt">var"#24#25"</span>)(θ) @ <span class="bu">Main</span> <span class="op">~/</span>.julia<span class="op">/</span>dev<span class="op">/</span>ARGridBootstrap<span class="op">/</span>docs<span class="op">/</span>jmd<span class="op">/</span>assignment.jmd<span class="op">:</span><span class="fl">31</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>Arguments</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#self#::var"#24#25"{var"#28#30"{var"#P#29", var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64</span><span class="re">}}}</span><span class="co">}</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  θ<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>Locals</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_3</span><span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  P<span class="op">::</span><span class="dt">var"#P#29"</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  D<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  Ω<span class="op">::</span><span class="dt">Hermitian{Float64, Matrix{Float64}}</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  gn<span class="op">::</span><span class="dt">Adjoint{Float64, Matrix{Float64}}</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>  k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>Body<span class="op">::</span><span class="dt">UNION{FLOAT64, COMPLEXF64}</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span> ─ <span class="op">%</span><span class="fl">1</span>  <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, :SP)::var"#28#30"{var"#P#29", var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64</span><span class="re">}}}</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">2</span>  <span class="op">=</span> (<span class="op">%</span><span class="fl">1</span>)(θ)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>, <span class="dt">Int64</span>, Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}, var<span class="st">"#P#29"</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="dt">Int64</span>, <span class="dt">Int64</span>, Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="bu">Core</span>.<span class="fu">PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)]), <span class="dt">Matrix</span>{<span class="dt">Float64</span>}, var<span class="st">"#P#29"</span>])</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">3</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">2</span>)])</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>│         (n <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">1</span>))</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">2</span>))</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">6</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">2</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">3</span>)])</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>│         (k <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">6</span>, <span class="fl">1</span>))</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">6</span>, <span class="fl">2</span>))</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">9</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">3</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">4</span>)])</span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>│         (p <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">9</span>, <span class="fl">1</span>))</span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">9</span>, <span class="fl">2</span>))</span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">12</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">4</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Int64</span>}, <span class="dt">Any</span>[Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">5</span>)])</span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>│         (gn <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">12</span>, <span class="fl">1</span>))</span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">12</span>, <span class="fl">2</span>))</span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">15</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">5</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">5</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="bu">Core</span>.<span class="fu">PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)]), <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">6</span>)])</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>│         (Ω <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">15</span>, <span class="fl">1</span>))</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">15</span>, <span class="fl">2</span>))</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">18</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">6</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">6</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">7</span>)])</span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>│         (D <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">18</span>, <span class="fl">1</span>))</span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">18</span>, <span class="fl">2</span>))</span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">21</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="pp">@_3</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">7</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{var<span class="st">"#P#29"</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[var<span class="st">"#P#29"</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">8</span>)])</span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>│         (P <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">21</span>, <span class="fl">1</span>))</span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">23</span> <span class="op">=</span> n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">24</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:</span>var<span class="st">"'"</span>(gn)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">25</span> <span class="op">=</span> Ω<span class="op">::</span><span class="dt">Core.PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)])</span>
<span id="cb32-42"><a href="#cb32-42" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">26</span> <span class="op">=</span> (<span class="op">-</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">2</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="op">-</span><span class="fl">0.5</span>)</span>
<span id="cb32-43"><a href="#cb32-43" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">27</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">25</span> <span class="op">^</span> <span class="op">%</span><span class="fl">26</span>)<span class="op">::</span><span class="dt">UNION{HERMITIAN{FLOAT64, MATRIX{FLOAT64}}, MATRIX{COMPLEXF64}}</span></span>
<span id="cb32-44"><a href="#cb32-44" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">28</span> <span class="op">=</span> Ω<span class="op">::</span><span class="dt">Core.PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)])</span>
<span id="cb32-45"><a href="#cb32-45" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">29</span> <span class="op">=</span> (<span class="op">-</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">2</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="op">-</span><span class="fl">0.5</span>)</span>
<span id="cb32-46"><a href="#cb32-46" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">30</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">28</span> <span class="op">^</span> <span class="op">%</span><span class="fl">29</span>)<span class="op">::</span><span class="dt">UNION{HERMITIAN{FLOAT64, MATRIX{FLOAT64}}, MATRIX{COMPLEXF64}}</span></span>
<span id="cb32-47"><a href="#cb32-47" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">31</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">30</span> <span class="op">*</span> D)<span class="op">::</span><span class="dt">UNION{MATRIX{COMPLEXF64}, MATRIX{FLOAT64}}</span></span>
<span id="cb32-48"><a href="#cb32-48" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">32</span> <span class="op">=</span> (P)(<span class="op">%</span><span class="fl">31</span>)<span class="op">::</span><span class="dt">UNION{MATRIX{COMPLEXF64}, MATRIX{FLOAT64}}</span></span>
<span id="cb32-49"><a href="#cb32-49" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">33</span> <span class="op">=</span> Ω<span class="op">::</span><span class="dt">Core.PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)])</span>
<span id="cb32-50"><a href="#cb32-50" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">34</span> <span class="op">=</span> (<span class="op">-</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">2</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="op">-</span><span class="fl">0.5</span>)</span>
<span id="cb32-51"><a href="#cb32-51" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">35</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">33</span> <span class="op">^</span> <span class="op">%</span><span class="fl">34</span>)<span class="op">::</span><span class="dt">UNION{HERMITIAN{FLOAT64, MATRIX{FLOAT64}}, MATRIX{COMPLEXF64}}</span></span>
<span id="cb32-52"><a href="#cb32-52" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">36</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">24</span> <span class="op">*</span> <span class="op">%</span><span class="fl">27</span> <span class="op">*</span> <span class="op">%</span><span class="fl">32</span> <span class="op">*</span> <span class="op">%</span><span class="fl">35</span> <span class="op">*</span> gn)<span class="op">::</span><span class="dt">UNION{MATRIX{COMPLEXF64}, MATRIX{FLOAT64}}</span></span>
<span id="cb32-53"><a href="#cb32-53" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">37</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(<span class="op">%</span><span class="fl">36</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">UNION{FLOAT64, COMPLEXF64}</span></span>
<span id="cb32-54"><a href="#cb32-54" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">38</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">23</span> <span class="op">*</span> <span class="op">%</span><span class="fl">37</span>)<span class="op">::</span><span class="dt">UNION{FLOAT64, COMPLEXF64}</span></span>
<span id="cb32-55"><a href="#cb32-55" aria-hidden="true" tabindex="-1"></a>└──       <span class="cf">return</span> <span class="op">%</span><span class="fl">38</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>There’s still a type-instability in <code>klm</code>. This one is harder to understand. It is due to the fact that the appropriate meaning of a matrix square root depends on the nature of the matrix. In particular, the value could be a complex valued matrix instead of real valued. We know that Ω should be positive definite with a real matrix square root. We can compute its square root from its Eigen decomposition and avoid the type instability.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">klm</span>(gi<span class="op">::</span><span class="dt">F </span>) <span class="kw">where</span> {F <span class="op">&lt;:</span><span class="dt"> Function</span>}</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> gi<span class="op">=</span>gi</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span>(θ)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>      (n,k,p,gn, Ω, D, P) <span class="op">=</span> <span class="fu">statparts</span>(gi)(θ)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>      λ, v <span class="op">=</span> <span class="fu">eigen</span>(Ω)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>      irΩ <span class="op">=</span> <span class="fu">v*diagm</span>(λ<span class="op">.^</span>(<span class="op">-</span><span class="fl">1</span><span class="op">/</span><span class="fl">2</span>))<span class="op">*</span>v<span class="op">'</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="fu">n*</span>(gn<span class="op">'</span><span class="fu">*irΩ*P</span>(irΩ<span class="op">*</span>D)<span class="op">*</span>irΩ<span class="op">*</span>gn)[<span class="fl">1</span>]</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>klm (generic function with 1 method)</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>julia<span class="op">&gt;</span> <span class="pp">@code_warntype</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>MethodInstance <span class="cf">for</span> (<span class="op">::</span><span class="dt">var"#31#32"{var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}}</span>)(<span class="op">::</span><span class="dt">Vector{Float64}</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  from (<span class="op">::</span><span class="dt">var"#31#32"</span>)(θ) @ <span class="bu">Main</span> <span class="op">~/</span>.julia<span class="op">/</span>dev<span class="op">/</span>ARGridBootstrap<span class="op">/</span>docs<span class="op">/</span>jmd<span class="op">/</span>assignment.jmd<span class="op">:</span><span class="fl">4</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>Arguments</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#self#::var"#31#32"{var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64</span><span class="re">}}}</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  θ<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>Locals</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_3</span><span class="op">::</span><span class="dt">Val{:vectors}</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="pp">@_4</span><span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  irΩ<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  v<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  λ<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  P<span class="op">::</span><span class="dt">var"#P#29"</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  D<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>  Ω<span class="op">::</span><span class="dt">Hermitian{Float64, Matrix{Float64}}</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  gn<span class="op">::</span><span class="dt">Adjoint{Float64, Matrix{Float64}}</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  p<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  k<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>Body<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="fl">1</span> ─ <span class="op">%</span><span class="fl">1</span>  <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="co">#self#, Symbol("#458#gi"))::var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">2</span>  <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">statparts</span>(<span class="op">%</span><span class="fl">1</span>)<span class="op">::</span><span class="dt">var"#28#30"{var"#P#29", var"#26#27"{Vector{Float64}, Matrix{Float64}, Matrix{Float64}}}</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">3</span>  <span class="op">=</span> (<span class="op">%</span><span class="fl">2</span>)(θ)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>, <span class="dt">Int64</span>, Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}, var<span class="st">"#P#29"</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="dt">Int64</span>, <span class="dt">Int64</span>, Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="bu">Core</span>.<span class="fu">PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)]), <span class="dt">Matrix</span>{<span class="dt">Float64</span>}, var<span class="st">"#P#29"</span>])</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">4</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">2</span>)])</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>│         (n <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">4</span>, <span class="fl">1</span>))</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_4</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">4</span>, <span class="fl">2</span>))</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">7</span>  <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">2</span>, <span class="pp">@_4</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">2</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">3</span>)])</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>│         (k <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">7</span>, <span class="fl">1</span>))</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_4</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">7</span>, <span class="fl">2</span>))</span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">10</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="pp">@_4</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">3</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Int64</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Int64</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">4</span>)])</span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>│         (p <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">10</span>, <span class="fl">1</span>))</span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_4</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">10</span>, <span class="fl">2</span>))</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">13</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">4</span>, <span class="pp">@_4</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">4</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Int64</span>}, <span class="dt">Any</span>[Adjoint{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">5</span>)])</span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>│         (gn <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">13</span>, <span class="fl">1</span>))</span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_4</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">13</span>, <span class="fl">2</span>))</span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">16</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">5</span>, <span class="pp">@_4</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">5</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="bu">Core</span>.<span class="fu">PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)]), <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">6</span>)])</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>│         (Ω <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">16</span>, <span class="fl">1</span>))</span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_4</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">16</span>, <span class="fl">2</span>))</span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">19</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">6</span>, <span class="pp">@_4</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">6</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="dt">Int64</span>}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">7</span>)])</span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a>│         (D <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">19</span>, <span class="fl">1</span>))</span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_4</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">19</span>, <span class="fl">2</span>))</span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">22</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">3</span>, <span class="fl">7</span>, <span class="pp">@_4</span><span class="op">::</span><span class="dt">Core.Const</span>(<span class="fl">7</span>))<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="dt">Tuple</span>{var<span class="st">"#P#29"</span>, <span class="dt">Int64</span>}, <span class="dt">Any</span>[var<span class="st">"#P#29"</span>, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="fl">8</span>)])</span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>│         (P <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">22</span>, <span class="fl">1</span>))</span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">24</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">eigen</span>(Ω<span class="op">::</span><span class="dt">Core.PartialStruct</span>(Hermitian{<span class="dt">Float64</span>, <span class="dt">Matrix</span>{<span class="dt">Float64</span>}}, <span class="dt">Any</span>[<span class="dt">Matrix</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="ch">'U'</span>)]))<span class="op">::</span><span class="dt">Eigen{Float64, Float64, Matrix{Float64}, Vector{Float64}}</span></span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">25</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">24</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">Tuple{Vector{Float64}, Val{:vectors}}</span></span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>│         (λ <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">25</span>, <span class="fl">1</span>))</span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a>│         (<span class="pp">@_3</span> <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">25</span>, <span class="fl">2</span>))</span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">28</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">indexed_iterate</span>(<span class="op">%</span><span class="fl">24</span>, <span class="fl">2</span>, <span class="pp">@_3</span>)<span class="op">::</span><span class="dt">Tuple{Matrix{Float64}, Val{:done}}</span></span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a>│         (v <span class="op">=</span> <span class="bu">Core</span>.<span class="fu">getfield</span>(<span class="op">%</span><span class="fl">28</span>, <span class="fl">1</span>))</span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">30</span> <span class="op">=</span> v<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">31</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:^::</span><span class="dt">Core.Const</span>(<span class="op">^</span>)</span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">32</span> <span class="op">=</span> λ<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">33</span> <span class="op">=</span> (<span class="op">-</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">2</span>)<span class="op">::</span><span class="dt">Core.Const</span>(<span class="op">-</span><span class="fl">0.5</span>)</span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">34</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">broadcasted</span>(<span class="op">%</span><span class="fl">31</span>, <span class="op">%</span><span class="fl">32</span>, <span class="op">%</span><span class="fl">33</span>)<span class="op">::</span><span class="dt">Core.PartialStruct</span>(<span class="bu">Base</span>.<span class="bu">Broadcast</span>.<span class="fu">Broadcasted</span><span class="dt">{Base.Broadcast.DefaultArrayStyle{1}, Nothing, typeof(^), Tuple{Vector{Float64}, Float64}}</span>, <span class="dt">Any</span>[<span class="bu">Core</span>.<span class="fu">Const</span>(<span class="bu">Base</span>.<span class="bu">Broadcast</span>.<span class="fu">DefaultArrayStyle</span><span class="dt">{1}</span>()), <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="op">^</span>), <span class="bu">Core</span>.<span class="fu">PartialStruct</span>(<span class="dt">Tuple</span>{<span class="dt">Vector</span>{<span class="dt">Float64</span>}, <span class="dt">Float64</span>}, <span class="dt">Any</span>[<span class="dt">Vector</span>{<span class="dt">Float64</span>}, <span class="bu">Core</span>.<span class="fu">Const</span>(<span class="op">-</span><span class="fl">0.5</span>)]), <span class="dt">Nothing</span>])</span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">35</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">materialize</span>(<span class="op">%</span><span class="fl">34</span>)<span class="op">::</span><span class="dt">Vector{Float64}</span></span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">36</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="fu">diagm</span>(<span class="op">%</span><span class="fl">35</span>)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">37</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:</span>var<span class="st">"'"</span>(v)<span class="op">::</span><span class="dt">Adjoint{Float64, Matrix{Float64}}</span></span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a>│         (irΩ <span class="op">=</span> <span class="op">%</span><span class="fl">30</span> <span class="op">*</span> <span class="op">%</span><span class="fl">36</span> <span class="op">*</span> <span class="op">%</span><span class="fl">37</span>)</span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">39</span> <span class="op">=</span> n<span class="op">::</span><span class="dt">Int64</span></span>
<span id="cb35-60"><a href="#cb35-60" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">40</span> <span class="op">=</span> <span class="bu">Main</span>.<span class="op">:</span>var<span class="st">"'"</span>(gn)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-61"><a href="#cb35-61" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">41</span> <span class="op">=</span> irΩ<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-62"><a href="#cb35-62" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">42</span> <span class="op">=</span> (irΩ <span class="op">*</span> D)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-63"><a href="#cb35-63" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">43</span> <span class="op">=</span> (P)(<span class="op">%</span><span class="fl">42</span>)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-64"><a href="#cb35-64" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">44</span> <span class="op">=</span> irΩ<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-65"><a href="#cb35-65" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">45</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">40</span> <span class="op">*</span> <span class="op">%</span><span class="fl">41</span> <span class="op">*</span> <span class="op">%</span><span class="fl">43</span> <span class="op">*</span> <span class="op">%</span><span class="fl">44</span> <span class="op">*</span> gn)<span class="op">::</span><span class="dt">Matrix{Float64}</span></span>
<span id="cb35-66"><a href="#cb35-66" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">46</span> <span class="op">=</span> <span class="bu">Base</span>.<span class="fu">getindex</span>(<span class="op">%</span><span class="fl">45</span>, <span class="fl">1</span>)<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb35-67"><a href="#cb35-67" aria-hidden="true" tabindex="-1"></a>│   <span class="op">%</span><span class="fl">47</span> <span class="op">=</span> (<span class="op">%</span><span class="fl">39</span> <span class="op">*</span> <span class="op">%</span><span class="fl">46</span>)<span class="op">::</span><span class="dt">Float64</span></span>
<span id="cb35-68"><a href="#cb35-68" aria-hidden="true" tabindex="-1"></a>└──       <span class="cf">return</span> <span class="op">%</span><span class="fl">47</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Fixing these type instabilities speeds up the code by a factor of about 5.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  132.812 μs …   9.251 ms  ┊ GC (min … max):  0.00% … 90
.89%
 Time  (median):     148.332 μs               ┊ GC (median):     0.00%
 Time  (mean ± σ):   174.327 μs ± 435.225 μs  ┊ GC (mean ± σ):  12.87% ±  5
.07%

                ▃▆██▅▂                                           
  ▂▂▂▂▂▂▃▄▄▄▅▅▆████████▇▆▆▅▅▄▄▄▃▃▃▃▃▃▃▃▃▂▃▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▂▁▂ ▃
  133 μs           Histogram: frequency by time          186 μs &lt;

 Memory estimate: 219.61 KiB, allocs estimate: 1516.</code></pre>
</section>
<section id="reducing-allocations-and-other-optimizations" class="level2">
<h2 class="anchored" data-anchor-id="reducing-allocations-and-other-optimizations">Reducing allocations and Other Optimizations</h2>
<p>Profiling reveals the majority of time is spent in the innermost loop of the <code>statparts</code> function. This loop allocates quite a bit because the arrays are using slices. We can avoid allocations by using <code>@views</code> and more broadcasting. See <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#man-performance-views">“Consider using views for slices”</a> and <a href="https://docs.julialang.org/en/v1/manual/performance-tips/#More-dots:-Fuse-vectorized-operations">“More dots”</a>,</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">statparts</span>(gi<span class="op">::</span><span class="dt">F</span>) <span class="kw">where</span> {F <span class="op">&lt;:</span><span class="dt"> Function</span>}</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">P</span>(A<span class="op">::</span><span class="dt">AbstractMatrix</span>) <span class="co"># projection matrix</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">A*pinv</span>(A<span class="op">'*</span>A)<span class="op">*</span>A<span class="op">'</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> gi<span class="op">=</span>gi</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span>(θ)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>      giθ <span class="op">=</span> <span class="fu">gi</span>(θ)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>      p <span class="op">=</span> <span class="fu">length</span>(θ)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>      (n, k) <span class="op">=</span> <span class="fu">size</span>(giθ)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>      Ω <span class="op">=</span> <span class="fu">Hermitian</span>(<span class="fu">cov</span>(giθ))</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>      gn<span class="op">=</span><span class="fu">mean</span>(<span class="fu">gi</span>(θ), dims<span class="op">=</span><span class="fl">1</span>)<span class="ch">'</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>      iΩgn <span class="op">=</span> Ω <span class="op">\</span> gn</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>      Gi <span class="op">=</span> <span class="fu">zeros</span>(n,k,p)</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>      ForwardDiff.<span class="fu">jacobian!</span>(Gi,gi,θ)</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>      Gi <span class="op">=</span> <span class="fu">reshape</span>(Gi, n , k, p)</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>      G <span class="op">=</span> <span class="fu">mean</span>(Gi, dims<span class="op">=</span><span class="fl">1</span>)</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>      Γ <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),p,k,k)</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>      D <span class="op">=</span> <span class="fu">zeros</span>(<span class="fu">eltype</span>(Gi),k, p)</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>      <span class="pp">@inbounds</span> <span class="cf">for</span> j <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>p</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>        <span class="pp">@inbounds</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>n</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>          <span class="pp">@views</span> Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">.+=</span> (Gi[i,<span class="op">:</span>,j] <span class="op">.-</span> G[<span class="fl">1</span>,<span class="op">:</span>,j]) <span class="op">*</span> giθ[i,<span class="op">:</span>]<span class="ch">'</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>        Γ[j,<span class="op">:</span>,<span class="op">:</span>] <span class="op">./=</span> n</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>        <span class="pp">@views</span> D[<span class="op">:</span>,j] <span class="op">.=</span> G[<span class="fl">1</span>,<span class="op">:</span>,j] <span class="op">.-</span> Γ[j,<span class="op">:</span>,<span class="op">:</span>]<span class="op">*</span>iΩgn</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span>(n,k,p,gn, Ω, D, P)</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a><span class="pp">@benchmark</span> <span class="fu">klm</span>(gi)(β<span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>BenchmarkTools.Trial: 10000 samples with 1 evaluation.
 Range (min … max):  69.363 μs …   6.704 ms  ┊ GC (min … max):  0.00% … 92.
90%
 Time  (median):     76.354 μs               ┊ GC (median):     0.00%
 Time  (mean ± σ):   86.922 μs ± 255.393 μs  ┊ GC (mean ± σ):  11.10% ±  3.
73%

               ▁▁▃▄▆▅▇▇▆█▆▇▄▃▂                                  
  ▁▁▁▁▁▂▂▃▃▄▅▆█████████████████▇▆▅▄▃▃▂▂▂▂▂▂▂▂▁▁▂▁▁▁▁▁▁▁▁▁▁▁▁▁▁ ▃
  69.4 μs         Histogram: frequency by time           89 μs &lt;

 Memory estimate: 118.53 KiB, allocs estimate: 501.</code></pre>
<p>The code is now about ten times faster than the original.</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Like scalar variables, StaticArrays exist on the stack instead of the heap, so creating them is much less costly and they do not count toward the reported allocations.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/schrimpf\.github\.io\/ARGridBootstrap\.jl\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>